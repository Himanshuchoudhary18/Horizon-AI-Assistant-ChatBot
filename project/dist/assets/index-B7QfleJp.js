function Ty(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var df={exports:{}},Ua={},hf={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Ay=Symbol.for("react.portal"),Ry=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Iy=Symbol.for("react.provider"),$y=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),My=Symbol.for("react.memo"),Fy=Symbol.for("react.lazy"),nd=Symbol.iterator;function Uy(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function Fr(t,e,n){this.props=t,this.context=e,this.refs=mf,this.updater=n||ff}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gf(){}gf.prototype=Fr.prototype;function Ru(t,e,n){this.props=t,this.context=e,this.refs=mf,this.updater=n||ff}var ju=Ru.prototype=new gf;ju.constructor=Ru;pf(ju,Fr.prototype);ju.isPureReactComponent=!0;var rd=Array.isArray,yf=Object.prototype.hasOwnProperty,Nu={current:null},vf={key:!0,ref:!0,__self:!0,__source:!0};function wf(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)yf.call(e,r)&&!vf.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Zs,type:t,key:i,ref:a,props:s,_owner:Nu.current}}function zy(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function By(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sd=/\/+/g;function Eo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?By(""+t.key):e.toString(36)}function Vi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zs:case Ay:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Eo(a,0):r,rd(s)?(n="",t!=null&&(n=t.replace(sd,"$&/")+"/"),Vi(s,e,n,"",function(u){return u})):s!=null&&(Iu(s)&&(s=zy(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(sd,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",rd(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Eo(i,o);a+=Vi(i,e,n,l,s)}else if(l=Uy(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Eo(i,o++),a+=Vi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function mi(t,e,n){if(t==null)return t;var r=[],s=0;return Vi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Wy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Re={current:null},Hi={transition:null},Vy={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Hi,ReactCurrentOwner:Nu};function _f(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:mi,forEach:function(t,e,n){mi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mi(t,function(){e++}),e},toArray:function(t){return mi(t,function(e){return e})||[]},only:function(t){if(!Iu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Fr;L.Fragment=Ry;L.Profiler=Ny;L.PureComponent=Ru;L.StrictMode=jy;L.Suspense=Ly;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;L.act=_f;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pf({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Nu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)yf.call(e,l)&&!vf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Zs,type:t.type,key:s,ref:i,props:r,_owner:a}};L.createContext=function(t){return t={$$typeof:$y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Iy,_context:t},t.Consumer=t};L.createElement=wf;L.createFactory=function(t){var e=wf.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Dy,render:t}};L.isValidElement=Iu;L.lazy=function(t){return{$$typeof:Fy,_payload:{_status:-1,_result:t},_init:Wy}};L.memo=function(t,e){return{$$typeof:My,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=Hi.transition;Hi.transition={};try{t()}finally{Hi.transition=e}};L.unstable_act=_f;L.useCallback=function(t,e){return Re.current.useCallback(t,e)};L.useContext=function(t){return Re.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return Re.current.useDeferredValue(t)};L.useEffect=function(t,e){return Re.current.useEffect(t,e)};L.useId=function(){return Re.current.useId()};L.useImperativeHandle=function(t,e,n){return Re.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return Re.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return Re.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return Re.current.useMemo(t,e)};L.useReducer=function(t,e,n){return Re.current.useReducer(t,e,n)};L.useRef=function(t){return Re.current.useRef(t)};L.useState=function(t){return Re.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return Re.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return Re.current.useTransition()};L.version="18.3.1";hf.exports=L;var C=hf.exports;const $u=cf(C),Hy=Ty({__proto__:null,default:$u},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=C,Jy=Symbol.for("react.element"),Qy=Symbol.for("react.fragment"),Ky=Object.prototype.hasOwnProperty,Gy=qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yy={key:!0,ref:!0,__self:!0,__source:!0};function xf(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ky.call(e,r)&&!Yy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Jy,type:t,key:i,ref:a,props:s,_owner:Gy.current}}Ua.Fragment=Qy;Ua.jsx=xf;Ua.jsxs=xf;df.exports=Ua;var w=df.exports,kf={exports:{}},Ge={},Sf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,I){var D=O.length;O.push(I);e:for(;0<D;){var se=D-1>>>1,fe=O[se];if(0<s(fe,I))O[se]=I,O[D]=fe,D=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var I=O[0],D=O.pop();if(D!==I){O[0]=D;e:for(var se=0,fe=O.length,fi=fe>>>1;se<fi;){var _n=2*(se+1)-1,bo=O[_n],xn=_n+1,pi=O[xn];if(0>s(bo,D))xn<fe&&0>s(pi,bo)?(O[se]=pi,O[xn]=D,se=xn):(O[se]=bo,O[_n]=D,se=_n);else if(xn<fe&&0>s(pi,D))O[se]=pi,O[xn]=D,se=xn;else break e}}return I}function s(O,I){var D=O.sortIndex-I.sortIndex;return D!==0?D:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=O)r(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(u)}}function _(O){if(y=!1,g(O),!v)if(n(l)!==null)v=!0,At(k);else{var I=n(u);I!==null&&So(_,I.startTime-O)}}function k(O,I){v=!1,y&&(y=!1,p(P),P=-1),m=!0;var D=h;try{for(g(I),d=n(l);d!==null&&(!(d.expirationTime>I)||O&&!N());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var fe=se(d.expirationTime<=I);I=t.unstable_now(),typeof fe=="function"?d.callback=fe:d===n(l)&&r(l),g(I)}else r(l);d=n(l)}if(d!==null)var fi=!0;else{var _n=n(u);_n!==null&&So(_,_n.startTime-I),fi=!1}return fi}finally{d=null,h=D,m=!1}}var E=!1,S=null,P=-1,j=5,A=-1;function N(){return!(t.unstable_now()-A<j)}function M(){if(S!==null){var O=t.unstable_now();A=O;var I=!0;try{I=S(!0,O)}finally{I?ne():(E=!1,S=null)}}else E=!1}var ne;if(typeof f=="function")ne=function(){f(M)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Vt=wt.port2;wt.port1.onmessage=M,ne=function(){Vt.postMessage(null)}}else ne=function(){x(M,0)};function At(O){S=O,E||(E=!0,ne())}function So(O,I){P=x(function(){O(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,At(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return O()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return I()}finally{h=D}},t.unstable_scheduleCallback=function(O,I,D){var se=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?se+D:se):D=se,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=D+fe,O={id:c++,callback:I,priorityLevel:O,startTime:D,expirationTime:fe,sortIndex:-1},D>se?(O.sortIndex=D,e(u,O),n(l)===null&&O===n(u)&&(y?(p(P),P=-1):y=!0,So(_,D-se))):(O.sortIndex=fe,e(l,O),v||m||(v=!0,At(k))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var I=h;return function(){var D=h;h=I;try{return O.apply(this,arguments)}finally{h=D}}}})(bf);Sf.exports=bf;var Xy=Sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=C,Ke=Xy;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ef=new Set,As={};function Wn(t,e){Tr(t,e),Tr(t+"Capture",e)}function Tr(t,e){for(As[t]=e,t=0;t<e.length;t++)Ef.add(e[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=Object.prototype.hasOwnProperty,e0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,id={},ad={};function t0(t){return gl.call(ad,t)?!0:gl.call(id,t)?!1:e0.test(t)?ad[t]=!0:(id[t]=!0,!1)}function n0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r0(t,e,n,r){if(e===null||typeof e>"u"||n0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Du=/[\-:]([a-z])/g;function Lu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Du,Lu);xe[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Du,Lu);xe[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Du,Lu);xe[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mu(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r0(e,n,s,r)&&(n=null),r||s===null?t0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wt=Zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gi=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),vl=Symbol.for("react.suspense"),wl=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),od=Symbol.iterator;function Qr(t){return t===null||typeof t!="object"?null:(t=od&&t[od]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Co;function as(t){if(Co===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Co=e&&e[1]||""}return`
`+Co+t}var Po=!1;function To(t,e){if(!t||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function s0(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=To(t.type,!1),t;case 11:return t=To(t.type.render,!1),t;case 1:return t=To(t.type,!0),t;default:return""}}function _l(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ir:return"Fragment";case sr:return"Portal";case yl:return"Profiler";case Fu:return"StrictMode";case vl:return"Suspense";case wl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pf:return(t.displayName||"Context")+".Consumer";case Cf:return(t._context.displayName||"Context")+".Provider";case Uu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zu:return e=t.displayName||null,e!==null?e:_l(t.type)||"Memo";case Gt:e=t._payload,t=t._init;try{return _l(t(e))}catch{}}return null}function i0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(e);case 8:return e===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Of(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a0(t){var e=Of(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yi(t){t._valueTracker||(t._valueTracker=a0(t))}function Af(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Of(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xl(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ld(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rf(t,e){e=e.checked,e!=null&&Mu(t,"checked",e,!1)}function kl(t,e){Rf(t,e);var n=pn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sl(t,e.type,pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ud(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sl(t,e,n){(e!=="number"||ua(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var os=Array.isArray;function yr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(os(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pn(n)}}function jf(t,e){var n=pn(e.value),r=pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vi,If=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o0=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(t){o0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ys[e]=ys[t]})});function $f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ys.hasOwnProperty(t)&&ys[t]?(""+e).trim():e+"px"}function Df(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var l0=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(t,e){if(e){if(l0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Pl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=null;function Bu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ol=null,vr=null,wr=null;function hd(t){if(t=ni(t)){if(typeof Ol!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Ha(e),Ol(t.stateNode,t.type,e))}}function Lf(t){vr?wr?wr.push(t):wr=[t]:vr=t}function Mf(){if(vr){var t=vr,e=wr;if(wr=vr=null,hd(t),e)for(t=0;t<e.length;t++)hd(e[t])}}function Ff(t,e){return t(e)}function Uf(){}var Oo=!1;function zf(t,e,n){if(Oo)return t(e,n);Oo=!0;try{return Ff(t,e,n)}finally{Oo=!1,(vr!==null||wr!==null)&&(Uf(),Mf())}}function js(t,e){var n=t.stateNode;if(n===null)return null;var r=Ha(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Al=!1;if(Ft)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Al=!1}function u0(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vs=!1,ca=null,da=!1,Rl=null,c0={onError:function(t){vs=!0,ca=t}};function d0(t,e,n,r,s,i,a,o,l){vs=!1,ca=null,u0.apply(c0,arguments)}function h0(t,e,n,r,s,i,a,o,l){if(d0.apply(this,arguments),vs){if(vs){var u=ca;vs=!1,ca=null}else throw Error(b(198));da||(da=!0,Rl=u)}}function Vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fd(t){if(Vn(t)!==t)throw Error(b(188))}function f0(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return fd(s),t;if(i===r)return fd(s),e;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Wf(t){return t=f0(t),t!==null?Vf(t):null}function Vf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vf(t);if(e!==null)return e;t=t.sibling}return null}var Hf=Ke.unstable_scheduleCallback,pd=Ke.unstable_cancelCallback,p0=Ke.unstable_shouldYield,m0=Ke.unstable_requestPaint,ie=Ke.unstable_now,g0=Ke.unstable_getCurrentPriorityLevel,Wu=Ke.unstable_ImmediatePriority,qf=Ke.unstable_UserBlockingPriority,ha=Ke.unstable_NormalPriority,y0=Ke.unstable_LowPriority,Jf=Ke.unstable_IdlePriority,za=null,Tt=null;function v0(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(za,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:x0,w0=Math.log,_0=Math.LN2;function x0(t){return t>>>=0,t===0?32:31-(w0(t)/_0|0)|0}var wi=64,_i=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ls(o):(i&=a,i!==0&&(r=ls(i)))}else a=n&~s,a!==0?r=ls(a):i!==0&&(r=ls(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),s=1<<n,r|=t[n],e&=~s;return r}function k0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-mt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=k0(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function jl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qf(){var t=wi;return wi<<=1,!(wi&4194240)&&(wi=64),t}function Ao(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ei(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function b0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function Kf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gf,Hu,Yf,Xf,Zf,Nl=!1,xi=[],an=null,on=null,ln=null,Ns=new Map,Is=new Map,Zt=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(e.pointerId)}}function Gr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ni(e),e!==null&&Hu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function C0(t,e,n,r,s){switch(e){case"focusin":return an=Gr(an,t,e,n,r,s),!0;case"dragenter":return on=Gr(on,t,e,n,r,s),!0;case"mouseover":return ln=Gr(ln,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ns.set(i,Gr(Ns.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Is.set(i,Gr(Is.get(i)||null,t,e,n,r,s)),!0}return!1}function ep(t){var e=An(t.target);if(e!==null){var n=Vn(e);if(n!==null){if(e=n.tag,e===13){if(e=Bf(n),e!==null){t.blockedOn=e,Zf(t.priority,function(){Yf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Il(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tl=r,n.target.dispatchEvent(r),Tl=null}else return e=ni(n),e!==null&&Hu(e),t.blockedOn=n,!1;e.shift()}return!0}function gd(t,e,n){qi(t)&&n.delete(e)}function P0(){Nl=!1,an!==null&&qi(an)&&(an=null),on!==null&&qi(on)&&(on=null),ln!==null&&qi(ln)&&(ln=null),Ns.forEach(gd),Is.forEach(gd)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,Nl||(Nl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,P0)))}function $s(t){function e(s){return Yr(s,t)}if(0<xi.length){Yr(xi[0],t);for(var n=1;n<xi.length;n++){var r=xi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(an!==null&&Yr(an,t),on!==null&&Yr(on,t),ln!==null&&Yr(ln,t),Ns.forEach(e),Is.forEach(e),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)ep(n),n.blockedOn===null&&Zt.shift()}var _r=Wt.ReactCurrentBatchConfig,pa=!0;function T0(t,e,n,r){var s=H,i=_r.transition;_r.transition=null;try{H=1,qu(t,e,n,r)}finally{H=s,_r.transition=i}}function O0(t,e,n,r){var s=H,i=_r.transition;_r.transition=null;try{H=4,qu(t,e,n,r)}finally{H=s,_r.transition=i}}function qu(t,e,n,r){if(pa){var s=Il(t,e,n,r);if(s===null)Uo(t,e,r,ma,n),md(t,r);else if(C0(s,t,e,n,r))r.stopPropagation();else if(md(t,r),e&4&&-1<E0.indexOf(t)){for(;s!==null;){var i=ni(s);if(i!==null&&Gf(i),i=Il(t,e,n,r),i===null&&Uo(t,e,r,ma,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uo(t,e,r,null,n)}}var ma=null;function Il(t,e,n,r){if(ma=null,t=Bu(r),t=An(t),t!==null)if(e=Vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ma=t,null}function tp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case Wu:return 1;case qf:return 4;case ha:case y0:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var nn=null,Ju=null,Ji=null;function np(){if(Ji)return Ji;var t,e=Ju,n=e.length,r,s="value"in nn?nn.value:nn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Ji=s.slice(t,1<r?1-r:void 0)}function Qi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function yd(){return!1}function Ye(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ki:yd,this.isPropagationStopped=yd,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),e}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=Ye(Ur),ti=te({},Ur,{view:0,detail:0}),A0=Ye(ti),Ro,jo,Xr,Ba=te({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Ro=t.screenX-Xr.screenX,jo=t.screenY-Xr.screenY):jo=Ro=0,Xr=t),Ro)},movementY:function(t){return"movementY"in t?t.movementY:jo}}),vd=Ye(Ba),R0=te({},Ba,{dataTransfer:0}),j0=Ye(R0),N0=te({},ti,{relatedTarget:0}),No=Ye(N0),I0=te({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=Ye(I0),D0=te({},Ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L0=Ye(D0),M0=te({},Ur,{data:0}),wd=Ye(M0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z0[t])?!!e[t]:!1}function Ku(){return B0}var W0=te({},ti,{key:function(t){if(t.key){var e=F0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V0=Ye(W0),H0=te({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Ye(H0),q0=te({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),J0=Ye(q0),Q0=te({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Ye(Q0),G0=te({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=Ye(G0),X0=[9,13,27,32],Gu=Ft&&"CompositionEvent"in window,ws=null;Ft&&"documentMode"in document&&(ws=document.documentMode);var Z0=Ft&&"TextEvent"in window&&!ws,rp=Ft&&(!Gu||ws&&8<ws&&11>=ws),xd=" ",kd=!1;function sp(t,e){switch(t){case"keyup":return X0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ar=!1;function ev(t,e){switch(t){case"compositionend":return ip(e);case"keypress":return e.which!==32?null:(kd=!0,xd);case"textInput":return t=e.data,t===xd&&kd?null:t;default:return null}}function tv(t,e){if(ar)return t==="compositionend"||!Gu&&sp(t,e)?(t=np(),Ji=Ju=nn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rp&&e.locale!=="ko"?null:e.data;default:return null}}var nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nv[t.type]:e==="textarea"}function ap(t,e,n,r){Lf(r),e=ga(e,"onChange"),0<e.length&&(n=new Qu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _s=null,Ds=null;function rv(t){yp(t,0)}function Wa(t){var e=ur(t);if(Af(e))return t}function sv(t,e){if(t==="change")return e}var op=!1;if(Ft){var Io;if(Ft){var $o="oninput"in document;if(!$o){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),$o=typeof bd.oninput=="function"}Io=$o}else Io=!1;op=Io&&(!document.documentMode||9<document.documentMode)}function Ed(){_s&&(_s.detachEvent("onpropertychange",lp),Ds=_s=null)}function lp(t){if(t.propertyName==="value"&&Wa(Ds)){var e=[];ap(e,Ds,t,Bu(t)),zf(rv,e)}}function iv(t,e,n){t==="focusin"?(Ed(),_s=e,Ds=n,_s.attachEvent("onpropertychange",lp)):t==="focusout"&&Ed()}function av(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wa(Ds)}function ov(t,e){if(t==="click")return Wa(e)}function lv(t,e){if(t==="input"||t==="change")return Wa(e)}function uv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:uv;function Ls(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gl.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,e){var n=Cd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function up(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?up(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cp(){for(var t=window,e=ua();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ua(t.document)}return e}function Yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cv(t){var e=cp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&up(n.ownerDocument.documentElement,n)){if(r!==null&&Yu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pd(n,i);var a=Pd(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dv=Ft&&"documentMode"in document&&11>=document.documentMode,or=null,$l=null,xs=null,Dl=!1;function Td(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dl||or==null||or!==ua(r)||(r=or,"selectionStart"in r&&Yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Ls(xs,r)||(xs=r,r=ga($l,"onSelect"),0<r.length&&(e=new Qu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=or)))}function Si(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lr={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},Do={},dp={};Ft&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Va(t){if(Do[t])return Do[t];if(!lr[t])return t;var e=lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dp)return Do[t]=e[n];return t}var hp=Va("animationend"),fp=Va("animationiteration"),pp=Va("animationstart"),mp=Va("transitionend"),gp=new Map,Od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(t,e){gp.set(t,e),Wn(e,[t])}for(var Lo=0;Lo<Od.length;Lo++){var Mo=Od[Lo],hv=Mo.toLowerCase(),fv=Mo[0].toUpperCase()+Mo.slice(1);gn(hv,"on"+fv)}gn(hp,"onAnimationEnd");gn(fp,"onAnimationIteration");gn(pp,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(mp,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Ad(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h0(r,e,void 0,t),t.currentTarget=null}function yp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Ad(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Ad(s,o,u),i=l}}}if(da)throw t=Rl,da=!1,Rl=null,t}function K(t,e){var n=e[zl];n===void 0&&(n=e[zl]=new Set);var r=t+"__bubble";n.has(r)||(vp(e,t,2,!1),n.add(r))}function Fo(t,e,n){var r=0;e&&(r|=4),vp(n,t,r,e)}var bi="_reactListening"+Math.random().toString(36).slice(2);function Ms(t){if(!t[bi]){t[bi]=!0,Ef.forEach(function(n){n!=="selectionchange"&&(pv.has(n)||Fo(n,!1,t),Fo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bi]||(e[bi]=!0,Fo("selectionchange",!1,e))}}function vp(t,e,n,r){switch(tp(e)){case 1:var s=T0;break;case 4:s=O0;break;default:s=qu}n=s.bind(null,e,n,t),s=void 0,!Al||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=An(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}zf(function(){var u=i,c=Bu(n),d=[];e:{var h=gp.get(t);if(h!==void 0){var m=Qu,v=t;switch(t){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":m=V0;break;case"focusin":v="focus",m=No;break;case"focusout":v="blur",m=No;break;case"beforeblur":case"afterblur":m=No;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=J0;break;case hp:case fp:case pp:m=$0;break;case mp:m=K0;break;case"scroll":m=A0;break;case"wheel":m=Y0;break;case"copy":case"cut":case"paste":m=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_d}var y=(e&4)!==0,x=!y&&t==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var f=u,g;f!==null;){g=f;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=js(f,p),_!=null&&y.push(Fs(f,_,g)))),x)break;f=f.return}0<y.length&&(h=new m(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Tl&&(v=n.relatedTarget||n.fromElement)&&(An(v)||v[Ut]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?An(v):null,v!==null&&(x=Vn(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=vd,_="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=_d,_="onPointerLeave",p="onPointerEnter",f="pointer"),x=m==null?h:ur(m),g=v==null?h:ur(v),h=new y(_,f+"leave",m,n,c),h.target=x,h.relatedTarget=g,_=null,An(c)===u&&(y=new y(p,f+"enter",v,n,c),y.target=g,y.relatedTarget=x,_=y),x=_,m&&v)t:{for(y=m,p=v,f=0,g=y;g;g=Qn(g))f++;for(g=0,_=p;_;_=Qn(_))g++;for(;0<f-g;)y=Qn(y),f--;for(;0<g-f;)p=Qn(p),g--;for(;f--;){if(y===p||p!==null&&y===p.alternate)break t;y=Qn(y),p=Qn(p)}y=null}else y=null;m!==null&&Rd(d,h,m,y,!1),v!==null&&x!==null&&Rd(d,x,v,y,!0)}}e:{if(h=u?ur(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=sv;else if(Sd(h))if(op)k=lv;else{k=av;var E=iv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=ov);if(k&&(k=k(t,u))){ap(d,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Sl(h,"number",h.value)}switch(E=u?ur(u):window,t){case"focusin":(Sd(E)||E.contentEditable==="true")&&(or=E,$l=u,xs=null);break;case"focusout":xs=$l=or=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Td(d,n,c);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":Td(d,n,c)}var S;if(Gu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ar?sp(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rp&&n.locale!=="ko"&&(ar||P!=="onCompositionStart"?P==="onCompositionEnd"&&ar&&(S=np()):(nn=c,Ju="value"in nn?nn.value:nn.textContent,ar=!0)),E=ga(u,P),0<E.length&&(P=new wd(P,t,null,n,c),d.push({event:P,listeners:E}),S?P.data=S:(S=ip(n),S!==null&&(P.data=S)))),(S=Z0?ev(t,n):tv(t,n))&&(u=ga(u,"onBeforeInput"),0<u.length&&(c=new wd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}yp(d,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ga(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=js(t,n),i!=null&&r.unshift(Fs(t,i,s)),i=js(t,e),i!=null&&r.push(Fs(t,i,s))),t=t.return}return r}function Qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rd(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=js(n,i),l!=null&&a.unshift(Fs(n,l,o))):s||(l=js(n,i),l!=null&&a.push(Fs(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var mv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(mv,`
`).replace(gv,"")}function Ei(t,e,n){if(e=jd(e),jd(t)!==e&&n)throw Error(b(425))}function ya(){}var Ll=null,Ml=null;function Fl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(t){return Nd.resolve(null).then(t).catch(wv)}:Ul;function wv(t){setTimeout(function(){throw t})}function zo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$s(e)}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Id(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+zr,Us="__reactProps$"+zr,Ut="__reactContainer$"+zr,zl="__reactEvents$"+zr,_v="__reactListeners$"+zr,xv="__reactHandles$"+zr;function An(t){var e=t[Ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Id(t);t!==null;){if(n=t[Ct])return n;t=Id(t)}return e}t=n,n=t.parentNode}return null}function ni(t){return t=t[Ct]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Ha(t){return t[Us]||null}var Bl=[],cr=-1;function yn(t){return{current:t}}function G(t){0>cr||(t.current=Bl[cr],Bl[cr]=null,cr--)}function Q(t,e){cr++,Bl[cr]=t.current,t.current=e}var mn={},Pe=yn(mn),Me=yn(!1),Ln=mn;function Or(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(t){return t=t.childContextTypes,t!=null}function va(){G(Me),G(Pe)}function $d(t,e,n){if(Pe.current!==mn)throw Error(b(168));Q(Pe,e),Q(Me,n)}function wp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,i0(t)||"Unknown",s));return te({},n,r)}function wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,Ln=Pe.current,Q(Pe,t),Q(Me,Me.current),!0}function Dd(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=wp(t,e,Ln),r.__reactInternalMemoizedMergedChildContext=t,G(Me),G(Pe),Q(Pe,t)):G(Me),Q(Me,n)}var $t=null,qa=!1,Bo=!1;function _p(t){$t===null?$t=[t]:$t.push(t)}function kv(t){qa=!0,_p(t)}function vn(){if(!Bo&&$t!==null){Bo=!0;var t=0,e=H;try{var n=$t;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,qa=!1}catch(s){throw $t!==null&&($t=$t.slice(t+1)),Hf(Wu,vn),s}finally{H=e,Bo=!1}}return null}var dr=[],hr=0,_a=null,xa=0,Ze=[],et=0,Mn=null,Dt=1,Lt="";function bn(t,e){dr[hr++]=xa,dr[hr++]=_a,_a=t,xa=e}function xp(t,e,n){Ze[et++]=Dt,Ze[et++]=Lt,Ze[et++]=Mn,Mn=t;var r=Dt;t=Lt;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Dt=1<<32-mt(e)+s|n<<s|r,Lt=i+t}else Dt=1<<i|n<<s|r,Lt=t}function Xu(t){t.return!==null&&(bn(t,1),xp(t,1,0))}function Zu(t){for(;t===_a;)_a=dr[--hr],dr[hr]=null,xa=dr[--hr],dr[hr]=null;for(;t===Mn;)Mn=Ze[--et],Ze[et]=null,Lt=Ze[--et],Ze[et]=null,Dt=Ze[--et],Ze[et]=null}var Je=null,qe=null,Y=!1,ht=null;function kp(t,e){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ld(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,qe=un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mn!==null?{id:Dt,overflow:Lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,qe=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vl(t){if(Y){var e=qe;if(e){var n=e;if(!Ld(t,e)){if(Wl(t))throw Error(b(418));e=un(n.nextSibling);var r=Je;e&&Ld(t,e)?kp(r,n):(t.flags=t.flags&-4097|2,Y=!1,Je=t)}}else{if(Wl(t))throw Error(b(418));t.flags=t.flags&-4097|2,Y=!1,Je=t}}}function Md(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Ci(t){if(t!==Je)return!1;if(!Y)return Md(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fl(t.type,t.memoizedProps)),e&&(e=qe)){if(Wl(t))throw Sp(),Error(b(418));for(;e;)kp(t,e),e=un(e.nextSibling)}if(Md(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qe=un(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=Je?un(t.stateNode.nextSibling):null;return!0}function Sp(){for(var t=qe;t;)t=un(t.nextSibling)}function Ar(){qe=Je=null,Y=!1}function ec(t){ht===null?ht=[t]:ht.push(t)}var Sv=Wt.ReactCurrentBatchConfig;function Zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Pi(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fd(t){var e=t._init;return e(t._payload)}function bp(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=fn(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function o(p,f,g,_){return f===null||f.tag!==6?(f=Ko(g,p.mode,_),f.return=p,f):(f=s(f,g),f.return=p,f)}function l(p,f,g,_){var k=g.type;return k===ir?c(p,f,g.props.children,_,g.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&Fd(k)===f.type)?(_=s(f,g.props),_.ref=Zr(p,f,g),_.return=p,_):(_=ta(g.type,g.key,g.props,null,p.mode,_),_.ref=Zr(p,f,g),_.return=p,_)}function u(p,f,g,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Go(g,p.mode,_),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function c(p,f,g,_,k){return f===null||f.tag!==7?(f=$n(g,p.mode,_,k),f.return=p,f):(f=s(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ko(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gi:return g=ta(f.type,f.key,f.props,null,p.mode,g),g.ref=Zr(p,null,f),g.return=p,g;case sr:return f=Go(f,p.mode,g),f.return=p,f;case Gt:var _=f._init;return d(p,_(f._payload),g)}if(os(f)||Qr(f))return f=$n(f,p.mode,g,null),f.return=p,f;Pi(p,f)}return null}function h(p,f,g,_){var k=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(p,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gi:return g.key===k?l(p,f,g,_):null;case sr:return g.key===k?u(p,f,g,_):null;case Gt:return k=g._init,h(p,f,k(g._payload),_)}if(os(g)||Qr(g))return k!==null?null:c(p,f,g,_,null);Pi(p,g)}return null}function m(p,f,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,o(f,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gi:return p=p.get(_.key===null?g:_.key)||null,l(f,p,_,k);case sr:return p=p.get(_.key===null?g:_.key)||null,u(f,p,_,k);case Gt:var E=_._init;return m(p,f,g,E(_._payload),k)}if(os(_)||Qr(_))return p=p.get(g)||null,c(f,p,_,k,null);Pi(f,_)}return null}function v(p,f,g,_){for(var k=null,E=null,S=f,P=f=0,j=null;S!==null&&P<g.length;P++){S.index>P?(j=S,S=null):j=S.sibling;var A=h(p,S,g[P],_);if(A===null){S===null&&(S=j);break}t&&S&&A.alternate===null&&e(p,S),f=i(A,f,P),E===null?k=A:E.sibling=A,E=A,S=j}if(P===g.length)return n(p,S),Y&&bn(p,P),k;if(S===null){for(;P<g.length;P++)S=d(p,g[P],_),S!==null&&(f=i(S,f,P),E===null?k=S:E.sibling=S,E=S);return Y&&bn(p,P),k}for(S=r(p,S);P<g.length;P++)j=m(S,p,P,g[P],_),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?P:j.key),f=i(j,f,P),E===null?k=j:E.sibling=j,E=j);return t&&S.forEach(function(N){return e(p,N)}),Y&&bn(p,P),k}function y(p,f,g,_){var k=Qr(g);if(typeof k!="function")throw Error(b(150));if(g=k.call(g),g==null)throw Error(b(151));for(var E=k=null,S=f,P=f=0,j=null,A=g.next();S!==null&&!A.done;P++,A=g.next()){S.index>P?(j=S,S=null):j=S.sibling;var N=h(p,S,A.value,_);if(N===null){S===null&&(S=j);break}t&&S&&N.alternate===null&&e(p,S),f=i(N,f,P),E===null?k=N:E.sibling=N,E=N,S=j}if(A.done)return n(p,S),Y&&bn(p,P),k;if(S===null){for(;!A.done;P++,A=g.next())A=d(p,A.value,_),A!==null&&(f=i(A,f,P),E===null?k=A:E.sibling=A,E=A);return Y&&bn(p,P),k}for(S=r(p,S);!A.done;P++,A=g.next())A=m(S,p,P,A.value,_),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?P:A.key),f=i(A,f,P),E===null?k=A:E.sibling=A,E=A);return t&&S.forEach(function(M){return e(p,M)}),Y&&bn(p,P),k}function x(p,f,g,_){if(typeof g=="object"&&g!==null&&g.type===ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case gi:e:{for(var k=g.key,E=f;E!==null;){if(E.key===k){if(k=g.type,k===ir){if(E.tag===7){n(p,E.sibling),f=s(E,g.props.children),f.return=p,p=f;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&Fd(k)===E.type){n(p,E.sibling),f=s(E,g.props),f.ref=Zr(p,E,g),f.return=p,p=f;break e}n(p,E);break}else e(p,E);E=E.sibling}g.type===ir?(f=$n(g.props.children,p.mode,_,g.key),f.return=p,p=f):(_=ta(g.type,g.key,g.props,null,p.mode,_),_.ref=Zr(p,f,g),_.return=p,p=_)}return a(p);case sr:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=Go(g,p.mode,_),f.return=p,p=f}return a(p);case Gt:return E=g._init,x(p,f,E(g._payload),_)}if(os(g))return v(p,f,g,_);if(Qr(g))return y(p,f,g,_);Pi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,g),f.return=p,p=f):(n(p,f),f=Ko(g,p.mode,_),f.return=p,p=f),a(p)):n(p,f)}return x}var Rr=bp(!0),Ep=bp(!1),ka=yn(null),Sa=null,fr=null,tc=null;function nc(){tc=fr=Sa=null}function rc(t){var e=ka.current;G(ka),t._currentValue=e}function Hl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xr(t,e){Sa=t,tc=fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(tc!==t)if(t={context:t,memoizedValue:e,next:null},fr===null){if(Sa===null)throw Error(b(308));fr=t,Sa.dependencies={lanes:0,firstContext:t}}else fr=fr.next=t;return e}var Rn=null;function sc(t){Rn===null?Rn=[t]:Rn.push(t)}function Cp(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sc(e)):(n.next=s.next,s.next=n),e.interleaved=n,zt(t,r)}function zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yt=!1;function ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zt(t,n)}return s=r.interleaved,s===null?(e.next=e,sc(r)):(e.next=s.next,s.next=e),r.interleaved=e,zt(t,n)}function Ki(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vu(t,n)}}function Ud(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ba(t,e,n,r){var s=t.updateQueue;Yt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(h=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=te({},d,h);break e;case 2:Yt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Un|=a,t.lanes=a,t.memoizedState=d}}function zd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var ri={},Ot=yn(ri),zs=yn(ri),Bs=yn(ri);function jn(t){if(t===ri)throw Error(b(174));return t}function ac(t,e){switch(Q(Bs,e),Q(zs,t),Q(Ot,ri),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:El(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=El(e,t)}G(Ot),Q(Ot,e)}function jr(){G(Ot),G(zs),G(Bs)}function Tp(t){jn(Bs.current);var e=jn(Ot.current),n=El(e,t.type);e!==n&&(Q(zs,t),Q(Ot,n))}function oc(t){zs.current===t&&(G(Ot),G(zs))}var Z=yn(0);function Ea(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wo=[];function lc(){for(var t=0;t<Wo.length;t++)Wo[t]._workInProgressVersionPrimary=null;Wo.length=0}var Gi=Wt.ReactCurrentDispatcher,Vo=Wt.ReactCurrentBatchConfig,Fn=0,ee=null,de=null,ge=null,Ca=!1,ks=!1,Ws=0,bv=0;function Se(){throw Error(b(321))}function uc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function cc(t,e,n,r,s,i){if(Fn=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gi.current=t===null||t.memoizedState===null?Tv:Ov,t=n(r,s),ks){i=0;do{if(ks=!1,Ws=0,25<=i)throw Error(b(301));i+=1,ge=de=null,e.updateQueue=null,Gi.current=Av,t=n(r,s)}while(ks)}if(Gi.current=Pa,e=de!==null&&de.next!==null,Fn=0,ge=de=ee=null,Ca=!1,e)throw Error(b(300));return t}function dc(){var t=Ws!==0;return Ws=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ee.memoizedState=ge=t:ge=ge.next=t,ge}function it(){if(de===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ge===null?ee.memoizedState:ge.next;if(e!==null)ge=e,de=t;else{if(t===null)throw Error(b(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?ee.memoizedState=ge=t:ge=ge.next=t}return ge}function Vs(t,e){return typeof e=="function"?e(t):e}function Ho(t){var e=it(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Fn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ee.lanes|=c,Un|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,yt(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,Un|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qo(t){var e=it(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);yt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Op(){}function Ap(t,e){var n=ee,r=it(),s=e(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,hc(Np.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Hs(9,jp.bind(null,n,r,s,e),void 0,null),ye===null)throw Error(b(349));Fn&30||Rp(n,e,s)}return s}function Rp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jp(t,e,n,r){e.value=n,e.getSnapshot=r,Ip(e)&&$p(t)}function Np(t,e,n){return n(function(){Ip(e)&&$p(t)})}function Ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function $p(t){var e=zt(t,1);e!==null&&gt(e,t,1,-1)}function Bd(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:t},e.queue=t,t=t.dispatch=Pv.bind(null,ee,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dp(){return it().memoizedState}function Yi(t,e,n,r){var s=St();ee.flags|=t,s.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function Ja(t,e,n,r){var s=it();r=r===void 0?null:r;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,r!==null&&uc(r,a.deps)){s.memoizedState=Hs(e,n,i,r);return}}ee.flags|=t,s.memoizedState=Hs(1|e,n,i,r)}function Wd(t,e){return Yi(8390656,8,t,e)}function hc(t,e){return Ja(2048,8,t,e)}function Lp(t,e){return Ja(4,2,t,e)}function Mp(t,e){return Ja(4,4,t,e)}function Fp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Up(t,e,n){return n=n!=null?n.concat([t]):null,Ja(4,4,Fp.bind(null,e,t),n)}function fc(){}function zp(t,e){var n=it();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bp(t,e){var n=it();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wp(t,e,n){return Fn&21?(yt(n,e)||(n=Qf(),ee.lanes|=n,Un|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function Ev(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=Vo.transition;Vo.transition={};try{t(!1),e()}finally{H=n,Vo.transition=r}}function Vp(){return it().memoizedState}function Cv(t,e,n){var r=hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hp(t))qp(e,n);else if(n=Cp(t,e,n,r),n!==null){var s=Ae();gt(n,t,r,s),Jp(n,e,r)}}function Pv(t,e,n){var r=hn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hp(t))qp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,yt(o,a)){var l=e.interleaved;l===null?(s.next=s,sc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Cp(t,e,s,r),n!==null&&(s=Ae(),gt(n,t,r,s),Jp(n,e,r))}}function Hp(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function qp(t,e){ks=Ca=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vu(t,n)}}var Pa={readContext:st,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Tv={readContext:st,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Wd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yi(4194308,4,Fp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yi(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cv.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Bd,useDebugValue:fc,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Bd(!1),e=t[0];return t=Ev.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,s=St();if(Y){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ye===null)throw Error(b(349));Fn&30||Rp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Wd(Np.bind(null,r,i,t),[t]),r.flags|=2048,Hs(9,jp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=St(),e=ye.identifierPrefix;if(Y){var n=Lt,r=Dt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ws++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ov={readContext:st,useCallback:zp,useContext:st,useEffect:hc,useImperativeHandle:Up,useInsertionEffect:Lp,useLayoutEffect:Mp,useMemo:Bp,useReducer:Ho,useRef:Dp,useState:function(){return Ho(Vs)},useDebugValue:fc,useDeferredValue:function(t){var e=it();return Wp(e,de.memoizedState,t)},useTransition:function(){var t=Ho(Vs)[0],e=it().memoizedState;return[t,e]},useMutableSource:Op,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1},Av={readContext:st,useCallback:zp,useContext:st,useEffect:hc,useImperativeHandle:Up,useInsertionEffect:Lp,useLayoutEffect:Mp,useMemo:Bp,useReducer:qo,useRef:Dp,useState:function(){return qo(Vs)},useDebugValue:fc,useDeferredValue:function(t){var e=it();return de===null?e.memoizedState=t:Wp(e,de.memoizedState,t)},useTransition:function(){var t=qo(Vs)[0],e=it().memoizedState;return[t,e]},useMutableSource:Op,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ql(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qa={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=hn(t),i=Mt(r,s);i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,s),e!==null&&(gt(e,t,s,r),Ki(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=hn(t),i=Mt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,s),e!==null&&(gt(e,t,s,r),Ki(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=hn(t),s=Mt(n,r);s.tag=2,e!=null&&(s.callback=e),e=cn(t,s,r),e!==null&&(gt(e,t,r,n),Ki(e,t,r))}};function Vd(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,r)||!Ls(s,i):!0}function Qp(t,e,n){var r=!1,s=mn,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Fe(e)?Ln:Pe.current,r=e.contextTypes,i=(r=r!=null)?Or(t,s):mn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function Jl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ic(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Fe(e)?Ln:Pe.current,s.context=Or(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ql(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qa.enqueueReplaceState(s,s.state,null),ba(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Nr(t,e){try{var n="",r=e;do n+=s0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ql(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rv=typeof WeakMap=="function"?WeakMap:Map;function Kp(t,e,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oa||(Oa=!0,su=r),Ql(t,e)},n}function Gp(t,e,n){n=Mt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ql(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ql(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function qd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Hv.bind(null,t,e,n),e.then(t,t))}function Jd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mt(-1,1),e.tag=2,cn(n,e,1))),n.lanes|=1),t)}var jv=Wt.ReactCurrentOwner,Le=!1;function Oe(t,e,n,r){e.child=t===null?Ep(e,null,n,r):Rr(e,t.child,n,r)}function Kd(t,e,n,r,s){n=n.render;var i=e.ref;return xr(e,s),r=cc(t,e,n,r,i,s),n=dc(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(Y&&n&&Xu(e),e.flags|=1,Oe(t,e,r,s),e.child)}function Gd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Yp(t,e,i,r,s)):(t=ta(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(a,r)&&t.ref===e.ref)return Bt(t,e,s)}return e.flags|=1,t=fn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Yp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ls(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Bt(t,e,s)}return Kl(t,e,n,r,s)}function Xp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(mr,He),He|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(mr,He),He|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(mr,He),He|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Q(mr,He),He|=r;return Oe(t,e,s,n),e.child}function Zp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kl(t,e,n,r,s){var i=Fe(n)?Ln:Pe.current;return i=Or(e,i),xr(e,s),n=cc(t,e,n,r,i,s),r=dc(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bt(t,e,s)):(Y&&r&&Xu(e),e.flags|=1,Oe(t,e,n,s),e.child)}function Yd(t,e,n,r,s){if(Fe(n)){var i=!0;wa(e)}else i=!1;if(xr(e,s),e.stateNode===null)Xi(t,e),Qp(e,n,r),Jl(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Fe(n)?Ln:Pe.current,u=Or(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Hd(e,a,r,u),Yt=!1;var h=e.memoizedState;a.state=h,ba(e,r,a,s),l=e.memoizedState,o!==r||h!==l||Me.current||Yt?(typeof c=="function"&&(ql(e,n,c,r),l=e.memoizedState),(o=Yt||Vd(e,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Pp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:lt(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=st(l):(l=Fe(n)?Ln:Pe.current,l=Or(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Hd(e,a,r,l),Yt=!1,h=e.memoizedState,a.state=h,ba(e,r,a,s);var v=e.memoizedState;o!==d||h!==v||Me.current||Yt?(typeof m=="function"&&(ql(e,n,m,r),v=e.memoizedState),(u=Yt||Vd(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Gl(t,e,n,r,i,s)}function Gl(t,e,n,r,s,i){Zp(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Dd(e,n,!1),Bt(t,e,i);r=e.stateNode,jv.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rr(e,t.child,null,i),e.child=Rr(e,null,o,i)):Oe(t,e,o,i),e.memoizedState=r.state,s&&Dd(e,n,!0),e.child}function em(t){var e=t.stateNode;e.pendingContext?$d(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$d(t,e.context,!1),ac(t,e.containerInfo)}function Xd(t,e,n,r,s){return Ar(),ec(s),e.flags|=256,Oe(t,e,n,r),e.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function tm(t,e,n){var r=e.pendingProps,s=Z.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(Z,s&1),t===null)return Vl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ya(a,r,0,null),t=$n(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xl(n),e.memoizedState=Yl,t):pc(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Nv(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=fn(o,i):(i=$n(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Xl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Yl,r}return i=t.child,t=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pc(t,e){return e=Ya({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ti(t,e,n,r){return r!==null&&ec(r),Rr(e,t.child,null,n),t=pc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nv(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Jo(Error(b(422))),Ti(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ya({mode:"visible",children:r.children},s,0,null),i=$n(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Rr(e,t.child,null,a),e.child.memoizedState=Xl(a),e.memoizedState=Yl,i);if(!(e.mode&1))return Ti(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(b(419)),r=Jo(i,r,void 0),Ti(t,e,a,r)}if(o=(a&t.childLanes)!==0,Le||o){if(r=ye,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(t,s),gt(r,t,s,-1))}return _c(),r=Jo(Error(b(421))),Ti(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qe=un(s.nextSibling),Je=e,Y=!0,ht=null,t!==null&&(Ze[et++]=Dt,Ze[et++]=Lt,Ze[et++]=Mn,Dt=t.id,Lt=t.overflow,Mn=e),e=pc(e,r.children),e.flags|=4096,e)}function Zd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hl(t.return,e,n)}function Qo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zd(t,n,e);else if(t.tag===19)Zd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(Z,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ea(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ea(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qo(e,!0,n,null,i);break;case"together":Qo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Un|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Iv(t,e,n){switch(e.tag){case 3:em(e),Ar();break;case 5:Tp(e);break;case 1:Fe(e.type)&&wa(e);break;case 4:ac(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Q(ka,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?tm(t,e,n):(Q(Z,Z.current&1),t=Bt(t,e,n),t!==null?t.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,Xp(t,e,n)}return Bt(t,e,n)}var rm,Zl,sm,im;rm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zl=function(){};sm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,jn(Ot.current);var i=null;switch(n){case"input":s=xl(t,s),r=xl(t,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=bl(t,s),r=bl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ya)}Cl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(As.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(As.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&K("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};im=function(t,e,n,r){n!==r&&(e.flags|=4)};function es(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $v(t,e,n){var r=e.pendingProps;switch(Zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Fe(e.type)&&va(),be(e),null;case 3:return r=e.stateNode,jr(),G(Me),G(Pe),lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ci(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(ou(ht),ht=null))),Zl(t,e),be(e),null;case 5:oc(e);var s=jn(Bs.current);if(n=e.type,t!==null&&e.stateNode!=null)sm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return be(e),null}if(t=jn(Ot.current),Ci(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ct]=e,r[Us]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<us.length;s++)K(us[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":ld(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":cd(r,i),K("invalid",r)}Cl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,o,t),s=["children",""+o]):As.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&K("scroll",r)}switch(n){case"input":yi(r),ud(r,i,!0);break;case"textarea":yi(r),dd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ya)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ct]=e,t[Us]=r,rm(t,e,!1,!1),e.stateNode=t;e:{switch(a=Pl(n,r),n){case"dialog":K("cancel",t),K("close",t),s=r;break;case"iframe":case"object":case"embed":K("load",t),s=r;break;case"video":case"audio":for(s=0;s<us.length;s++)K(us[s],t);s=r;break;case"source":K("error",t),s=r;break;case"img":case"image":case"link":K("error",t),K("load",t),s=r;break;case"details":K("toggle",t),s=r;break;case"input":ld(t,r),s=xl(t,r),K("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),K("invalid",t);break;case"textarea":cd(t,r),s=bl(t,r),K("invalid",t);break;default:s=r}Cl(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Df(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&If(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rs(t,l):typeof l=="number"&&Rs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(As.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",t):l!=null&&Mu(t,i,l,a))}switch(n){case"input":yi(t),ud(t,r,!1);break;case"textarea":yi(t),dd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yr(t,!!r.multiple,i,!1):r.defaultValue!=null&&yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)im(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=jn(Bs.current),jn(Ot.current),Ci(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ct]=e,(i=r.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:Ei(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ei(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=e,e.stateNode=r}return be(e),null;case 13:if(G(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&qe!==null&&e.mode&1&&!(e.flags&128))Sp(),Ar(),e.flags|=98560,i=!1;else if(i=Ci(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[Ct]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else ht!==null&&(ou(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?he===0&&(he=3):_c())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return jr(),Zl(t,e),t===null&&Ms(e.stateNode.containerInfo),be(e),null;case 10:return rc(e.type._context),be(e),null;case 17:return Fe(e.type)&&va(),be(e),null;case 19:if(G(Z),i=e.memoizedState,i===null)return be(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)es(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ea(t),a!==null){for(e.flags|=128,es(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>Ir&&(e.flags|=128,r=!0,es(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ea(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Y)return be(e),null}else 2*ie()-i.renderingStartTime>Ir&&n!==1073741824&&(e.flags|=128,r=!0,es(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),e):(be(e),null);case 22:case 23:return wc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?He&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Dv(t,e){switch(Zu(e),e.tag){case 1:return Fe(e.type)&&va(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jr(),G(Me),G(Pe),lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oc(e),null;case 13:if(G(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Z),null;case 4:return jr(),null;case 10:return rc(e.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var Oi=!1,Ce=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,T=null;function pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(t,e,r)}else n.current=null}function eu(t,e,n){try{n()}catch(r){re(t,e,r)}}var eh=!1;function Mv(t,e){if(Ll=pa,t=cp(),Yu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ml={focusedElem:t,selectionRange:n},pa=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:lt(e.type,y),x);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=eh,eh=!1,v}function Ss(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&eu(e,n,i)}s=s.next}while(s!==r)}}function Ka(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function am(t){var e=t.alternate;e!==null&&(t.alternate=null,am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ct],delete e[Us],delete e[zl],delete e[_v],delete e[xv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function om(t){return t.tag===5||t.tag===3||t.tag===4}function th(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||om(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(r!==4&&(t=t.child,t!==null))for(nu(t,e,n),t=t.sibling;t!==null;)nu(t,e,n),t=t.sibling}function ru(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ru(t,e,n),t=t.sibling;t!==null;)ru(t,e,n),t=t.sibling}var ve=null,ct=!1;function Ht(t,e,n){for(n=n.child;n!==null;)lm(t,e,n),n=n.sibling}function lm(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(za,n)}catch{}switch(n.tag){case 5:Ce||pr(n,e);case 6:var r=ve,s=ct;ve=null,Ht(t,e,n),ve=r,ct=s,ve!==null&&(ct?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(ct?(t=ve,n=n.stateNode,t.nodeType===8?zo(t.parentNode,n):t.nodeType===1&&zo(t,n),$s(t)):zo(ve,n.stateNode));break;case 4:r=ve,s=ct,ve=n.stateNode.containerInfo,ct=!0,Ht(t,e,n),ve=r,ct=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&eu(n,e,a),s=s.next}while(s!==r)}Ht(t,e,n);break;case 1:if(!Ce&&(pr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){re(n,e,o)}Ht(t,e,n);break;case 21:Ht(t,e,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Ht(t,e,n),Ce=r):Ht(t,e,n);break;default:Ht(t,e,n)}}function nh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lv),e.forEach(function(r){var s=Jv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function at(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ve=o.stateNode,ct=!1;break e;case 3:ve=o.stateNode.containerInfo,ct=!0;break e;case 4:ve=o.stateNode.containerInfo,ct=!0;break e}o=o.return}if(ve===null)throw Error(b(160));lm(i,a,s),ve=null,ct=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)um(e,t),e=e.sibling}function um(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),_t(t),r&4){try{Ss(3,t,t.return),Ka(3,t)}catch(y){re(t,t.return,y)}try{Ss(5,t,t.return)}catch(y){re(t,t.return,y)}}break;case 1:at(e,t),_t(t),r&512&&n!==null&&pr(n,n.return);break;case 5:if(at(e,t),_t(t),r&512&&n!==null&&pr(n,n.return),t.flags&32){var s=t.stateNode;try{Rs(s,"")}catch(y){re(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Rf(s,i),Pl(o,a);var u=Pl(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?Df(s,d):c==="dangerouslySetInnerHTML"?If(s,d):c==="children"?Rs(s,d):Mu(s,c,d,u)}switch(o){case"input":kl(s,i);break;case"textarea":jf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yr(s,!!i.multiple,i.defaultValue,!0):yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Us]=i}catch(y){re(t,t.return,y)}}break;case 6:if(at(e,t),_t(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){re(t,t.return,y)}}break;case 3:if(at(e,t),_t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$s(e.containerInfo)}catch(y){re(t,t.return,y)}break;case 4:at(e,t),_t(t);break;case 13:at(e,t),_t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yc=ie())),r&4&&nh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(u=Ce)||c,at(e,t),Ce=u):at(e,t),_t(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(d=T=c;T!==null;){switch(h=T,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ss(4,h,h.return);break;case 1:pr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:pr(h,h.return);break;case 22:if(h.memoizedState!==null){sh(d);continue}}m!==null?(m.return=h,T=m):sh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$f("display",a))}catch(y){re(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){re(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(e,t),_t(t),r&4&&nh(t);break;case 21:break;default:at(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(om(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rs(s,""),r.flags&=-33);var i=th(t);ru(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=th(t);nu(t,o,a);break;default:throw Error(b(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fv(t,e,n){T=t,cm(t)}function cm(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Oi;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ce;o=Oi;var u=Ce;if(Oi=a,(Ce=l)&&!u)for(T=s;T!==null;)a=T,l=a.child,a.tag===22&&a.memoizedState!==null?ih(s):l!==null?(l.return=a,T=l):ih(s);for(;i!==null;)T=i,cm(i),i=i.sibling;T=s,Oi=o,Ce=u}rh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):rh(t)}}function rh(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||Ka(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:lt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zd(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zd(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$s(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ce||e.flags&512&&tu(e)}catch(h){re(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function sh(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function ih(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ka(4,e)}catch(l){re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{tu(e)}catch(l){re(e,i,l)}break;case 5:var a=e.return;try{tu(e)}catch(l){re(e,a,l)}}}catch(l){re(e,e.return,l)}if(e===t){T=null;break}var o=e.sibling;if(o!==null){o.return=e.return,T=o;break}T=e.return}}var Uv=Math.ceil,Ta=Wt.ReactCurrentDispatcher,mc=Wt.ReactCurrentOwner,nt=Wt.ReactCurrentBatchConfig,B=0,ye=null,ae=null,_e=0,He=0,mr=yn(0),he=0,qs=null,Un=0,Ga=0,gc=0,bs=null,$e=null,yc=0,Ir=1/0,Nt=null,Oa=!1,su=null,dn=null,Ai=!1,rn=null,Aa=0,Es=0,iu=null,Zi=-1,ea=0;function Ae(){return B&6?ie():Zi!==-1?Zi:Zi=ie()}function hn(t){return t.mode&1?B&2&&_e!==0?_e&-_e:Sv.transition!==null?(ea===0&&(ea=Qf()),ea):(t=H,t!==0||(t=window.event,t=t===void 0?16:tp(t.type)),t):1}function gt(t,e,n,r){if(50<Es)throw Es=0,iu=null,Error(b(185));ei(t,n,r),(!(B&2)||t!==ye)&&(t===ye&&(!(B&2)&&(Ga|=n),he===4&&en(t,_e)),Ue(t,r),n===1&&B===0&&!(e.mode&1)&&(Ir=ie()+500,qa&&vn()))}function Ue(t,e){var n=t.callbackNode;S0(t,e);var r=fa(t,t===ye?_e:0);if(r===0)n!==null&&pd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pd(n),e===1)t.tag===0?kv(ah.bind(null,t)):_p(ah.bind(null,t)),vv(function(){!(B&6)&&vn()}),n=null;else{switch(Kf(r)){case 1:n=Wu;break;case 4:n=qf;break;case 16:n=ha;break;case 536870912:n=Jf;break;default:n=ha}n=vm(n,dm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dm(t,e){if(Zi=-1,ea=0,B&6)throw Error(b(327));var n=t.callbackNode;if(kr()&&t.callbackNode!==n)return null;var r=fa(t,t===ye?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ra(t,r);else{e=r;var s=B;B|=2;var i=fm();(ye!==t||_e!==e)&&(Nt=null,Ir=ie()+500,In(t,e));do try{Wv();break}catch(o){hm(t,o)}while(!0);nc(),Ta.current=i,B=s,ae!==null?e=0:(ye=null,_e=0,e=he)}if(e!==0){if(e===2&&(s=jl(t),s!==0&&(r=s,e=au(t,s))),e===1)throw n=qs,In(t,0),en(t,r),Ue(t,ie()),n;if(e===6)en(t,r);else{if(s=t.current.alternate,!(r&30)&&!zv(s)&&(e=Ra(t,r),e===2&&(i=jl(t),i!==0&&(r=i,e=au(t,i))),e===1))throw n=qs,In(t,0),en(t,r),Ue(t,ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:En(t,$e,Nt);break;case 3:if(en(t,r),(r&130023424)===r&&(e=yc+500-ie(),10<e)){if(fa(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ul(En.bind(null,t,$e,Nt),e);break}En(t,$e,Nt);break;case 4:if(en(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-mt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uv(r/1960))-r,10<r){t.timeoutHandle=Ul(En.bind(null,t,$e,Nt),r);break}En(t,$e,Nt);break;case 5:En(t,$e,Nt);break;default:throw Error(b(329))}}}return Ue(t,ie()),t.callbackNode===n?dm.bind(null,t):null}function au(t,e){var n=bs;return t.current.memoizedState.isDehydrated&&(In(t,e).flags|=256),t=Ra(t,e),t!==2&&(e=$e,$e=n,e!==null&&ou(e)),t}function ou(t){$e===null?$e=t:$e.push.apply($e,t)}function zv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function en(t,e){for(e&=~gc,e&=~Ga,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function ah(t){if(B&6)throw Error(b(327));kr();var e=fa(t,0);if(!(e&1))return Ue(t,ie()),null;var n=Ra(t,e);if(t.tag!==0&&n===2){var r=jl(t);r!==0&&(e=r,n=au(t,r))}if(n===1)throw n=qs,In(t,0),en(t,e),Ue(t,ie()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,En(t,$e,Nt),Ue(t,ie()),null}function vc(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Ir=ie()+500,qa&&vn())}}function zn(t){rn!==null&&rn.tag===0&&!(B&6)&&kr();var e=B;B|=1;var n=nt.transition,r=H;try{if(nt.transition=null,H=1,t)return t()}finally{H=r,nt.transition=n,B=e,!(B&6)&&vn()}}function wc(){He=mr.current,G(mr)}function In(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yv(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(Zu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&va();break;case 3:jr(),G(Me),G(Pe),lc();break;case 5:oc(r);break;case 4:jr();break;case 13:G(Z);break;case 19:G(Z);break;case 10:rc(r.type._context);break;case 22:case 23:wc()}n=n.return}if(ye=t,ae=t=fn(t.current,null),_e=He=e,he=0,qs=null,gc=Ga=Un=0,$e=bs=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Rn=null}return t}function hm(t,e){do{var n=ae;try{if(nc(),Gi.current=Pa,Ca){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ca=!1}if(Fn=0,ge=de=ee=null,ks=!1,Ws=0,mc.current=null,n===null||n.return===null){he=1,qs=e,ae=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=_e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Jd(a);if(m!==null){m.flags&=-257,Qd(m,a,o,i,e),m.mode&1&&qd(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){qd(i,u,e),_c();break e}l=Error(b(426))}}else if(Y&&o.mode&1){var x=Jd(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Qd(x,a,o,i,e),ec(Nr(l,o));break e}}i=l=Nr(l,o),he!==4&&(he=2),bs===null?bs=[i]:bs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Kp(i,l,e);Ud(i,p);break e;case 1:o=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dn===null||!dn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Gp(i,o,e);Ud(i,_);break e}}i=i.return}while(i!==null)}mm(n)}catch(k){e=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function fm(){var t=Ta.current;return Ta.current=Pa,t===null?Pa:t}function _c(){(he===0||he===3||he===2)&&(he=4),ye===null||!(Un&268435455)&&!(Ga&268435455)||en(ye,_e)}function Ra(t,e){var n=B;B|=2;var r=fm();(ye!==t||_e!==e)&&(Nt=null,In(t,e));do try{Bv();break}catch(s){hm(t,s)}while(!0);if(nc(),B=n,Ta.current=r,ae!==null)throw Error(b(261));return ye=null,_e=0,he}function Bv(){for(;ae!==null;)pm(ae)}function Wv(){for(;ae!==null&&!p0();)pm(ae)}function pm(t){var e=ym(t.alternate,t,He);t.memoizedProps=t.pendingProps,e===null?mm(t):ae=e,mc.current=null}function mm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dv(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ae=null;return}}else if(n=$v(n,e,He),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);he===0&&(he=5)}function En(t,e,n){var r=H,s=nt.transition;try{nt.transition=null,H=1,Vv(t,e,n,r)}finally{nt.transition=s,H=r}return null}function Vv(t,e,n,r){do kr();while(rn!==null);if(B&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(b0(t,i),t===ye&&(ae=ye=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ai||(Ai=!0,vm(ha,function(){return kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var a=H;H=1;var o=B;B|=4,mc.current=null,Mv(t,n),um(n,t),cv(Ml),pa=!!Ll,Ml=Ll=null,t.current=n,Fv(n),m0(),B=o,H=a,nt.transition=i}else t.current=n;if(Ai&&(Ai=!1,rn=t,Aa=s),i=t.pendingLanes,i===0&&(dn=null),v0(n.stateNode),Ue(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oa)throw Oa=!1,t=su,su=null,t;return Aa&1&&t.tag!==0&&kr(),i=t.pendingLanes,i&1?t===iu?Es++:(Es=0,iu=t):Es=0,vn(),null}function kr(){if(rn!==null){var t=Kf(Aa),e=nt.transition,n=H;try{if(nt.transition=null,H=16>t?16:t,rn===null)var r=!1;else{if(t=rn,rn=null,Aa=0,B&6)throw Error(b(331));var s=B;for(B|=4,T=t.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:Ss(8,c,i)}var d=c.child;if(d!==null)d.return=c,T=d;else for(;T!==null;){c=T;var h=c.sibling,m=c.return;if(am(c),c===u){T=null;break}if(h!==null){h.return=m,T=h;break}T=m}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,T=p;break e}T=i.return}}var f=t.current;for(T=f;T!==null;){a=T;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,T=g;else e:for(a=f;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ka(9,o)}}catch(k){re(o,o.return,k)}if(o===a){T=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,T=_;break e}T=o.return}}if(B=s,vn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(za,t)}catch{}r=!0}return r}finally{H=n,nt.transition=e}}return!1}function oh(t,e,n){e=Nr(n,e),e=Kp(t,e,1),t=cn(t,e,1),e=Ae(),t!==null&&(ei(t,1,e),Ue(t,e))}function re(t,e,n){if(t.tag===3)oh(t,t,n);else for(;e!==null;){if(e.tag===3){oh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=Nr(n,t),t=Gp(e,t,1),e=cn(e,t,1),t=Ae(),e!==null&&(ei(e,1,t),Ue(e,t));break}}e=e.return}}function Hv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,ye===t&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>ie()-yc?In(t,0):gc|=n),Ue(t,e)}function gm(t,e){e===0&&(t.mode&1?(e=_i,_i<<=1,!(_i&130023424)&&(_i=4194304)):e=1);var n=Ae();t=zt(t,e),t!==null&&(ei(t,e,n),Ue(t,n))}function qv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gm(t,n)}function Jv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),gm(t,n)}var ym;ym=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Me.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,Iv(t,e,n);Le=!!(t.flags&131072)}else Le=!1,Y&&e.flags&1048576&&xp(e,xa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xi(t,e),t=e.pendingProps;var s=Or(e,Pe.current);xr(e,n),s=cc(null,e,r,t,s,n);var i=dc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(i=!0,wa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ic(e),s.updater=Qa,e.stateNode=s,s._reactInternals=e,Jl(e,r,t,n),e=Gl(null,e,r,!0,i,n)):(e.tag=0,Y&&i&&Xu(e),Oe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kv(r),t=lt(r,t),s){case 0:e=Kl(null,e,r,t,n);break e;case 1:e=Yd(null,e,r,t,n);break e;case 11:e=Kd(null,e,r,t,n);break e;case 14:e=Gd(null,e,r,lt(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Kl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Yd(t,e,r,s,n);case 3:e:{if(em(e),t===null)throw Error(b(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Pp(t,e),ba(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Nr(Error(b(423)),e),e=Xd(t,e,r,n,s);break e}else if(r!==s){s=Nr(Error(b(424)),e),e=Xd(t,e,r,n,s);break e}else for(qe=un(e.stateNode.containerInfo.firstChild),Je=e,Y=!0,ht=null,n=Ep(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===s){e=Bt(t,e,n);break e}Oe(t,e,r,n)}e=e.child}return e;case 5:return Tp(e),t===null&&Vl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Fl(r,s)?a=null:i!==null&&Fl(r,i)&&(e.flags|=32),Zp(t,e),Oe(t,e,a,n),e.child;case 6:return t===null&&Vl(e),null;case 13:return tm(t,e,n);case 4:return ac(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rr(e,null,r,n):Oe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Kd(t,e,r,s,n);case 7:return Oe(t,e,e.pendingProps,n),e.child;case 8:return Oe(t,e,e.pendingProps.children,n),e.child;case 12:return Oe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Q(ka,r._currentValue),r._currentValue=a,i!==null)if(yt(i.value,a)){if(i.children===s.children&&!Me.current){e=Bt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hl(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(b(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Hl(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Oe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xr(e,n),s=st(s),r=r(s),e.flags|=1,Oe(t,e,r,n),e.child;case 14:return r=e.type,s=lt(r,e.pendingProps),s=lt(r.type,s),Gd(t,e,r,s,n);case 15:return Yp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lt(r,s),Xi(t,e),e.tag=1,Fe(r)?(t=!0,wa(e)):t=!1,xr(e,n),Qp(e,r,s),Jl(e,r,s,n),Gl(null,e,r,!0,t,n);case 19:return nm(t,e,n);case 22:return Xp(t,e,n)}throw Error(b(156,e.tag))};function vm(t,e){return Hf(t,e)}function Qv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,n,r){return new Qv(t,e,n,r)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kv(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uu)return 11;if(t===zu)return 14}return 2}function fn(t,e){var n=t.alternate;return n===null?(n=tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ta(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")xc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ir:return $n(n.children,s,i,e);case Fu:a=8,s|=8;break;case yl:return t=tt(12,n,e,s|2),t.elementType=yl,t.lanes=i,t;case vl:return t=tt(13,n,e,s),t.elementType=vl,t.lanes=i,t;case wl:return t=tt(19,n,e,s),t.elementType=wl,t.lanes=i,t;case Tf:return Ya(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cf:a=10;break e;case Pf:a=9;break e;case Uu:a=11;break e;case zu:a=14;break e;case Gt:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=tt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $n(t,e,n,r){return t=tt(7,t,r,e),t.lanes=n,t}function Ya(t,e,n,r){return t=tt(22,t,r,e),t.elementType=Tf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ko(t,e,n){return t=tt(6,t,null,e),t.lanes=n,t}function Go(t,e,n){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kc(t,e,n,r,s,i,a,o,l){return t=new Gv(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(i),t}function Yv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wm(t){if(!t)return mn;t=t._reactInternals;e:{if(Vn(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Fe(n))return wp(t,n,e)}return e}function _m(t,e,n,r,s,i,a,o,l){return t=kc(n,r,!0,t,s,i,a,o,l),t.context=wm(null),n=t.current,r=Ae(),s=hn(n),i=Mt(r,s),i.callback=e??null,cn(n,i,s),t.current.lanes=s,ei(t,s,r),Ue(t,r),t}function Xa(t,e,n,r){var s=e.current,i=Ae(),a=hn(s);return n=wm(n),e.context===null?e.context=n:e.pendingContext=n,e=Mt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cn(s,e,a),t!==null&&(gt(t,s,a,i),Ki(t,s,a)),a}function ja(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sc(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function Xv(){return null}var xm=typeof reportError=="function"?reportError:function(t){console.error(t)};function bc(t){this._internalRoot=t}Za.prototype.render=bc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Xa(t,e,null,null)};Za.prototype.unmount=bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zn(function(){Xa(null,t,null,null)}),e[Ut]=null}};function Za(t){this._internalRoot=t}Za.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zt.length&&e!==0&&e<Zt[n].priority;n++);Zt.splice(n,0,t),n===0&&ep(t)}};function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uh(){}function Zv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ja(a);i.call(u)}}var a=_m(e,r,t,0,null,!1,!1,"",uh);return t._reactRootContainer=a,t[Ut]=a.current,Ms(t.nodeType===8?t.parentNode:t),zn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ja(l);o.call(u)}}var l=kc(t,0,!1,null,null,!1,!1,"",uh);return t._reactRootContainer=l,t[Ut]=l.current,Ms(t.nodeType===8?t.parentNode:t),zn(function(){Xa(e,l,n,r)}),l}function to(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ja(a);o.call(l)}}Xa(e,a,t,s)}else a=Zv(n,e,t,s,r);return ja(a)}Gf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(Vu(e,n|1),Ue(e,ie()),!(B&6)&&(Ir=ie()+500,vn()))}break;case 13:zn(function(){var r=zt(t,1);if(r!==null){var s=Ae();gt(r,t,1,s)}}),Sc(t,1)}};Hu=function(t){if(t.tag===13){var e=zt(t,134217728);if(e!==null){var n=Ae();gt(e,t,134217728,n)}Sc(t,134217728)}};Yf=function(t){if(t.tag===13){var e=hn(t),n=zt(t,e);if(n!==null){var r=Ae();gt(n,t,e,r)}Sc(t,e)}};Xf=function(){return H};Zf=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Ol=function(t,e,n){switch(e){case"input":if(kl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ha(r);if(!s)throw Error(b(90));Af(r),kl(r,s)}}}break;case"textarea":jf(t,n);break;case"select":e=n.value,e!=null&&yr(t,!!n.multiple,e,!1)}};Ff=vc;Uf=zn;var ew={usingClientEntryPoint:!1,Events:[ni,ur,Ha,Lf,Mf,vc]},ts={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tw={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wf(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||Xv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{za=Ri.inject(tw),Tt=Ri}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ew;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(e))throw Error(b(200));return Yv(t,e,null,n)};Ge.createRoot=function(t,e){if(!Ec(t))throw Error(b(299));var n=!1,r="",s=xm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kc(t,1,!1,null,null,n,!1,r,s),t[Ut]=e.current,Ms(t.nodeType===8?t.parentNode:t),new bc(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Wf(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return zn(t)};Ge.hydrate=function(t,e,n){if(!eo(e))throw Error(b(200));return to(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!Ec(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=xm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=_m(e,null,t,1,n??null,s,!1,i,a),t[Ut]=e.current,Ms(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Za(e)};Ge.render=function(t,e,n){if(!eo(e))throw Error(b(200));return to(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!eo(t))throw Error(b(40));return t._reactRootContainer?(zn(function(){to(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};Ge.unstable_batchedUpdates=vc;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eo(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return to(t,e,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(km)}catch(t){console.error(t)}}km(),kf.exports=Ge;var nw=kf.exports,Sm,ch=nw;Sm=ch.createRoot,ch.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(this,arguments)}var sn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sn||(sn={}));const dh="popstate";function rw(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return lu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Em(s)}return iw(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sw(){return Math.random().toString(36).substr(2,8)}function hh(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,n,r){return n===void 0&&(n=null),Js({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||r||sw()})}function Em(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=sn.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Js({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=sn.Pop;let x=c(),p=x==null?null:x-u;u=x,l&&l({action:o,location:y.location,delta:p})}function h(x,p){o=sn.Push;let f=lu(y.location,x,p);u=c()+1;let g=hh(f,u),_=y.createHref(f);try{a.pushState(g,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&l&&l({action:o,location:y.location,delta:1})}function m(x,p){o=sn.Replace;let f=lu(y.location,x,p);u=c();let g=hh(f,u),_=y.createHref(f);a.replaceState(g,"",_),i&&l&&l({action:o,location:y.location,delta:0})}function v(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof x=="string"?x:Em(x);return f=f.replace(/ $/,"%20"),oe(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let y={get action(){return o},get location(){return t(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dh,d),l=x,()=>{s.removeEventListener(dh,d),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(x){return a.go(x)}};return y}var fh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fh||(fh={}));function aw(t,e,n){return n===void 0&&(n="/"),ow(t,e,n,!1)}function ow(t,e,n,r){let s=typeof e=="string"?Br(e):e,i=Tm(s.pathname||"/",n);if(i==null)return null;let a=Cm(t);lw(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=ww(i);o=yw(a[l],u,r)}return o}function Cm(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Dn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cm(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:mw(u,i.index),routesMeta:c})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Pm(i.path))s(i,a,l)}),e}function Pm(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Pm(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function lw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uw=/^:[\w-]+$/,cw=3,dw=2,hw=1,fw=10,pw=-2,ph=t=>t==="*";function mw(t,e){let n=t.split("/"),r=n.length;return n.some(ph)&&(r+=pw),e&&(r+=dw),n.filter(s=>!ph(s)).reduce((s,i)=>s+(uw.test(i)?cw:i===""?hw:fw),r)}function gw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yw(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=mh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=mh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Dn([i,d.pathname]),pathnameBase:Sw(Dn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Dn([i,d.pathnameBase]))}return a}function mh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let y=o[d]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[d];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function vw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ww(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _w(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:xw(n,e):e,search:bw(r),hash:Ew(s)}}function xw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t,e){let n=kw(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Am(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Br(t):(s=Js({},t),oe(!s.pathname||!s.pathname.includes("?"),Yo("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),Yo("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),Yo("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=_w(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Dn=t=>t.join("/").replace(/\/\/+/g,"/"),Sw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ew=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rm=["post","put","patch","delete"];new Set(Rm);const Pw=["get",...Rm];new Set(Pw);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}const Cc=C.createContext(null),Tw=C.createContext(null),si=C.createContext(null),no=C.createContext(null),Hn=C.createContext({outlet:null,matches:[],isDataRoute:!1}),jm=C.createContext(null);function ii(){return C.useContext(no)!=null}function ro(){return ii()||oe(!1),C.useContext(no).location}function Nm(t){C.useContext(si).static||C.useLayoutEffect(t)}function Pc(){let{isDataRoute:t}=C.useContext(Hn);return t?zw():Ow()}function Ow(){ii()||oe(!1);let t=C.useContext(Cc),{basename:e,future:n,navigator:r}=C.useContext(si),{matches:s}=C.useContext(Hn),{pathname:i}=ro(),a=JSON.stringify(Om(s,n.v7_relativeSplatPath)),o=C.useRef(!1);return Nm(()=>{o.current=!0}),C.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Am(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Dn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,i,t])}function Aw(t,e){return Rw(t,e)}function Rw(t,e,n,r){ii()||oe(!1);let{navigator:s,static:i}=C.useContext(si),{matches:a}=C.useContext(Hn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ro(),d;if(e){var h;let p=typeof e=="string"?Br(e):e;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||oe(!1),d=p}else d=c;let m=d.pathname||"/",v=m;if(u!=="/"){let p=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:aw(t,{pathname:v}),x=Dw(y&&y.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Dn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Dn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n,r);return e&&x?C.createElement(no.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sn.Pop}},x):x}function jw(){let t=Uw(),e=Cw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const Nw=C.createElement(jw,null);class Iw extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Hn.Provider,{value:this.props.routeContext},C.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $w(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Cc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Hn.Provider,{value:e},r)}function Dw(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||oe(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let m,v=!1,y=null,x=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||Nw,l&&(u<0&&h===0?(v=!0,x=null):u===h&&(v=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,h+1)),f=()=>{let g;return m?g=y:v?g=x:d.route.Component?g=C.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,C.createElement($w,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(Iw,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Im=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Im||{}),Na=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Na||{});function Lw(t){let e=C.useContext(Cc);return e||oe(!1),e}function Mw(t){let e=C.useContext(Tw);return e||oe(!1),e}function Fw(t){let e=C.useContext(Hn);return e||oe(!1),e}function $m(t){let e=Fw(),n=e.matches[e.matches.length-1];return n.route.id||oe(!1),n.route.id}function Uw(){var t;let e=C.useContext(jm),n=Mw(Na.UseRouteError),r=$m(Na.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zw(){let{router:t}=Lw(Im.UseNavigateStable),e=$m(Na.UseNavigateStable),n=C.useRef(!1);return Nm(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qs({fromRouteId:e},i)))},[t,e])}function Bw(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gh(t){let{to:e,replace:n,state:r,relative:s}=t;ii()||oe(!1);let{future:i,static:a}=C.useContext(si),{matches:o}=C.useContext(Hn),{pathname:l}=ro(),u=Pc(),c=Am(e,Om(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return C.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function na(t){oe(!1)}function Ww(t){let{basename:e="/",children:n=null,location:r,navigationType:s=sn.Pop,navigator:i,static:a=!1,future:o}=t;ii()&&oe(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:i,static:a,future:Qs({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Br(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=r,y=C.useMemo(()=>{let x=Tm(c,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:v},navigationType:s}},[l,c,d,h,m,v,s]);return y==null?null:C.createElement(si.Provider,{value:u},C.createElement(no.Provider,{children:n,value:y}))}function Vw(t){let{children:e,location:n}=t;return Aw(uu(e),n)}new Promise(()=>{});function uu(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,uu(r.props.children,i));return}r.type!==na&&oe(!1),!r.props.index||!r.props.children||oe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Hw="6";try{window.__reactRouterVersion=Hw}catch{}const qw="startTransition",yh=Hy[qw];function Jw(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=rw({window:s,v5Compat:!0}));let a=i.current,[o,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=C.useCallback(d=>{u&&yh?yh(()=>l(d)):l(d)},[l,u]);return C.useLayoutEffect(()=>a.listen(c),[a,c]),C.useEffect(()=>Bw(r),[r]),C.createElement(Ww,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var vh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vh||(vh={}));var wh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wh||(wh={}));const Qw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",VITE_SUPABASE_URL:"https://kszyyejneeoitkpbyajd.supabase.co"},_h=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Qw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,l);return l},Kw=t=>t?_h(t):_h;var Dm={exports:{}},Lm={},Mm={exports:{}},Fm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=C;function Gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yw=typeof Object.is=="function"?Object.is:Gw,Xw=$r.useState,Zw=$r.useEffect,e_=$r.useLayoutEffect,t_=$r.useDebugValue;function n_(t,e){var n=e(),r=Xw({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return e_(function(){s.value=n,s.getSnapshot=e,Xo(s)&&i({inst:s})},[t,n,e]),Zw(function(){return Xo(s)&&i({inst:s}),t(function(){Xo(s)&&i({inst:s})})},[t]),t_(n),n}function Xo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yw(t,n)}catch{return!0}}function r_(t,e){return e()}var s_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r_:n_;Fm.useSyncExternalStore=$r.useSyncExternalStore!==void 0?$r.useSyncExternalStore:s_;Mm.exports=Fm;var i_=Mm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=C,a_=i_;function o_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var l_=typeof Object.is=="function"?Object.is:o_,u_=a_.useSyncExternalStore,c_=so.useRef,d_=so.useEffect,h_=so.useMemo,f_=so.useDebugValue;Lm.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=c_(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=h_(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),s!==void 0&&a.hasValue){var v=a.value;if(s(v,m))return d=v}return d=m}if(v=d,l_(c,m))return v;var y=r(m);return s!==void 0&&s(v,y)?(c=m,v):(c=m,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,s]);var o=u_(t,i[0],i[1]);return d_(function(){a.hasValue=!0,a.value=o},[o]),f_(o),o};Dm.exports=Lm;var p_=Dm.exports;const m_=cf(p_),Um={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",VITE_SUPABASE_URL:"https://kszyyejneeoitkpbyajd.supabase.co"},{useDebugValue:g_}=$u,{useSyncExternalStoreWithSelector:y_}=m_;let xh=!1;const v_=t=>t;function w_(t,e=v_,n){(Um?"production":void 0)!=="production"&&n&&!xh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xh=!0);const r=y_(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return g_(r),r}const kh=t=>{(Um?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Kw(t):t,n=(r,s)=>w_(e,r,s);return Object.assign(n,e),n},__=t=>t?kh(t):kh,x_="modulepreload",k_=function(t){return"/"+t},Sh={},Dr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=k_(l),l in Sh)return;Sh[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":x_,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},S_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Tc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class b_ extends Tc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class E_ extends Tc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class C_ extends Tc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cu||(cu={}));var P_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class T_{constructor(e,{headers:n={},customFetch:r,region:s=cu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=S_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return P_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(v=>{throw new b_(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new E_(c);if(!c.ok)throw new C_(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield c.json():h==="application/octet-stream"?m=yield c.blob():h==="text/event-stream"?m=c:h==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var De={},Oc={},io={},ai={},ao={},oo={},O_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lr=O_();const A_=Lr.fetch,zm=Lr.fetch.bind(Lr),Bm=Lr.Headers,R_=Lr.Request,j_=Lr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bm,Request:R_,Response:j_,default:zm,fetch:A_},Symbol.toStringTag,{value:"Module"})),N_=Oy(Wr);var lo={};Object.defineProperty(lo,"__esModule",{value:!0});let I_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};lo.default=I_;var Wm=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});const $_=Wm(N_),D_=Wm(lo);let L_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,c=null,d=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,m="OK")}catch{i.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new D_.default(u)}return{error:u,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};oo.default=L_;var M_=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});const F_=M_(oo);let U_=class extends F_.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ao.default=U_;var z_=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});const B_=z_(ao);let W_=class extends B_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ai.default=W_;var V_=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(io,"__esModule",{value:!0});const ns=V_(ai);let H_=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ns.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ns.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ns.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};io.default=H_;var uo={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.version=void 0;co.version="0.0.0-automated";Object.defineProperty(uo,"__esModule",{value:!0});uo.DEFAULT_HEADERS=void 0;const q_=co;uo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${q_.version}`};var Vm=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oc,"__esModule",{value:!0});const J_=Vm(io),Q_=Vm(ai),K_=uo;let G_=class Hm{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},K_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new J_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{o.searchParams.append(c,d)})):(a="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Q_.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Oc.default=G_;var Vr=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const qm=Vr(Oc);De.PostgrestClient=qm.default;const Jm=Vr(io);De.PostgrestQueryBuilder=Jm.default;const Qm=Vr(ai);De.PostgrestFilterBuilder=Qm.default;const Km=Vr(ao);De.PostgrestTransformBuilder=Km.default;const Gm=Vr(oo);De.PostgrestBuilder=Gm.default;const Ym=Vr(lo);De.PostgrestError=Ym.default;var Y_=De.default={PostgrestClient:qm.default,PostgrestQueryBuilder:Jm.default,PostgrestFilterBuilder:Qm.default,PostgrestTransformBuilder:Km.default,PostgrestBuilder:Gm.default,PostgrestError:Ym.default};const{PostgrestClient:X_,PostgrestQueryBuilder:$b,PostgrestFilterBuilder:Db,PostgrestTransformBuilder:Lb,PostgrestBuilder:Mb,PostgrestError:Fb}=Y_,Z_="2.11.2",e1={"X-Client-Info":`realtime-js/${Z_}`},t1="1.0.0",Xm=1e4,n1=1e3;var Sr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sr||(Sr={}));var We;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(We||(We={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var du;(function(t){t.websocket="websocket"})(du||(du={}));var Tn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tn||(Tn={}));class r1{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Zm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const bh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=s1(a,t,e,s),i),{})},s1=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?eg(i,a):hu(a)},eg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l1(e,n)}switch(t){case J.bool:return i1(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return a1(e);case J.json:case J.jsonb:return o1(e);case J.timestamp:return u1(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return hu(e);default:return hu(e)}},hu=t=>t,i1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},o1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>eg(e,o))}return t},u1=t=>typeof t=="string"?t.replace(" ","T"):t,tg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zo{constructor(e,n,r={},s=Xm){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eh||(Eh={}));class Cs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Cs.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cs.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const h=c.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),v=c.filter(x=>m.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),y.length>0&&(l[u]=y)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const d=e[o].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...h)}r(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ch;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ch||(Ch={}));var Ph;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ph||(Ph={}));var It;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(It||(It={}));class Ac{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zo(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cs(this),this.broadcastEndpointURL=tg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>e==null?void 0:e(It.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(It.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(It.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let y=0;y<m;y++){const x=h[y],{filter:{event:p,schema:f,table:g,filter:_}}=x,k=c&&c[y];if(k&&k.event===p&&k.schema===f&&k.table===g&&k.filter===_)v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e==null||e(It.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(It.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(It.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(It.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Zo(this,dt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=dt;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,y,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,y,x,p,f,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,k=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(f=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:x,commit_timestamp:p,type:f,errors:g}=v;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ac.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bh(e.columns,e.old_record)),n}}const c1=()=>{},d1=typeof WebSocket<"u",h1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f1{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=e1,this.params={},this.timeout=Xm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=c1,this.conn=null,this.sendBuffer=[],this.serializer=new r1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Dr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${du.websocket}`,this.httpEndpoint=tg(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(d1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new p1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Dr(async()=>{const{default:e}=await import("./browser-quc7r5U4.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t1}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Tn.Connecting;case Sr.open:return Tn.Open;case Sr.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}channel(e,n={config:{}}){const r=new Ac(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(dt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(n1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([h1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class p1{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Sr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Rc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m1 extends Rc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fu extends Rc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var g1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},y1=()=>g1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),pu=t=>{if(Array.isArray(t))return t.map(n=>pu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pu(r)}),e};var qn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const el=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v1=(t,e,n)=>qn(void 0,void 0,void 0,function*(){const r=yield y1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new m1(el(s),t.status||500))}).catch(s=>{e(new fu(el(s),s))}):e(new fu(el(t),t))}),w1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function oi(t,e,n,r,s,i){return qn(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,w1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>v1(l,o,r))})})}function Ia(t,e,n,r){return qn(this,void 0,void 0,function*(){return oi(t,"GET",e,n,r)})}function Xt(t,e,n,r,s){return qn(this,void 0,void 0,function*(){return oi(t,"POST",e,r,s,n)})}function _1(t,e,n,r,s){return qn(this,void 0,void 0,function*(){return oi(t,"PUT",e,r,s,n)})}function x1(t,e,n,r){return qn(this,void 0,void 0,function*(){return oi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rg(t,e,n,r,s){return qn(this,void 0,void 0,function*(){return oi(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const k1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Th={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S1{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ng(s)}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Th),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Th.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Rc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Ia(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ia(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pu(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield x1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof fu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield rg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},k1),n),{prefix:e||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const b1="2.7.1",E1={"X-Client-Info":`storage-js/${b1}`};var Kn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class C1{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},E1),n),this.fetch=ng(r)}listBuckets(){return Kn(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Kn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Kn(this,void 0,void 0,function*(){try{return{data:yield _1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield rg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}}class P1 extends C1{constructor(e,n={},r){super(e,n,r)}from(e){return new S1(this.url,this.headers,e,this.fetch)}}const T1="2.49.1";let cs="";typeof Deno<"u"?cs="deno":typeof document<"u"?cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cs="react-native":cs="node";const O1={"X-Client-Info":`supabase-js-${cs}/${T1}`},A1={headers:O1},R1={schema:"public"},j1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N1={};var I1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const $1=t=>{let e;return t?e=t:typeof fetch>"u"?e=zm:e=fetch,(...n)=>e(...n)},D1=()=>typeof Headers>"u"?Bm:Headers,L1=(t,e,n)=>{const r=$1(n),s=D1();return(i,a)=>I1(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var M1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function F1(t){return t.replace(/\/$/,"")}function U1(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>M1(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const sg="2.68.0",tr=30*1e3,mu=3,tl=mu*tr,z1="http://localhost:9999",B1="supabase.auth.token",W1={"X-Client-Info":`gotrue-js/${sg}`},gu="X-Supabase-Api-Version",ig={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function V1(t){return Math.round(Date.now()/1e3)+t}function H1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},Ps=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function q1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ag=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},J1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",og=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ji=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ni=async(t,e)=>{await t.removeItem(e)};function Q1(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,a,o,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)a=e.indexOf(t.charAt(c++)),o=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class ho{constructor(){this.promise=new ho.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ho.promiseConstructor=Promise;function Oh(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Q1(r))}async function K1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function G1(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Y1(t){return("0"+t.toString(16)).substr(-2)}function X1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Y1).join("")}async function Z1(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function ex(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Z1(t);return ex(n)}async function Gn(t,e,n=!1){const r=X1();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await og(t,`${e}-code-verifier`,s);const i=await tx(r);return[i,r===i?"plain":"s256"]}const nx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rx(t){const e=t.headers.get(gu);if(!e||!e.match(nx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class jc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sx extends jc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ix(t){return $(t)&&t.name==="AuthApiError"}class lg extends jc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Jn extends jc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Qt extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ax(t){return $(t)&&t.name==="AuthSessionMissingError"}class nl extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ii extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $i extends Jn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ox(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ah extends Jn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yu extends Jn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function rl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Rh extends Jn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var lx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ux=[502,503,504];async function jh(t){var e;if(!J1(t))throw new yu(Cn(t),0);if(ux.includes(t.status))throw new yu(Cn(t),t.status);let n;try{n=await t.json()}catch(i){throw new lg(Cn(i),i)}let r;const s=rx(t);if(s&&s.getTime()>=ig["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Rh(Cn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rh(Cn(n),t.status,n.weak_password.reasons);throw new sx(Cn(n),t.status||500,r)}const cx=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gu]||(i[gu]=ig["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await dx(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function dx(t,e,n,r,s,i){const a=cx(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new yu(Cn(l),0)}if(o.ok||await jh(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await jh(l)}}function Kt(t){var e;let n=null;mx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=V1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Nh(t){const e=Kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hx(t){return{data:t,error:null}}function fx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=lx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function px(t){return t}function mx(t){return t.access_token&&t.refresh_token&&t.expires_in}var gx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class yx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ag(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gx(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:px});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const vx={getItem:t=>Ps()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ps()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ps()&&globalThis.localStorage.removeItem(t)}};function Ih(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function wx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yn={debug:!!(globalThis&&Ps()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ug extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _x extends ug{}async function xx(t,e,n){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _x(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wx();const kx={url:z1,storageKey:B1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $h(t,e,n){return await n()}class Ks{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kx),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ag(s.fetch),this.lock=s.lock||$h,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xx:this.lock=$h,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ps()?this.storage=vx:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=q1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),kt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ox(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new lg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Gn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Kt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kt})}else throw new Ii("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nh})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nh})}else throw new Ii("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Kt});if(await Ni(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new nl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kt}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Gn(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ii("You must provide either an email or phone number.")}catch(o){if($(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Gn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:hx})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Qt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ii("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tn})})}catch(n){if($(n))return ax(n)&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Gn(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:tn});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Oh(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const a=Oh(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!kt())throw new $i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ah("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $i("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ah("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new $i("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(ix(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=H1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return kt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G1(async s=>(s>0&&await K1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&rl(i)&&Date.now()+a-r<tr})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ji(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<tl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${tl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),rl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ho;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),$(i)){const a={session:null,error:i};return rl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await og(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ni(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tr}ms, refresh threshold is ${mu} ticks`),s<=mu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ug)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Gn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ks.nextInstanceID=0;const Sx=Ks;class bx extends Sx{constructor(e){super(e)}}var Ex=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class Cx{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=F1(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:R1,realtime:N1,auth:Object.assign(Object.assign({},j1),{storageKey:l}),global:A1},c=U1(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=L1(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new X_(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new T_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ex(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bx({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new f1(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Px=(t,e,n)=>new Cx(t,e,n),Tx="https://kszyyejneeoitkpbyajd.supabase.co",Ox="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",Qe=Px(Tx,Ox),fo=__(t=>({user:null,session:null,loading:!0,setUser:e=>t({user:e}),setSession:e=>t({session:e}),setLoading:e=>t({loading:e}),signOut:async()=>{await Qe.auth.signOut(),t({user:null,session:null})}}));function Ax({children:t}){const{user:e,setUser:n,setSession:r,loading:s,setLoading:i}=fo(),a=ro();return C.useEffect(()=>{Qe.auth.getSession().then(({data:{session:l}})=>{r(l),n((l==null?void 0:l.user)??null),i(!1)});const{data:{subscription:o}}=Qe.auth.onAuthStateChange((l,u)=>{r(u),n((u==null?void 0:u.user)??null),i(!1)});return()=>o.unsubscribe()},[]),s?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):!e&&a.pathname!=="/auth"?w.jsx(gh,{to:"/auth",replace:!0}):e&&a.pathname==="/auth"?w.jsx(gh,{to:"/",replace:!0}):w.jsx(w.Fragment,{children:t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>C.createElement("svg",{ref:c,...Rx,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jx(t)}`,o].join(" "),...u},[...e.map(([d,h])=>C.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Yx(){const[t,e]=C.useState(!0),[n,r]=C.useState(!1),[s,i]=C.useState(null),[a,o]=C.useState(!1),[l,u]=C.useState({email:"",password:"",username:""}),[c,d]=C.useState(!1);C.useEffect(()=>{const y=()=>{d(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const h=async y=>{y.preventDefault(),r(!0),i(null);try{if(t){const{error:x}=await Qe.auth.signInWithPassword({email:l.email,password:l.password});if(x)throw x}else{const{error:x}=await Qe.auth.signUp({email:l.email,password:l.password,options:{data:{username:l.username}}});if(x)throw x}}catch(x){i(x.message)}finally{r(!1)}},m=async()=>{try{r(!0),i(null),i("Google authentication is not enabled on this Supabase project. Please use email/password instead."),r(!1)}catch(y){i(y.message)}finally{r(!1)}},v=()=>{o(!a)};return w.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden",children:w.jsxs("div",{className:"absolute -inset-[10px] opacity-50",children:[w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-full blur-3xl animate-pulse"}),w.jsx("div",{className:"absolute top-1/4 left-1/4 w-[300px] h-[300px] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl animate-pulse delay-700"}),w.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-gradient-to-r from-indigo-500/25 to-purple-500/25 rounded-full blur-2xl animate-pulse delay-500"})]})}),w.jsxs("div",{className:"max-w-md w-full glass-effect dark:bg-gray-800/50 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700 relative z-10 backdrop-blur-lg",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("div",{className:"relative mx-auto w-20 h-20 mb-4",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur-md opacity-70 animate-pulse"}),w.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-white dark:bg-gray-800 rounded-full",children:w.jsx("img",{src:"/ai-assistant-logo.svg",alt:"Logo",className:"w-12 h-12"})})]}),w.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI Assistant"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your AI-powered knowledge companion"}),w.jsx("div",{className:"mt-4 flex justify-center",children:w.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-gradient-to-r from-indigo-500/10 to-purple-500/10 text-indigo-600 dark:text-indigo-300",children:[w.jsx("span",{className:"w-2 h-2 mr-1 bg-green-400 rounded-full animate-pulse"}),"Powered by OpenAI"]})})]}),w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:"flex justify-center space-x-4",children:[w.jsx("button",{onClick:()=>e(!0),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${t?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Sign In"}),w.jsx("button",{onClick:()=>e(!1),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${t?"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md"}`,children:"Sign Up"})]})}),w.jsxs("form",{onSubmit:h,className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(Wx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"email",value:l.email,onChange:y=>u({...l,email:y.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:"your.email@example.com",required:!0})]})]}),!t&&w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),w.jsxs("div",{className:"relative",children:[w.jsx(Kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:"text",value:l.username,onChange:y=>u({...l,username:y.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:"Choose a username",required:!0})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),t&&w.jsx("a",{href:"#",className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:"Forgot password?"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),w.jsx("input",{type:a?"text":"password",value:l.password,onChange:y=>u({...l,password:y.target.value}),className:"pl-10 pr-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:t?"Enter your password":"Create a strong password",required:!0}),w.jsx("button",{type:"button",onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a?w.jsx(Fx,{className:"w-5 h-5"}):w.jsx(Ux,{className:"w-5 h-5"})})]}),!t&&w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Password must be at least 6 characters long"})]}),s&&w.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm bg-red-100 dark:bg-red-900/30 p-3 rounded-lg",children:[w.jsx(Nx,{className:"w-5 h-5 flex-shrink-0"}),w.jsx("span",{children:s})]}),w.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:n?w.jsx("div",{className:"flex items-center justify-center",children:w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):w.jsxs(w.Fragment,{children:[t?"Sign In":"Create Account",w.jsx(Ix,{className:"w-4 h-4"})]})}),w.jsxs("div",{className:"relative my-6",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800",children:"Or continue with"})})]}),w.jsx("div",{className:"grid grid-cols-1 gap-3",children:w.jsx("button",{type:"button",onClick:m,disabled:n,className:"w-full py-3 px-4 bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-xl border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-[1.02] active:scale-[0.98]",children:n?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-800 dark:border-white"}):w.jsxs(w.Fragment,{children:[w.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]})})}),w.jsx("div",{className:"text-center mt-6",children:w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t?"Don't have an account?":"Already have an account?",w.jsx("button",{type:"button",onClick:()=>e(!t),className:"ml-1 text-purple-600 dark:text-purple-400 hover:underline transition-colors duration-200 font-medium",children:t?"Sign Up":"Sign In"})]})})]}),w.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:w.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["By continuing, you agree to our",w.jsx("a",{href:"#",className:"text-purple-600 dark:text-purple-400 hover:underline",children:" Terms of Service "}),"and",w.jsx("a",{href:"#",className:"text-purple-600 dark:text-purple-400 hover:underline",children:" Privacy Policy"}),"."]})})]})]})}function Xx({message:t,isTyping:e=!1,isDark:n=!1}){return w.jsxs("div",{className:`flex gap-2 md:gap-4 ${t.isBot?"flex-row":"flex-row-reverse"} 
        animate-fade-in`,children:[w.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-xl flex items-center justify-center flex-shrink-0
          ${t.isBot?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"bg-gradient-to-r from-emerald-400 to-cyan-400"}`,children:t.isBot?w.jsx($x,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):w.jsx(Hx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),w.jsxs("div",{className:`max-w-[85%] px-4 py-3 md:px-6 md:py-4 rounded-2xl shadow-sm text-sm md:text-base
          ${t.isBot?"bg-white/80 dark:bg-gray-800/80 backdrop-blur border border-gray-100 dark:border-gray-700":"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white"}`,children:[w.jsxs("p",{className:`${t.isBot?"text-gray-800 dark:text-gray-200":"text-white"} leading-relaxed`,children:[t.text,e&&w.jsxs("span",{className:"typing-animation",children:[w.jsx("span",{children:"."}),w.jsx("span",{children:"."}),w.jsx("span",{children:"."})]})]}),w.jsx("span",{className:`text-xs mt-2 block ${t.isBot?"text-gray-400 dark:text-gray-500":"text-white/75"}`,children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}function vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const dg=6048e5,Zx=864e5,hg=6e4,fg=36e5;let ek={};function po(){return ek}function Gs(t,e){var o,l,u,c;const n=po(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=vt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function $a(t){return Gs(t,{weekStartsOn:1})}function pg(t){const e=vt(t),n=e.getFullYear(),r=Bn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=$a(r),i=Bn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=$a(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Lh(t){const e=vt(t);return e.setHours(0,0,0,0),e}function Mh(t){const e=vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tk(t,e){const n=Lh(t),r=Lh(e),s=+n-Mh(n),i=+r-Mh(r);return Math.round((s-i)/Zx)}function nk(t){const e=pg(t),n=Bn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),$a(n)}function rk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mg(t){if(!rk(t)&&typeof t!="number")return!1;const e=vt(t);return!isNaN(Number(e))}function sk(t){const e=vt(t),n=Bn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ik={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ak=(t,e,n)=>{let r;const s=ik[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ok={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ck={date:sl({formats:ok,defaultWidth:"full"}),time:sl({formats:lk,defaultWidth:"full"}),dateTime:sl({formats:uk,defaultWidth:"full"})},dk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hk=(t,e,n,r)=>dk[t];function rs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const fk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_k={ordinalNumber:wk,era:rs({values:fk,defaultWidth:"wide"}),quarter:rs({values:pk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rs({values:mk,defaultWidth:"wide"}),day:rs({values:gk,defaultWidth:"wide"}),dayPeriod:rs({values:yk,defaultWidth:"wide",formattingValues:vk,defaultFormattingWidth:"wide"})};function ss(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?kk(o,d=>d.test(a)):xk(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function xk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Sk(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const bk=/^(\d+)(th|st|nd|rd)?/i,Ek=/\d+/i,Ck={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pk={any:[/^b/i,/^(a|c)/i]},Tk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ok={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ik={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$k={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dk={ordinalNumber:Sk({matchPattern:bk,parsePattern:Ek,valueCallback:t=>parseInt(t,10)}),era:ss({matchPatterns:Ck,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),quarter:ss({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ss({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),day:ss({matchPatterns:jk,defaultMatchWidth:"wide",parsePatterns:Nk,defaultParseWidth:"any"}),dayPeriod:ss({matchPatterns:Ik,defaultMatchWidth:"any",parsePatterns:$k,defaultParseWidth:"any"})},Lk={code:"en-US",formatDistance:ak,formatLong:ck,formatRelative:hk,localize:_k,match:Dk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mk(t){const e=vt(t);return tk(e,sk(e))+1}function Fk(t){const e=vt(t),n=+$a(e)-+nk(e);return Math.round(n/dg)+1}function gg(t,e){var c,d,h,m;const n=vt(t),r=n.getFullYear(),s=po(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=Bn(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Gs(a,e),l=Bn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Gs(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Uk(t,e){var o,l,u,c;const n=po(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=gg(t,e),i=Bn(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Gs(i,e)}function zk(t,e){const n=vt(t),r=+Gs(n,e)-+Uk(n,e);return Math.round(r/dg)+1}function V(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return V(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):V(n+1,2)},d(t,e){return V(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return V(t.getHours()%12||12,e.length)},H(t,e){return V(t.getHours(),e.length)},m(t,e){return V(t.getMinutes(),e.length)},s(t,e){return V(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return V(s,e.length)}},Xn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fh={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qt.y(t,e)},Y:function(t,e,n,r){const s=gg(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return V(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):V(i,e.length)},R:function(t,e){const n=pg(t);return V(n,e.length)},u:function(t,e){const n=t.getFullYear();return V(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return V(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return V(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return V(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=zk(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):V(s,e.length)},I:function(t,e,n){const r=Fk(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):V(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qt.d(t,e)},D:function(t,e,n){const r=Mk(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):V(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return V(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return V(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return V(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Xn.noon:r===0?s=Xn.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Xn.evening:r>=12?s=Xn.afternoon:r>=4?s=Xn.morning:s=Xn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qt.s(t,e)},S:function(t,e){return qt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return zh(r);case"XXXX":case"XX":return Pn(r);case"XXXXX":case"XXX":default:return Pn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return zh(r);case"xxxx":case"xx":return Pn(r);case"xxxxx":case"xxx":default:return Pn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Uh(r,":");case"OOOO":default:return"GMT"+Pn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Uh(r,":");case"zzzz":default:return"GMT"+Pn(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return V(r,e.length)},T:function(t,e,n){const r=t.getTime();return V(r,e.length)}};function Uh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+V(i,2)}function zh(t,e){return t%60===0?(t>0?"-":"+")+V(Math.abs(t)/60,2):Pn(t,e)}function Pn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=V(Math.trunc(r/60),2),i=V(r%60,2);return n+s+e+i}const Bh=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yg=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Bh(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Bh(r,e)).replace("{{time}}",yg(s,e))},Wk={p:yg,P:Bk},Vk=/^D+$/,Hk=/^Y+$/,qk=["D","DD","YY","YYYY"];function Jk(t){return Vk.test(t)}function Qk(t){return Hk.test(t)}function Kk(t,e,n){const r=Gk(t,e,n);if(console.warn(r),qk.includes(t))throw new RangeError(r)}function Gk(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zk=/^'([^]*?)'?$/,eS=/''/g,tS=/[a-zA-Z]/;function nS(t,e,n){var c,d,h,m;const r=po(),s=r.locale??Lk,i=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,o=vt(t);if(!mg(o))throw new RangeError("Invalid time value");let l=e.match(Xk).map(v=>{const y=v[0];if(y==="p"||y==="P"){const x=Wk[y];return x(v,s.formatLong)}return v}).join("").match(Yk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:rS(v)};if(Fh[y])return{isToken:!0,value:v};if(y.match(tS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Qk(y)||Jk(y))&&Kk(y,e,String(t));const x=Fh[y[0]];return x(o,y,s.localize,u)}).join("")}function rS(t){const e=t.match(Zk);return e?e[1].replace(eS,"'"):t}function sS(t,e){const r=lS(t);let s;if(r.date){const l=uS(r.date,2);s=cS(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(r.time&&(a=dS(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=hS(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const Di={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,aS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lS(t){const e={},n=t.split(Di.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Di.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Di.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Di.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function uS(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function cS(t,e){if(e===null)return new Date(NaN);const n=t.match(iS);if(!n)return new Date(NaN);const r=!!n[4],s=is(n[1]),i=is(n[2])-1,a=is(n[3]),o=is(n[4]),l=is(n[5])-1;if(r)return yS(e,o,l)?fS(e,o,l):new Date(NaN);{const u=new Date(0);return!mS(e,i,a)||!gS(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function is(t){return t?parseInt(t):1}function dS(t){const e=t.match(aS);if(!e)return NaN;const n=il(e[1]),r=il(e[2]),s=il(e[3]);return vS(n,r,s)?n*fg+r*hg+s*1e3:NaN}function il(t){return t&&parseFloat(t.replace(",","."))||0}function hS(t){if(t==="Z")return 0;const e=t.match(oS);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return wS(r,s)?n*(r*fg+s*hg):NaN}function fS(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const pS=[31,null,31,30,31,30,31,31,30,31,30,31];function vg(t){return t%400===0||t%4===0&&t%100!==0}function mS(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(pS[e]||(vg(t)?29:28))}function gS(t,e){return e>=1&&e<=(vg(t)?366:365)}function yS(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function vS(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function wS(t,e){return e>=0&&e<=59}function _S({isOpen:t,onToggle:e,chatHistory:n,onSelectChat:r,currentChatId:s,onNewChat:i,isMobile:a=!1}){const{user:o}=fo(),l=u=>{if(!u)return"Unknown date";try{const c=typeof u=="string"?sS(u):u;return mg(c)?nS(c,"MMM d, yyyy h:mm a"):"Invalid date"}catch(c){return console.error("Date formatting error:",c),"Invalid date"}};return w.jsxs(w.Fragment,{children:[!a&&w.jsx("button",{onClick:e,className:"fixed top-20 left-0 z-30 p-2 bg-white dark:bg-gray-800 rounded-r-lg shadow-lg hidden md:block","aria-label":t?"Close sidebar":"Open sidebar",children:t?w.jsx(Lx,{}):w.jsx(Mx,{})}),w.jsx("div",{className:`fixed inset-0 bg-black/50 z-20 transition-opacity duration-300 md:hidden ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),w.jsx("div",{className:`fixed top-0 left-0 h-full z-30 transition-transform duration-300 transform ${t?"translate-x-0":"-translate-x-full"}`,children:w.jsxs("div",{className:"w-72 h-full bg-white dark:bg-gray-800 shadow-xl flex flex-col",children:[w.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Chat History"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-[180px]",children:o==null?void 0:o.email})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:i,className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors","aria-label":"New chat",children:w.jsx(cg,{className:"w-5 h-5"})}),a&&w.jsx("button",{onClick:e,className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors md:hidden","aria-label":"Close sidebar",children:w.jsx(Gx,{className:"w-5 h-5"})})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:n&&n.length>0?n.map(u=>w.jsx("button",{onClick:()=>r(u.id,u.messages),className:`w-full p-3 rounded-lg text-left transition-colors ${s===u.id?"bg-purple-100 dark:bg-purple-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Dh,{className:"w-5 h-5 text-purple-500 flex-shrink-0"}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white truncate",children:u.title||"Untitled Chat"}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l(u.timestamp)})]})]})},u.id)):w.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[w.jsx(Dh,{className:"w-10 h-10 text-gray-300 dark:text-gray-600 mb-2"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No chat history yet"}),w.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Start a new conversation"})]})})]})})]})}const vu="RFC3986",wu={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},xS="RFC1738",kS=Array.isArray,xt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),al=1024,SS=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=al){const l=i.length>=al?i.slice(o,o+al):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===xS&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=xt[d];continue}if(d<2048){u[u.length]=xt[192|d>>6]+xt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=xt[224|d>>12]+xt[128|d>>6&63]+xt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=xt[240|d>>18]+xt[128|d>>12&63]+xt[128|d>>6&63]+xt[128|d&63]}a+=u.join("")}return a};function bS(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Wh(t,e){if(kS(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const ES=Object.prototype.hasOwnProperty,wg={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},bt=Array.isArray,CS=Array.prototype.push,_g=function(t,e){CS.apply(t,bt(e)?e:[e])},PS=Date.prototype.toISOString,ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:SS,encodeValuesOnly:!1,format:vu,formatter:wu[vu],indices:!1,serializeDate(t){return PS.call(t)},skipNulls:!1,strictNullHandling:!1};function TS(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ol={};function xg(t,e,n,r,s,i,a,o,l,u,c,d,h,m,v,y,x,p){let f=t,g=p,_=0,k=!1;for(;(g=g.get(ol))!==void 0&&!k;){const A=g.get(t);if(_+=1,typeof A<"u"){if(A===_)throw new RangeError("Cyclic object value");k=!0}typeof g.get(ol)>"u"&&(_=0)}if(typeof u=="function"?f=u(e,f):f instanceof Date?f=h==null?void 0:h(f):n==="comma"&&bt(f)&&(f=Wh(f,function(A){return A instanceof Date?h==null?void 0:h(A):A})),f===null){if(i)return l&&!y?l(e,ce.encoder,x,"key",m):e;f=""}if(TS(f)||bS(f)){if(l){const A=y?e:l(e,ce.encoder,x,"key",m);return[(v==null?void 0:v(A))+"="+(v==null?void 0:v(l(f,ce.encoder,x,"value",m)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(f)))]}const E=[];if(typeof f>"u")return E;let S;if(n==="comma"&&bt(f))y&&l&&(f=Wh(f,l)),S=[{value:f.length>0?f.join(",")||null:void 0}];else if(bt(u))S=u;else{const A=Object.keys(f);S=c?A.sort(c):A}const P=o?String(e).replace(/\./g,"%2E"):String(e),j=r&&bt(f)&&f.length===1?P+"[]":P;if(s&&bt(f)&&f.length===0)return j+"[]";for(let A=0;A<S.length;++A){const N=S[A],M=typeof N=="object"&&typeof N.value<"u"?N.value:f[N];if(a&&M===null)continue;const ne=d&&o?N.replace(/\./g,"%2E"):N,wt=bt(f)?typeof n=="function"?n(j,ne):j:j+(d?"."+ne:"["+ne+"]");p.set(t,_);const Vt=new WeakMap;Vt.set(ol,p),_g(E,xg(M,wt,n,r,s,i,a,o,n==="comma"&&y&&bt(f)?null:l,u,c,d,h,m,v,y,x,Vt))}return E}function OS(t=ce){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ce.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=vu;if(typeof t.format<"u"){if(!ES.call(wu,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=wu[n];let s=ce.filter;(typeof t.filter=="function"||bt(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in wg?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=ce.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ce.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ce.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ce.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ce.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ce.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ce.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ce.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ce.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ce.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ce.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ce.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ce.strictNullHandling}}function AS(t,e={}){let n=t;const r=OS(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):bt(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=wg[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const m=s[h];r.skipNulls&&n[m]===null||_g(a,xg(n[m],m,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}const nr="4.85.4";let Vh=!1,Ts,kg,Sg,_u,bg,Eg,Cg,Pg,Tg;function RS(t,e={auto:!1}){if(Vh)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Ts)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Ts}'\``);Vh=e.auto,Ts=t.kind,kg=t.fetch,Sg=t.FormData,_u=t.File,bg=t.ReadableStream,Eg=t.getMultipartRequestOptions,Cg=t.getDefaultAgent,Pg=t.fileFromPath,Tg=t.isFsReadStream}class jS{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function NS({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new jS(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}Ts||RS(NS(),{auto:!0});class F extends Error{}class ke extends F{constructor(e,n,r,s){super(`${ke.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new mo({message:r,cause:ku(n)});const i=n==null?void 0:n.error;return e===400?new Og(e,i,r,s):e===401?new Ag(e,i,r,s):e===403?new Rg(e,i,r,s):e===404?new jg(e,i,r,s):e===409?new Ng(e,i,r,s):e===422?new Ig(e,i,r,s):e===429?new $g(e,i,r,s):e>=500?new Dg(e,i,r,s):new ke(e,i,r,s)}}class ft extends ke{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class mo extends ke{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Nc extends mo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Og extends ke{}class Ag extends ke{}class Rg extends ke{}class jg extends ke{}class Ng extends ke{}class Ig extends ke{}class $g extends ke{}class Dg extends ke{}class Lg extends F{constructor(){super("Could not parse response content as the length limit was reached")}}class Mg extends F{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Li=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Sn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Be;class go{constructor(){Be.set(this,void 0),this.buffer=new Uint8Array,Li(this,Be,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=IS(this.buffer,Sn(this,Be,"f")))!=null;){if(i.carriage&&Sn(this,Be,"f")==null){Li(this,Be,i.index,"f");continue}if(Sn(this,Be,"f")!=null&&(i.index!==Sn(this,Be,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Sn(this,Be,"f")-1))),this.buffer=this.buffer.slice(Sn(this,Be,"f")),Li(this,Be,null,"f");continue}const a=Sn(this,Be,"f")!==null?i.preceding-1:i.preceding,o=this.decodeText(this.buffer.slice(0,a));s.push(o),this.buffer=this.buffer.slice(i.index),Li(this,Be,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new F(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new F(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new F("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Be=new WeakMap;go.NEWLINE_CHARS=new Set([`
`,"\r"]);go.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IS(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function $S(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function Fg(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Pt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of DS(e,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new ke(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new ke(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new Pt(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const a=new go,o=Fg(e);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Pt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new Pt(()=>s(e),this.controller),new Pt(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new bg({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await n.next();if(a)return s.close();const o=r.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*DS(t,e){if(!t.body)throw e.abort(),new F("Attempted to iterate over a response with no body");const n=new MS,r=new go,s=Fg(t.body);for await(const i of LS(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*LS(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=$S(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class MS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=FS(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function FS(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Ug=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",zg=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&yo(t),yo=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",US=t=>zg(t)||Ug(t)||Tg(t);async function Bg(t,e,n){var s;if(t=await t,zg(t))return t;if(Ug(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=yo(i)?[await i.arrayBuffer()]:[i];return new _u(a,e,n)}const r=await zS(t);if(e||(e=WS(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new _u(r,e,n)}async function zS(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(yo(t))e.push(await t.arrayBuffer());else if(VS(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${BS(t)}`);return e}function BS(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function WS(t){var e;return ll(t.name)||ll(t.filename)||((e=ll(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ll=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},VS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Hh=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Mr=async t=>{const e=await HS(t.body);return Eg(e,t)},HS=async t=>{const e=new Sg;return await Promise.all(Object.entries(t||{}).map(([n,r])=>xu(e,n,r))),e},xu=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(US(n)){const r=await Bg(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>xu(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>xu(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var br={},qS=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},JS=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Mi;async function Wg(t){const{response:e}=t;if(t.options.stream)return Er("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Pt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Er("response",e.status,e.url,e.headers,i),Vg(i,e)}const s=await e.text();return Er("response",e.status,e.url,e.headers,s),s}function Vg(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class vo extends Promise{constructor(e,n=Wg){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new vo(this.responsePromise,async n=>Vg(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class QS{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=ul("maxRetries",n),this.timeout=ul("timeout",r),this.httpAgent=s,this.fetch=i??kg}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...eb(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${sb()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&yo(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var v;e={...e};const{method:r,path:s,query:i,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Hh(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),u=this.buildURL(s,i);"timeout"in e&&ul("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const c=e.httpAgent??this.httpAgent??Cg(u),d=e.timeout+1e3;typeof((v=c==null?void 0:c.options)==null?void 0:v.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:a,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...c&&{agent:c},signal:e.signal??null},url:u,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(e);return Kh(i,a),Kh(i,n),Hh(e.body)&&Ts!=="node"&&delete i["content-type"],Ui(a,"x-stainless-retry-count")===void 0&&Ui(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),Ui(a,"x-stainless-timeout")===void 0&&Ui(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return ke.generate(e,n,r,s)}request(e,n=null){return new vo(this.makeRequest(e,n))}async makeRequest(e,n){var d,h;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:a,timeout:o}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:a,options:r}),Er("request",a,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new ft;const l=new AbortController,u=await this.fetchWithTimeout(a,i,o,l).catch(ku);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new ft;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Nc:new mo({cause:u})}const c=GS(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const f=`retrying, ${n} attempts remaining`;return Er(`response (error; ${f})`,u.status,a,c),this.retryRequest(r,n,c)}const m=await u.text().catch(f=>ku(f).message),v=tb(m),y=v?void 0:m;throw Er(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,c,y),this.makeStatusError(u.status,v,y,c)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new KS(this,r,e)}buildURL(e,n){const r=rb(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return qg(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new F(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...a}=n||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r),l={signal:s.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=r==null?void 0:r["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,o)}return await li(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}}class Hg{constructor(e,n,r,s){Mi.set(this,void 0),qS(this,Mi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new F("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await JS(this,Mi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Mi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class KS extends vo{constructor(e,n,r){super(n,async s=>new r(e,s.response,await Wg(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const GS=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),YS={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Te=t=>typeof t=="object"&&t!==null&&!qg(t)&&Object.keys(t).every(e=>Jg(YS,e)),XS=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Jh(Deno.build.os),"X-Stainless-Arch":qh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Jh(process.platform),"X-Stainless-Arch":qh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=ZS();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZS(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const qh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Jh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Qh;const eb=()=>Qh??(Qh=XS()),tb=t=>{try{return JSON.parse(t)}catch{return}},nb=/^[a-z][a-z0-9+.-]*:/i,rb=t=>nb.test(t),li=t=>new Promise(e=>setTimeout(e,t)),ul=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new F(`${t} must be an integer`);if(e<0)throw new F(`${t} must be a positive integer`);return e},ku=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Fi=t=>{var e,n,r,s;if(typeof process<"u")return((e=br==null?void 0:br[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function qg(t){if(!t)return!0;for(const e in t)return!1;return!0}function Jg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kh(t,e){for(const n in e){if(!Jg(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const Gh=new Set(["authorization","api-key"]);function Er(t,...e){if(typeof process<"u"&&(br==null?void 0:br.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const a in r.headers)Gh.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let s=null;for(const i in r)Gh.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const sb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),ib=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",ab=t=>typeof(t==null?void 0:t.get)=="function",Ui=(t,e)=>{var r;const n=e.toLowerCase();if(ab(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const a=t.get(i);if(a)return a}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function cl(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class ob extends Hg{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Xe extends Hg{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class W{constructor(e){this._client=e}}let Qg=class extends W{list(e,n={},r){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,lb,{query:n,...r})}},wo=class extends W{constructor(){super(...arguments),this.messages=new Qg(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/chat/completions",_o,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class _o extends Xe{}class lb extends Xe{}wo.ChatCompletionsPage=_o;wo.Messages=Qg;let xo=class extends W{constructor(){super(...arguments),this.completions=new wo(this._client)}};xo.Completions=wo;xo.ChatCompletionsPage=_o;class Kg extends W{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Gg extends W{create(e,n){return this._client.post("/audio/transcriptions",Mr({body:e,...n,__metadata:{model:e.model}}))}}class Yg extends W{create(e,n){return this._client.post("/audio/translations",Mr({body:e,...n,__metadata:{model:e.model}}))}}class ui extends W{constructor(){super(...arguments),this.transcriptions=new Gg(this._client),this.translations=new Yg(this._client),this.speech=new Kg(this._client)}}ui.Transcriptions=Gg;ui.Translations=Yg;ui.Speech=Kg;class Ic extends W{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/batches",$c,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class $c extends Xe{}Ic.BatchesPage=$c;class Dc extends W{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/assistants",Lc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Lc extends Xe{}Dc.AssistantsPage=Lc;function Yh(t){return typeof t.parse=="function"}const Cr=t=>(t==null?void 0:t.role)==="assistant",Xg=t=>(t==null?void 0:t.role)==="function",Zg=t=>(t==null?void 0:t.role)==="tool";var ot=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},X=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Su,ra,sa,ds,hs,ia,fs,jt,ps,Da,La,rr,ey;class ty{constructor(){Su.add(this),this.controller=new AbortController,ra.set(this,void 0),sa.set(this,()=>{}),ds.set(this,()=>{}),hs.set(this,void 0),ia.set(this,()=>{}),fs.set(this,()=>{}),jt.set(this,{}),ps.set(this,!1),Da.set(this,!1),La.set(this,!1),rr.set(this,!1),ot(this,ra,new Promise((e,n)=>{ot(this,sa,e,"f"),ot(this,ds,n,"f")}),"f"),ot(this,hs,new Promise((e,n)=>{ot(this,ia,e,"f"),ot(this,fs,n,"f")}),"f"),X(this,ra,"f").catch(()=>{}),X(this,hs,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},X(this,Su,"m",ey).bind(this))},0)}_connected(){this.ended||(X(this,sa,"f").call(this),this._emit("connect"))}get ended(){return X(this,ps,"f")}get errored(){return X(this,Da,"f")}get aborted(){return X(this,La,"f")}abort(){this.controller.abort()}on(e,n){return(X(this,jt,"f")[e]||(X(this,jt,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=X(this,jt,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(X(this,jt,"f")[e]||(X(this,jt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ot(this,rr,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ot(this,rr,!0,"f"),await X(this,hs,"f")}_emit(e,...n){if(X(this,ps,"f"))return;e==="end"&&(ot(this,ps,!0,"f"),X(this,ia,"f").call(this));const r=X(this,jt,"f")[e];if(r&&(X(this,jt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!X(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,ds,"f").call(this,s),X(this,fs,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!X(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,ds,"f").call(this,s),X(this,fs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}ra=new WeakMap,sa=new WeakMap,ds=new WeakMap,hs=new WeakMap,ia=new WeakMap,fs=new WeakMap,jt=new WeakMap,ps=new WeakMap,Da=new WeakMap,La=new WeakMap,rr=new WeakMap,Su=new WeakSet,ey=function(e){if(ot(this,Da,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ft),e instanceof ft)return ot(this,La,!0,"f"),this._emit("abort",e);if(e instanceof F)return this._emit("error",e);if(e instanceof Error){const n=new F(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new F(String(e)))};function ny(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function ci(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function ub(t,e){return!e||!ry(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Mc(t,e)}function Mc(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Lg;if(r.finish_reason==="content_filter")throw new Mg;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>db(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?cb(e,r.message.content):null}}});return{...t,choices:n}}function cb(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function db(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:ci(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function hb(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return ci(n)||(n==null?void 0:n.function.strict)||!1}function ry(t){var e;return ny(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>ci(n)||n.type==="function"&&n.function.strict===!0))??!1}function fb(t){for(const e of t??[]){if(e.type!=="function")throw new F(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new F(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ie=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ee,bu,Ma,Eu,Cu,Pu,sy,Tu;const Xh=10;class iy extends ty{constructor(){super(...arguments),Ee.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Xg(e)||Zg(e))&&e.content)this._emit("functionCallResult",e.content);else if(Cr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Cr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new F("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ie(this,Ee,"m",bu).call(this)}async finalMessage(){return await this.done(),Ie(this,Ee,"m",Ma).call(this)}async finalFunctionCall(){return await this.done(),Ie(this,Ee,"m",Eu).call(this)}async finalFunctionCallResult(){return await this.done(),Ie(this,Ee,"m",Cu).call(this)}async totalUsage(){return await this.done(),Ie(this,Ee,"m",Pu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ie(this,Ee,"m",Ma).call(this);n&&this._emit("finalMessage",n);const r=Ie(this,Ee,"m",bu).call(this);r&&this._emit("finalContent",r);const s=Ie(this,Ee,"m",Eu).call(this);s&&this._emit("finalFunctionCall",s);const i=Ie(this,Ee,"m",Cu).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Ie(this,Ee,"m",Pu).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ie(this,Ee,"m",sy).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Mc(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var h;const s="function",{function_call:i="auto",stream:a,...o}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Xh}=r||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const d=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const y=(h=(await this._createChatCompletion(e,{...o,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!y)throw new F("missing message in ChatCompletion response");if(!y.function_call)return;const{name:x,arguments:p}=y.function_call,f=c[x];if(f){if(l&&l!==x){const E=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${d.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:E});continue}let g;try{g=Yh(f)?await f.parse(p):p}catch(E){this._addMessage({role:s,name:x,content:E instanceof Error?E.message:String(E)});continue}const _=await f.function(g,this),k=Ie(this,Ee,"m",Tu).call(this,_);if(this._addMessage({role:s,name:x,content:k}),l)return}}async _runTools(e,n,r){var m,v,y;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=Xh}=r||{},c=n.tools.map(x=>{if(ci(x)){if(!x.$callback)throw new F("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),d={};for(const x of c)x.type==="function"&&(d[x.function.name||x.function.function.name]=x.function);const h="tools"in n?c.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const f=(v=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!f)throw new F("missing message in ChatCompletion response");if(!((y=f.tool_calls)!=null&&y.length))return;for(const g of f.tool_calls){if(g.type!=="function")continue;const _=g.id,{name:k,arguments:E}=g.function,S=d[k];if(S){if(l&&l!==k){const N=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:N});continue}}else{const N=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(d).map(M=>JSON.stringify(M)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:N});continue}let P;try{P=Yh(S)?await S.parse(E):E}catch(N){const M=N instanceof Error?N.message:String(N);this._addMessage({role:s,tool_call_id:_,content:M});continue}const j=await S.function(P,this),A=Ie(this,Ee,"m",Tu).call(this,j);if(this._addMessage({role:s,tool_call_id:_,content:A}),l)return}}}}Ee=new WeakSet,bu=function(){return Ie(this,Ee,"m",Ma).call(this).content??null},Ma=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Cr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new F("stream ended without producing a ChatCompletionMessage with role=assistant")},Eu=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Cr(s)&&(s!=null&&s.function_call))return s.function_call;if(Cr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Cu=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Xg(n)&&n.content!=null||Zg(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Pu=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},sy=function(e){if(e.n!=null&&e.n>1)throw new F("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Tu=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Ys extends iy{static runFunctions(e,n,r){const s=new Ys,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Ys,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Cr(e)&&e.content&&this._emit("content",e.content)}}const ay=1,oy=2,ly=4,uy=8,cy=16,dy=32,hy=64,fy=128,py=256,my=fy|py,gy=cy|dy|my|hy,yy=ay|oy|gy,vy=ly|uy,pb=yy|vy,pe={STR:ay,NUM:oy,ARR:ly,OBJ:uy,NULL:cy,BOOL:dy,NAN:hy,INFINITY:fy,MINUS_INFINITY:py,INF:my,SPECIAL:gy,ATOM:yy,COLLECTION:vy,ALL:pb};class mb extends Error{}class gb extends Error{}function yb(t,e=pe.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return vb(t.trim(),e)}const vb=(t,e)=>{const n=t.length;let r=0;const s=h=>{throw new mb(`${h} at position ${r}`)},i=h=>{throw new gb(`${h} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||pe.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||pe.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||pe.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||pe.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||pe.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||pe.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),o=()=>{const h=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(h,++r-Number(m)))}catch(v){i(String(v))}else if(pe.STR&e)try{return JSON.parse(t.substring(h,r-Number(m))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;t[r]!=="}";){if(d(),r>=n&&pe.OBJ&e)return h;const m=o();d(),r++;try{const v=a();Object.defineProperty(h,m,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(pe.OBJ&e)return h;throw v}d(),t[r]===","&&r++}}catch{if(pe.OBJ&e)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;t[r]!=="]";)h.push(a()),d(),t[r]===","&&r++}catch{if(pe.ARR&e)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){t==="-"&&pe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(pe.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(m))}}const h=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(pe.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(h,r))}catch{t.substring(h,r)==="-"&&pe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(v){i(String(v))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},Zh=t=>yb(t,pe.ALL^pe.NUM);var Zn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},q=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ue,Rt,er,Jt,dl,zi,hl,fl,pl,Bi,ml,ef;class Xs extends iy{constructor(e){super(),ue.add(this),Rt.set(this,void 0),er.set(this,void 0),Jt.set(this,void 0),Zn(this,Rt,e,"f"),Zn(this,er,[],"f")}get currentChatCompletionSnapshot(){return q(this,Jt,"f")}static fromReadableStream(e){const n=new Xs(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new Xs(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),q(this,ue,"m",dl).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)q(this,ue,"m",hl).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new ft;return this._addChatCompletion(q(this,ue,"m",Bi).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),q(this,ue,"m",dl).call(this),this._connected();const s=Pt.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(q(this,ue,"m",Bi).call(this)),q(this,ue,"m",hl).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new ft;return this._addChatCompletion(q(this,ue,"m",Bi).call(this))}[(Rt=new WeakMap,er=new WeakMap,Jt=new WeakMap,ue=new WeakSet,dl=function(){this.ended||Zn(this,Jt,void 0,"f")},zi=function(n){let r=q(this,er,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},q(this,er,"f")[n.index]=r,r)},hl=function(n){var s,i,a,o,l,u,c,d,h,m,v,y,x,p,f;if(this.ended)return;const r=q(this,ue,"m",ef).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const _=r.choices[g.index];g.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((i=_.message)!=null&&i.content)&&(this._emit("content",g.delta.content,_.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),g.delta.refusal!=null&&((a=_.message)==null?void 0:a.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:_.message.refusal}),((l=g.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=g.logprobs)==null?void 0:c.content,snapshot:((d=_.logprobs)==null?void 0:d.content)??[]}),((h=g.logprobs)==null?void 0:h.refusal)!=null&&((m=_.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=_.logprobs)==null?void 0:y.refusal)??[]});const k=q(this,ue,"m",zi).call(this,_);_.finish_reason&&(q(this,ue,"m",pl).call(this,_),k.current_tool_call_index!=null&&q(this,ue,"m",fl).call(this,_,k.current_tool_call_index));for(const E of g.delta.tool_calls??[])k.current_tool_call_index!==E.index&&(q(this,ue,"m",pl).call(this,_),k.current_tool_call_index!=null&&q(this,ue,"m",fl).call(this,_,k.current_tool_call_index)),k.current_tool_call_index=E.index;for(const E of g.delta.tool_calls??[]){const S=(x=_.message.tool_calls)==null?void 0:x[E.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(p=S.function)==null?void 0:p.name,index:E.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((f=E.function)==null?void 0:f.arguments)??""}):(S==null||S.type,void 0))}}},fl=function(n,r){var a,o,l;if(q(this,ue,"m",zi).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=q(this,Rt,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:ci(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},pl=function(n){var s,i;const r=q(this,ue,"m",zi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=q(this,ue,"m",ml).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Bi=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const n=q(this,Jt,"f");if(!n)throw new F("request ended without sending any chunks");return Zn(this,Jt,void 0,"f"),Zn(this,er,[],"f"),wb(n,q(this,Rt,"f"))},ml=function(){var r;const n=(r=q(this,Rt,"f"))==null?void 0:r.response_format;return ny(n)?n:null},ef=function(n){var r,s,i,a;let o=q(this,Jt,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=Zn(this,Jt,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:h,logprobs:m=null,...v}of n.choices){let y=o.choices[h];if(y||(y=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:m,...v}),m)if(!y.logprobs)y.logprobs=Object.assign({},m);else{const{content:E,refusal:S,...P}=m;Object.assign(y.logprobs,P),E&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...E)),S&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...S))}if(d&&(y.finish_reason=d,q(this,Rt,"f")&&ry(q(this,Rt,"f")))){if(d==="length")throw new Lg;if(d==="content_filter")throw new Mg}if(Object.assign(y,v),!c)continue;const{content:x,refusal:p,function_call:f,role:g,tool_calls:_,...k}=c;if(Object.assign(y.message,k),p&&(y.message.refusal=(y.message.refusal||"")+p),g&&(y.message.role=g),f&&(y.message.function_call?(f.name&&(y.message.function_call.name=f.name),f.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=f.arguments)):y.message.function_call=f),x&&(y.message.content=(y.message.content||"")+x,!y.message.refusal&&q(this,ue,"m",ml).call(this)&&(y.message.parsed=Zh(y.message.content))),_){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:E,id:S,type:P,function:j,...A}of _){const N=(a=y.message.tool_calls)[E]??(a[E]={});Object.assign(N,A),S&&(N.id=S),P&&(N.type=P),j&&(N.function??(N.function={name:j.name??"",arguments:""})),j!=null&&j.name&&(N.function.name=j.name),j!=null&&j.arguments&&(N.function.arguments+=j.arguments,hb(q(this,Rt,"f"),N)&&(N.function.parsed_arguments=Zh(N.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Pt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function wb(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...m})=>{if(!c)throw new F(`missing finish_reason for choice ${d}`);const{content:v=null,function_call:y,tool_calls:x,...p}=u,f=u.role;if(!f)throw new F(`missing role for choice ${d}`);if(y){const{arguments:g,name:_}=y;if(g==null)throw new F(`missing function_call.arguments for choice ${d}`);if(!_)throw new F(`missing function_call.name for choice ${d}`);return{...m,message:{content:v,function_call:{arguments:g,name:_},role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return x?{...m,index:d,finish_reason:c,logprobs:h,message:{...p,role:f,content:v,refusal:u.refusal??null,tool_calls:x.map((g,_)=>{const{function:k,type:E,id:S,...P}=g,{arguments:j,name:A,...N}=k||{};if(S==null)throw new F(`missing choices[${d}].tool_calls[${_}].id
${Wi(t)}`);if(E==null)throw new F(`missing choices[${d}].tool_calls[${_}].type
${Wi(t)}`);if(A==null)throw new F(`missing choices[${d}].tool_calls[${_}].function.name
${Wi(t)}`);if(j==null)throw new F(`missing choices[${d}].tool_calls[${_}].function.arguments
${Wi(t)}`);return{...P,id:S,type:E,function:{...N,name:A,arguments:j}}})}}:{...m,message:{...p,content:v,role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return ub(l,e)}function Wi(t){return JSON.stringify(t)}class Pr extends Xs{static fromReadableStream(e){const n=new Pr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Pr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Pr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let wy=class extends W{parse(e,n){return fb(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Mc(r,e))}runFunctions(e,n){return e.stream?Pr.runFunctions(this._client,e,n):Ys.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Pr.runTools(this._client,e,n):Ys.runTools(this._client,e,n)}stream(e,n){return Xs.createChatCompletion(this._client,e,n)}},Ou=class extends W{constructor(){super(...arguments),this.completions=new wy(this._client)}};(function(t){t.Completions=wy})(Ou||(Ou={}));class _y extends W{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Fc extends W{constructor(){super(...arguments),this.sessions=new _y(this._client)}}Fc.Sessions=_y;var R=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ze=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},we,Au,Et,aa,ut,Nn,gr,On,Fa,Ve,oa,la,Os,ms,gs,tf,nf,rf,sf,af,of,lf;class pt extends ty{constructor(){super(...arguments),we.add(this),Au.set(this,[]),Et.set(this,{}),aa.set(this,{}),ut.set(this,void 0),Nn.set(this,void 0),gr.set(this,void 0),On.set(this,void 0),Fa.set(this,void 0),Ve.set(this,void 0),oa.set(this,void 0),la.set(this,void 0),Os.set(this,void 0)}[(Au=new WeakMap,Et=new WeakMap,aa=new WeakMap,ut=new WeakMap,Nn=new WeakMap,gr=new WeakMap,On=new WeakMap,Fa=new WeakMap,Ve=new WeakMap,oa=new WeakMap,la=new WeakMap,Os=new WeakMap,we=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new pt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Pt.fromReadableStream(e,this.controller);for await(const a of s)R(this,we,"m",ms).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new ft;return this._addRun(R(this,we,"m",gs).call(this))}toReadableStream(){return new Pt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const a=new pt;return a._run(()=>a._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,s,i){var u;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(n,r,o,{...i,signal:this.controller.signal});this._connected();for await(const c of l)R(this,we,"m",ms).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new ft;return this._addRun(R(this,we,"m",gs).call(this))}static createThreadAssistantStream(e,n,r){const s=new pt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new pt;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,oa,"f")}currentRun(){return R(this,la,"f")}currentMessageSnapshot(){return R(this,ut,"f")}currentRunStepSnapshot(){return R(this,Os,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,Et,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,aa,"f"))}async finalRun(){if(await this.done(),!R(this,Nn,"f"))throw Error("Final run was not received.");return R(this,Nn,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)R(this,we,"m",ms).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new ft;return this._addRun(R(this,we,"m",gs).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)R(this,we,"m",ms).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ft;return this._addRun(R(this,we,"m",gs).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(cl(i)&&cl(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!cl(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}ms=function(e){if(!this.ended)switch(ze(this,oa,e,"f"),R(this,we,"m",rf).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,we,"m",lf).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,we,"m",nf).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,we,"m",tf).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},gs=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");if(!R(this,Nn,"f"))throw Error("Final run has not been received");return R(this,Nn,"f")},tf=function(e){const[n,r]=R(this,we,"m",af).call(this,e,R(this,ut,"f"));ze(this,ut,n,"f"),R(this,aa,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=R(this,gr,"f")){if(R(this,On,"f"))switch(R(this,On,"f").type){case"text":this._emit("textDone",R(this,On,"f").text,R(this,ut,"f"));break;case"image_file":this._emit("imageFileDone",R(this,On,"f").image_file,R(this,ut,"f"));break}ze(this,gr,s.index,"f")}ze(this,On,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,gr,"f")!==void 0){const s=e.data.content[R(this,gr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,R(this,ut,"f"));break;case"text":this._emit("textDone",s.text,R(this,ut,"f"));break}}R(this,ut,"f")&&this._emit("messageDone",e.data),ze(this,ut,void 0,"f")}},nf=function(e){const n=R(this,we,"m",sf).call(this,e);switch(ze(this,Os,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==R(this,Fa,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,Ve,"f")&&this._emit("toolCallDone",R(this,Ve,"f")),ze(this,Fa,i.index,"f"),ze(this,Ve,n.step_details.tool_calls[i.index],"f"),R(this,Ve,"f")&&this._emit("toolCallCreated",R(this,Ve,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ze(this,Os,void 0,"f"),e.data.step_details.type=="tool_calls"&&R(this,Ve,"f")&&(this._emit("toolCallDone",R(this,Ve,"f")),ze(this,Ve,void 0,"f")),this._emit("runStepDone",e.data,n);break}},rf=function(e){R(this,Au,"f").push(e),this._emit("event",e)},sf=function(e){switch(e.event){case"thread.run.step.created":return R(this,Et,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=R(this,Et,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=pt.accumulateDelta(n,r.delta);R(this,Et,"f")[e.data.id]=s}return R(this,Et,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,Et,"f")[e.data.id]=e.data;break}if(R(this,Et,"f")[e.data.id])return R(this,Et,"f")[e.data.id];throw new Error("No snapshot available")},af=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=R(this,we,"m",of).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},of=function(e,n){return pt.accumulateDelta(n,e)},lf=function(e){switch(ze(this,la,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ze(this,Nn,e.data,"f"),R(this,Ve,"f")&&(this._emit("toolCallDone",R(this,Ve,"f")),ze(this,Ve,void 0,"f"));break}};class Uc extends W{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,zc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class zc extends Xe{}Uc.MessagesPage=zc;class Bc extends W{retrieve(e,n,r,s={},i){return Te(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return Te(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Wc,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Wc extends Xe{}Bc.RunStepsPage=Wc;class di extends W{constructor(){super(...arguments),this.steps=new Bc(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Vc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return pt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await li(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return pt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return pt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class Vc extends Xe{}di.RunsPage=Vc;di.Steps=Bc;di.RunStepsPage=Wc;class Hr extends W{constructor(){super(...arguments),this.runs=new di(this._client),this.messages=new Uc(this._client)}create(e={},n){return Te(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return pt.createThreadAssistantStream(e,this._client.beta.threads,n)}}Hr.Runs=di;Hr.RunsPage=Vc;Hr.Messages=Uc;Hr.MessagesPage=zc;const _b=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let Hc=class extends W{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,ko,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await li(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class ko extends Xe{}Hc.VectorStoreFilesPage=ko;class xy extends W{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Te(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,ko,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await li(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(h){for(let m of h){const v=await o.files.create({file:m,purpose:"assistants"},s);u.push(v.id)}}const d=Array(a).fill(l).map(c);return await _b(d),await this.createAndPoll(e,{file_ids:u})}}class qr extends W{constructor(){super(...arguments),this.files=new Hc(this._client),this.fileBatches=new xy(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/vector_stores",qc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class qc extends Xe{}qr.VectorStoresPage=qc;qr.Files=Hc;qr.VectorStoreFilesPage=ko;qr.FileBatches=xy;class wn extends W{constructor(){super(...arguments),this.realtime=new Fc(this._client),this.vectorStores=new qr(this._client),this.chat=new Ou(this._client),this.assistants=new Dc(this._client),this.threads=new Hr(this._client)}}wn.Realtime=Fc;wn.VectorStores=qr;wn.VectorStoresPage=qc;wn.Assistants=Dc;wn.AssistantsPage=Lc;wn.Threads=Hr;class ky extends W{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Sy extends W{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class Jc extends W{create(e,n){return this._client.post("/files",Mr({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/files",Qc,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await li(n),a=await this.retrieve(e),Date.now()-i>r)throw new Nc({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class Qc extends Xe{}Jc.FileObjectsPage=Qc;class Kc extends W{list(e,n={},r){return Te(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Gc,{query:n,...r})}}class Gc extends Xe{}Kc.FineTuningJobCheckpointsPage=Gc;class Jr extends W{constructor(){super(...arguments),this.checkpoints=new Kc(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Te(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Yc,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Te(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Xc,{query:n,...r})}}class Yc extends Xe{}class Xc extends Xe{}Jr.FineTuningJobsPage=Yc;Jr.FineTuningJobEventsPage=Xc;Jr.Checkpoints=Kc;Jr.FineTuningJobCheckpointsPage=Gc;class hi extends W{constructor(){super(...arguments),this.jobs=new Jr(this._client)}}hi.Jobs=Jr;hi.FineTuningJobsPage=Yc;hi.FineTuningJobEventsPage=Xc;class by extends W{createVariation(e,n){return this._client.post("/images/variations",Mr({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Mr({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Zc extends W{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",ed,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class ed extends ob{}Zc.ModelsPage=ed;class Ey extends W{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Cy extends W{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Mr({body:n,...r}))}}class td extends W{constructor(){super(...arguments),this.parts=new Cy(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}td.Parts=Cy;var Py;class z extends QS{constructor({baseURL:e=Fi("OPENAI_BASE_URL"),apiKey:n=Fi("OPENAI_API_KEY"),organization:r=Fi("OPENAI_ORG_ID")??null,project:s=Fi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new F("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&ib())throw new F(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new ky(this),this.chat=new xo(this),this.embeddings=new Sy(this),this.files=new Jc(this),this.images=new by(this),this.audio=new ui(this),this.moderations=new Ey(this),this.models=new Zc(this),this.fineTuning=new hi(this),this.beta=new wn(this),this.batches=new Ic(this),this.uploads=new td(this),this._options=a,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return AS(e,{arrayFormat:"brackets"})}}Py=z;z.OpenAI=Py;z.DEFAULT_TIMEOUT=6e5;z.OpenAIError=F;z.APIError=ke;z.APIConnectionError=mo;z.APIConnectionTimeoutError=Nc;z.APIUserAbortError=ft;z.NotFoundError=jg;z.ConflictError=Ng;z.RateLimitError=$g;z.BadRequestError=Og;z.AuthenticationError=Ag;z.InternalServerError=Dg;z.PermissionDeniedError=Rg;z.UnprocessableEntityError=Ig;z.toFile=Bg;z.fileFromPath=Pg;z.Completions=ky;z.Chat=xo;z.ChatCompletionsPage=_o;z.Embeddings=Sy;z.Files=Jc;z.FileObjectsPage=Qc;z.Images=by;z.Audio=ui;z.Moderations=Ey;z.Models=Zc;z.ModelsPage=ed;z.FineTuning=hi;z.Beta=wn;z.Batches=Ic;z.BatchesPage=$c;z.Uploads=td;const uf=[{question:"What is a REST API?",answer:"A REST (Representational State Transfer) API is an architectural style for distributed systems. It uses HTTP methods like GET, POST, PUT, and DELETE to perform operations on resources. REST APIs are stateless, cacheable, and provide a standardized way for web services to communicate."},{question:"Explain Docker",answer:"Docker is a platform for developing, shipping, and running applications in containers. Containers package an application with all its dependencies, ensuring it works consistently across different environments. This makes deployment easier and more reliable."},{question:"What is CI/CD?",answer:"CI/CD (Continuous Integration/Continuous Deployment) is a software development practice where code changes are automatically built, tested, and deployed. CI ensures code quality through automated testing, while CD automates the deployment process, enabling faster and more reliable software delivery."},{question:"What is responsive design?",answer:"Responsive design is an approach to web design that makes web pages render well on different devices and window sizes. It uses fluid grids, flexible images, and CSS media queries to create a dynamic viewing experience that adapts to various screen sizes."},{question:"Explain CORS",answer:"CORS (Cross-Origin Resource Sharing) is a security feature implemented by browsers that controls how web pages in one domain can request and interact with resources from another domain. It helps prevent unauthorized cross-origin requests while allowing legitimate ones through specific HTTP headers."},{question:"What is microservices architecture?",answer:"Microservices architecture is a design approach where an application is built as a collection of small, independent services. Each service runs in its own process and communicates through well-defined APIs. This architecture enables better scalability, maintainability, and independent deployment of services."},{question:"Explain dependency injection",answer:"Dependency Injection is a design pattern where objects receive their dependencies from external sources rather than creating them internally. This promotes loose coupling, makes code more testable, and improves maintainability by separating object creation from business logic."},{question:"What is SQL vs NoSQL?",answer:"SQL databases are relational databases that use structured query language and predefined schemas (like MySQL, PostgreSQL). NoSQL databases are non-relational and offer flexible schemas (like MongoDB, Redis). SQL is better for complex queries and transactions, while NoSQL excels in handling large volumes of unstructured data and rapid changes."},{question:"Explain database indexing",answer:"Database indexing is a data structure technique that improves the speed of data retrieval operations by providing quick access to rows in a database table. It's similar to a book's index, allowing the database to find data without scanning the entire table."},{question:"What is XSS?",answer:"Cross-Site Scripting (XSS) is a security vulnerability that allows attackers to inject malicious scripts into web pages viewed by other users. It can be prevented by properly sanitizing user input, using content security policies, and encoding output data."},{question:"Explain JWT",answer:"JSON Web Tokens (JWT) are a compact, URL-safe means of representing claims between parties. They're often used for authentication and information exchange, containing encoded JSON data and a signature to verify authenticity. JWTs are stateless and can include user data directly in the token."},{question:"What is cloud computing?",answer:"Cloud computing is the delivery of computing services (including servers, storage, databases, networking, software) over the Internet. It offers benefits like scalability, cost-effectiveness, and flexibility, allowing businesses to pay only for the resources they use."},{question:"Explain serverless computing",answer:"Serverless computing is a cloud computing model where the cloud provider automatically manages the infrastructure. Developers just write and deploy code in the form of functions, without worrying about servers. It offers automatic scaling and pay-per-execution pricing."},{question:"What is deep learning?",answer:"Deep learning is a subset of machine learning that uses neural networks with multiple layers (deep neural networks) to analyze various factors of data. It's particularly powerful in tasks like image and speech recognition, natural language processing, and making predictions."},{question:"Explain neural networks",answer:"Neural networks are computing systems inspired by biological neural networks in human brains. They consist of interconnected nodes (neurons) organized in layers that can learn patterns from data. Neural networks are fundamental to modern AI and can solve complex problems in various domains."},{question:"What is Git?",answer:"Git is a distributed version control system that tracks changes in source code during software development. It allows multiple developers to work together, maintain different versions of code, and merge changes efficiently. Git helps in managing code history and collaborative development."},{question:"Explain branching in Git",answer:"Branching in Git allows developers to diverge from the main line of development and work independently without affecting the main codebase. It's useful for developing features, fixing bugs, or experimenting without risking the stability of the main code."},{question:"What is unit testing?",answer:"Unit testing is a software testing method where individual components or units of code are tested in isolation. It helps ensure that each part of the program works correctly independently. Unit tests are typically automated and run as part of the development process."},{question:"Explain TDD",answer:"Test-Driven Development (TDD) is a software development approach where tests are written before the actual code. The cycle includes writing a failing test, writing code to pass the test, and then refactoring. This ensures code quality and helps maintain clear requirements."},{question:"What is WebAssembly?",answer:"WebAssembly (Wasm) is a binary instruction format for stack-based virtual machines that enables high-performance execution of code in web browsers. It allows languages like C++ and Rust to run in the browser at near-native speed."},{question:"Explain Progressive Web Apps",answer:"Progressive Web Apps (PWAs) are web applications that provide a native app-like experience to users. They work offline, can be installed on devices, support push notifications, and offer fast performance while maintaining the reach and accessibility of web applications."},{question:"What is agile methodology?",answer:"Agile methodology is an iterative approach to project management and software development that emphasizes flexibility, customer feedback, and rapid delivery. It breaks projects into small increments called sprints, allowing for frequent reassessment and adaptation of plans."},{question:"Explain code review",answer:"Code review is a systematic examination of source code by team members to find and fix mistakes, improve code quality, and ensure adherence to coding standards. It's a crucial practice that helps maintain code quality, share knowledge, and catch potential issues early."},{question:"What is load balancing?",answer:"Load balancing is the process of distributing network traffic across multiple servers to ensure no single server bears too much demand. This helps in maintaining high availability and reliability by preventing any single point of failure."},{question:"Explain caching",answer:"Caching is a technique of storing frequently accessed data in a faster storage system (cache) to reduce database load and improve application performance. Common caching strategies include in-memory caching, browser caching, and CDN caching."}],xb=new z({apiKey:"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",dangerouslyAllowBrowser:!0});function kb(t){const e=t.toLowerCase().trim(),n=uf.find(s=>s.question.toLowerCase()===e);if(n)return n.answer;const r=uf.filter(s=>s.question.toLowerCase().includes(e)||e.includes(s.question.toLowerCase()));return r.length>0?r[0].answer:null}async function Sb(t){try{const e=kb(t);return e||(await xb.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:t}]})).choices[0].message.content||"I apologize, but I couldn't generate a response."}catch(e){return console.error("Error getting chat response:",e),"I apologize, but I'm having trouble connecting to the AI service. Please try again later."}}async function bb(t,e){try{if(!t||!e||e.length===0)return console.warn("Invalid data for saving chat history"),null;const n=e.filter(i=>!i.isBot),r=n.length>0?n[0].text.substring(0,30)+(n[0].text.length>30?"...":""):"New conversation",{error:s}=await Qe.from("user_chats").select("id").limit(1);if(s&&s.message.includes("title")){const{data:i,error:a}=await Qe.from("user_chats").insert([{user_id:t,messages:e,updated_at:new Date().toISOString()}]);if(a)throw a;return i}else{const{data:i,error:a}=await Qe.from("user_chats").insert([{user_id:t,messages:e,title:r,updated_at:new Date().toISOString()}]);if(a)throw a;return i}}catch(n){return console.error("Error saving chat history:",n),[]}}async function Eb(t){try{if(!t)return console.warn("No user ID provided for fetching chat history"),[];try{const{data:e,error:n}=await Qe.from("user_chats").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(30);if(n)throw n;return e.map(r=>({id:r.id,title:r.title||"Untitled Chat",timestamp:r.created_at,messages:r.messages||[]}))}catch(e){if(e.message&&e.message.includes("title")){const{data:n,error:r}=await Qe.from("user_chats").select("id, user_id, messages, created_at, updated_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(30);if(r)throw r;return n.map(s=>{let i="Untitled Chat";if(s.messages&&Array.isArray(s.messages)&&s.messages.length>0){const a=s.messages.filter(o=>!o.isBot);a.length>0&&(i=a[0].text.substring(0,30)+(a[0].text.length>30?"...":""))}return{id:s.id,title:i,timestamp:s.created_at,messages:s.messages||[]}})}else throw e}}catch(e){return console.error("Error fetching chat history:",e),[]}}async function Cb(t,e,n){try{if(!t||!e)return console.warn("Invalid data for updating chat history"),null;const r={messages:e,updated_at:new Date().toISOString()},{error:s}=await Qe.from("user_chats").select("id, title").eq("id",t).limit(1);if(s&&s.message.includes("title")){const{data:i,error:a}=await Qe.from("user_chats").update({messages:e,updated_at:new Date().toISOString()}).eq("id",t);if(a)throw a;return i}else{const{data:i,error:a}=await Qe.from("user_chats").update(r).eq("id",t);if(a)throw a;return i}}catch(r){return console.error("Error updating chat history:",r),null}}function Pb(){var N;const{user:t,signOut:e}=fo(),n=Pc(),[r,s]=C.useState([{id:"1",text:`Hello ${((N=t==null?void 0:t.user_metadata)==null?void 0:N.username)||"there"}! I'm your AI Assistant. How can I help you today?`,isBot:!0,timestamp:new Date}]),[i,a]=C.useState(""),[o,l]=C.useState(!1),[u,c]=C.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[d,h]=C.useState(!1),[m,v]=C.useState([]),[y,x]=C.useState(null),p=C.useRef(null),[f,g]=C.useState(!1);C.useEffect(()=>{const M=()=>{const ne=window.innerWidth<768;g(ne),ne&&d?h(!1):!ne&&!d&&h(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[d]),C.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[u]),C.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{const M=await Eb(t.id);v(M||[])}catch(M){console.error("Error loading chat history:",M),v([])}},k=()=>{var M;(M=p.current)==null||M.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{k()},[r]);const E=async M=>{if(M.preventDefault(),!i.trim())return;const ne={id:Date.now().toString(),text:i,isBot:!1,timestamp:new Date};s(wt=>[...wt,ne]),a(""),l(!0);try{const wt=await Sb(i),Vt={id:(Date.now()+1).toString(),text:wt,isBot:!0,timestamp:new Date},At=[...r,ne,Vt];s(At),t&&(y?await Cb(y,At):await bb(t.id,At),_())}catch(wt){console.error("Error getting response:",wt);const Vt={id:(Date.now()+1).toString(),text:"I'm sorry, I couldn't process your request. Please try again later.",isBot:!0,timestamp:new Date};s(At=>[...At,Vt])}finally{l(!1)}},S=()=>{n("/logout")},P=(M,ne)=>{x(M),ne&&Array.isArray(ne)&&s(ne),f&&h(!1)},j=()=>{var M;x(null),s([{id:"1",text:`Hello ${((M=t==null?void 0:t.user_metadata)==null?void 0:M.username)||"there"}! I'm your AI Assistant. How can I help you today?`,isBot:!0,timestamp:new Date}]),f&&h(!1)},A=()=>{h(!d)};return w.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 p-0 md:p-4 flex flex-col transition-colors duration-200",children:[w.jsx(_S,{isOpen:d,onToggle:A,chatHistory:m,onSelectChat:P,currentChatId:y,onNewChat:j,isMobile:f}),w.jsxs("div",{className:`max-w-4xl mx-auto w-full glass-effect dark:bg-gray-800/50 rounded-none md:rounded-2xl shadow-lg overflow-hidden flex-1 border border-gray-100 dark:border-gray-700 transition-all duration-300 ${d&&!f?"ml-0 md:ml-72":""}`,children:[w.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-4 md:p-6 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[f&&w.jsx("button",{onClick:A,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors mr-2","aria-label":"Toggle sidebar",children:w.jsx(Vx,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[w.jsx("img",{src:"/ai-assistant-logo.svg",alt:"AI Assistant Logo",className:"w-6 h-6 md:w-8 md:h-8"}),w.jsx("h1",{className:"text-white text-lg md:text-2xl font-semibold",children:"AI Assistant"})]}),w.jsx("p",{className:"text-white/90 text-xs md:text-sm mt-1 md:mt-2 hidden md:block",children:"Powered by OpenAI - Ask me anything!"})]})]}),w.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[w.jsx("button",{onClick:j,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"New chat",children:w.jsx(cg,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),w.jsx("button",{onClick:()=>c(!u),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Toggle theme",children:u?w.jsx(Qx,{className:"w-4 h-4 md:w-5 md:h-5 text-white"}):w.jsx(qx,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),w.jsx("button",{onClick:S,className:"px-2 py-1 md:px-4 md:py-2 text-xs md:text-sm rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-white",children:"Sign Out"})]})]}),w.jsxs("div",{className:"h-[calc(100vh-200px)] md:h-[calc(100vh-300px)] overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 dark:bg-gray-900/50",children:[r.map((M,ne)=>w.jsx(Xx,{message:M,isTyping:o&&ne===r.length-1&&M.isBot,isDark:u},M.id)),w.jsx("div",{ref:p})]}),w.jsx("form",{onSubmit:E,className:"p-4 md:p-6 border-t border-gray-100 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur",children:w.jsxs("div",{className:"flex flex-col gap-2 md:gap-3",children:[w.jsxs("div",{className:"flex gap-2 md:gap-3",children:[w.jsx("input",{type:"text",value:i,onChange:M=>a(M.target.value),placeholder:"Ask your question...",className:"flex-1 px-4 py-3 text-sm md:text-base border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white dark:placeholder-gray-400"}),w.jsx("button",{type:"submit",disabled:o,className:"px-4 py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:w.jsx(Jx,{className:"w-5 h-5"})})]}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"AI Assistant can make mistakes. Consider checking important information."})]})})]})]})}function Tb(){const t=Pc(),{signOut:e}=fo(),[n,r]=$u.useState(!1);return C.useEffect(()=>{(async()=>{try{await e(),document.cookie.split(";").forEach(i=>{document.cookie=i.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),localStorage.clear(),r(!0),setTimeout(()=>t("/auth"),2e3)}catch(i){console.error("Logout error:",i),t("/auth")}})()},[e,t]),w.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden",children:w.jsxs("div",{className:"absolute -inset-[10px] opacity-50",children:[w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-full blur-3xl animate-pulse"}),w.jsx("div",{className:"absolute top-1/4 left-1/4 w-[300px] h-[300px] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl animate-pulse delay-700"}),w.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-gradient-to-r from-indigo-500/25 to-purple-500/25 rounded-full blur-2xl animate-pulse delay-500"})]})}),w.jsxs("div",{className:"max-w-md w-full glass-effect dark:bg-gray-800/50 rounded-2xl shadow-lg p-8 text-center relative z-10 backdrop-blur-lg border border-gray-100 dark:border-gray-700",children:[w.jsx("div",{className:"relative mb-6",children:n?w.jsx("div",{className:"w-20 h-20 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:w.jsx(Dx,{className:"w-10 h-10 text-green-500"})}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}),w.jsx("div",{className:"w-20 h-20 mx-auto bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:w.jsx(Bx,{className:"w-10 h-10 text-purple-500"})})]})}),w.jsx("h1",{className:`text-2xl font-bold text-gray-800 dark:text-white mb-2 transition-all duration-500 ${n?"opacity-100":"opacity-80"}`,children:n?"Successfully Signed Out!":"Signing Out..."}),w.jsx("p",{className:`text-gray-600 dark:text-gray-400 transition-all duration-500 ${n?"opacity-100":"opacity-80"}`,children:n?"Thank you for using our AI Assistant. See you again soon!":"Please wait while we securely log you out..."}),n&&w.jsxs("div",{className:"mt-6 animate-fade-in",children:[w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting you to the login page..."}),w.jsx("div",{className:"mt-4",children:w.jsx("button",{onClick:()=>t("/auth"),className:"px-6 py-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-all duration-200 text-sm",children:"Back to Login"})})]})]})]})}function Ob(){return w.jsx(Jw,{children:w.jsx(Ax,{children:w.jsxs(Vw,{children:[w.jsx(na,{path:"/auth",element:w.jsx(Yx,{})}),w.jsx(na,{path:"/logout",element:w.jsx(Tb,{})}),w.jsx(na,{path:"/",element:w.jsx(Pb,{})})]})})})}Sm(document.getElementById("root")).render(w.jsx(C.StrictMode,{children:w.jsx(Ob,{})}));export{cf as g};
