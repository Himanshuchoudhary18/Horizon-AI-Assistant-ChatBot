function Dy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ly(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var gf={exports:{}},Ha={},yf={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),My=Symbol.for("react.portal"),Fy=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),qy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),od=Symbol.iterator;function Qy(t){return t===null||typeof t!="object"?null:(t=od&&t[od]||t["@@iterator"],typeof t=="function"?t:null)}var vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wf=Object.assign,_f={};function Wr(t,e,n){this.props=t,this.context=e,this.refs=_f,this.updater=n||vf}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xf(){}xf.prototype=Wr.prototype;function Lu(t,e,n){this.props=t,this.context=e,this.refs=_f,this.updater=n||vf}var Mu=Lu.prototype=new xf;Mu.constructor=Lu;wf(Mu,Wr.prototype);Mu.isPureReactComponent=!0;var ld=Array.isArray,kf=Object.prototype.hasOwnProperty,Fu={current:null},Sf={key:!0,ref:!0,__self:!0,__source:!0};function bf(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)kf.call(e,r)&&!Sf.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ai,type:t,key:i,ref:a,props:s,_owner:Fu.current}}function Gy(t,e){return{$$typeof:ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ai}function Ky(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ud=/\/+/g;function jo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ky(""+t.key):e.toString(36)}function Gi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ai:case My:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+jo(a,0):r,ld(s)?(n="",t!=null&&(n=t.replace(ud,"$&/")+"/"),Gi(s,e,n,"",function(u){return u})):s!=null&&(Uu(s)&&(s=Gy(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ud,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",ld(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+jo(i,o);a+=Gi(i,e,n,l,s)}else if(l=Qy(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+jo(i,o++),a+=Gi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function _i(t,e,n){if(t==null)return t;var r=[],s=0;return Gi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Yy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},Ki={transition:null},Xy={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:Fu};function Ef(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:_i,forEach:function(t,e,n){_i(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _i(t,function(){e++}),e},toArray:function(t){return _i(t,function(e){return e})||[]},only:function(t){if(!Uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Wr;M.Fragment=Fy;M.Profiler=zy;M.PureComponent=Lu;M.StrictMode=Uy;M.Suspense=Hy;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;M.act=Ef;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wf({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Fu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)kf.call(e,l)&&!Sf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ai,type:t.type,key:s,ref:i,props:r,_owner:a}};M.createContext=function(t){return t={$$typeof:Wy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:By,_context:t},t.Consumer=t};M.createElement=bf;M.createFactory=function(t){var e=bf.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Vy,render:t}};M.isValidElement=Uu;M.lazy=function(t){return{$$typeof:Jy,_payload:{_status:-1,_result:t},_init:Yy}};M.memo=function(t,e){return{$$typeof:qy,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Ki.transition;Ki.transition={};try{t()}finally{Ki.transition=e}};M.unstable_act=Ef;M.useCallback=function(t,e){return Ae.current.useCallback(t,e)};M.useContext=function(t){return Ae.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};M.useEffect=function(t,e){return Ae.current.useEffect(t,e)};M.useId=function(){return Ae.current.useId()};M.useImperativeHandle=function(t,e,n){return Ae.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Ae.current.useMemo(t,e)};M.useReducer=function(t,e,n){return Ae.current.useReducer(t,e,n)};M.useRef=function(t){return Ae.current.useRef(t)};M.useState=function(t){return Ae.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return Ae.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return Ae.current.useTransition()};M.version="18.3.1";yf.exports=M;var b=yf.exports;const qa=mf(b),Zy=Dy({__proto__:null,default:qa},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=b,t0=Symbol.for("react.element"),n0=Symbol.for("react.fragment"),r0=Object.prototype.hasOwnProperty,s0=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i0={key:!0,ref:!0,__self:!0,__source:!0};function Cf(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)r0.call(e,r)&&!i0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:t0,type:t,key:i,ref:a,props:s,_owner:s0.current}}Ha.Fragment=n0;Ha.jsx=Cf;Ha.jsxs=Cf;gf.exports=Ha;var g=gf.exports,Pf={exports:{}},Xe={},Tf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var D=j.length;j.push($);e:for(;0<D;){var te=D-1>>>1,le=j[te];if(0<s(le,$))j[te]=$,j[D]=le,D=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],D=j.pop();if(D!==$){j[0]=D;e:for(var te=0,le=j.length,Sn=le>>>1;te<Sn;){var Rt=2*(te+1)-1,Yn=j[Rt],I=Rt+1,U=j[I];if(0>s(Yn,D))I<le&&0>s(U,Yn)?(j[te]=U,j[I]=D,te=I):(j[te]=Yn,j[Rt]=D,te=Rt);else if(I<le&&0>s(U,D))j[te]=U,j[I]=D,te=I;else break e}}return $}function s(j,$){var D=j.sortIndex-$.sortIndex;return D!==0?D:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function _(j){if(v=!1,y(j),!w)if(n(l)!==null)w=!0,Xr(k);else{var $=n(u);$!==null&&Zr(_,$.startTime-j)}}function k(j,$){w=!1,v&&(v=!1,p(O),O=-1),m=!0;var D=h;try{for(y($),d=n(l);d!==null&&(!(d.expirationTime>$)||j&&!A());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var le=te(d.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),y($)}else r(l);d=n(l)}if(d!==null)var Sn=!0;else{var Rt=n(u);Rt!==null&&Zr(_,Rt.startTime-$),Sn=!1}return Sn}finally{d=null,h=D,m=!1}}var C=!1,S=null,O=-1,T=5,P=-1;function A(){return!(t.unstable_now()-P<T)}function we(){if(S!==null){var j=t.unstable_now();P=j;var $=!0;try{$=S(!0,j)}finally{$?lt():(C=!1,S=null)}}else C=!1}var lt;if(typeof f=="function")lt=function(){f(we)};else if(typeof MessageChannel<"u"){var kn=new MessageChannel,Kn=kn.port2;kn.port1.onmessage=we,lt=function(){Kn.postMessage(null)}}else lt=function(){x(we,0)};function Xr(j){S=j,C||(C=!0,lt())}function Zr(j,$){O=x(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Xr(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var D=h;h=$;try{return j()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=h;h=j;try{return $()}finally{h=D}},t.unstable_scheduleCallback=function(j,$,D){var te=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?te+D:te):D=te,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=D+le,j={id:c++,callback:$,priorityLevel:j,startTime:D,expirationTime:le,sortIndex:-1},D>te?(j.sortIndex=D,e(u,j),n(l)===null&&j===n(u)&&(v?(p(O),O=-1):v=!0,Zr(_,D-te))):(j.sortIndex=le,e(l,j),w||m||(w=!0,Xr(k))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var $=h;return function(){var D=h;h=$;try{return j.apply(this,arguments)}finally{h=D}}}})(Of);Tf.exports=Of;var a0=Tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=b,Ye=a0;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,Ls={};function Hn(t,e){Rr(t,e),Rr(t+"Capture",e)}function Rr(t,e){for(Ls[t]=e,t=0;t<e.length;t++)jf.add(e[t])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=Object.prototype.hasOwnProperty,l0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},dd={};function u0(t){return kl.call(dd,t)?!0:kl.call(cd,t)?!1:l0.test(t)?dd[t]=!0:(cd[t]=!0,!1)}function c0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d0(t,e,n,r){if(e===null||typeof e>"u"||c0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Bu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zu,Bu);Se[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zu,Bu);Se[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zu,Bu);Se[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wu(t,e,n,r){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d0(e,n,s,r)&&(n=null),r||s===null?u0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qt=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xi=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),qu=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Af=Symbol.for("react.offscreen"),hd=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=hd&&t[hd]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,No;function fs(t){if(No===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);No=e&&e[1]||""}return`
`+No+t}var Ro=!1;function Ao(t,e){if(!t||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fs(t):""}function h0(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=Ao(t.type,!1),t;case 11:return t=Ao(t.type.render,!1),t;case 1:return t=Ao(t.type,!0),t;default:return""}}function Cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ur:return"Fragment";case lr:return"Portal";case Sl:return"Profiler";case Vu:return"StrictMode";case bl:return"Suspense";case El:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rf:return(t.displayName||"Context")+".Consumer";case Nf:return(t._context.displayName||"Context")+".Provider";case Hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qu:return e=t.displayName||null,e!==null?e:Cl(t.type)||"Memo";case Xt:e=t._payload,t=t._init;try{return Cl(t(e))}catch{}}return null}function f0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(e);case 8:return e===Vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function If(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p0(t){var e=If(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ki(t){t._valueTracker||(t._valueTracker=p0(t))}function $f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=If(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pl(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Df(t,e){e=e.checked,e!=null&&Wu(t,"checked",e,!1)}function Tl(t,e){Df(t,e);var n=gn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ol(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ol(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ol(t,e,n){(e!=="number"||pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ps=Array.isArray;function xr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function md(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ps(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gn(n)}}function Lf(t,e){var n=gn(e.value),r=gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Si,Ff=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m0=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){m0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bs[e]=bs[t]})});function Uf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bs.hasOwnProperty(t)&&bs[t]?(""+e).trim():e+"px"}function zf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var g0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(t,e){if(e){if(g0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Al(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,kr=null,Sr=null;function yd(t){if(t=ui(t)){if(typeof $l!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ya(e),$l(t.stateNode,t.type,e))}}function Bf(t){kr?Sr?Sr.push(t):Sr=[t]:kr=t}function Wf(){if(kr){var t=kr,e=Sr;if(Sr=kr=null,yd(t),e)for(t=0;t<e.length;t++)yd(e[t])}}function Vf(t,e){return t(e)}function Hf(){}var Io=!1;function qf(t,e,n){if(Io)return t(e,n);Io=!0;try{return Vf(t,e,n)}finally{Io=!1,(kr!==null||Sr!==null)&&(Hf(),Wf())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ya(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Dl=!1;if(zt)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Dl=!1}function y0(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Es=!1,ma=null,ga=!1,Ll=null,v0={onError:function(t){Es=!0,ma=t}};function w0(t,e,n,r,s,i,a,o,l){Es=!1,ma=null,y0.apply(v0,arguments)}function _0(t,e,n,r,s,i,a,o,l){if(w0.apply(this,arguments),Es){if(Es){var u=ma;Es=!1,ma=null}else throw Error(E(198));ga||(ga=!0,Ll=u)}}function qn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vd(t){if(qn(t)!==t)throw Error(E(188))}function x0(t){var e=t.alternate;if(!e){if(e=qn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vd(s),t;if(i===r)return vd(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Qf(t){return t=x0(t),t!==null?Gf(t):null}function Gf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gf(t);if(e!==null)return e;t=t.sibling}return null}var Kf=Ye.unstable_scheduleCallback,wd=Ye.unstable_cancelCallback,k0=Ye.unstable_shouldYield,S0=Ye.unstable_requestPaint,oe=Ye.unstable_now,b0=Ye.unstable_getCurrentPriorityLevel,Qu=Ye.unstable_ImmediatePriority,Yf=Ye.unstable_UserBlockingPriority,ya=Ye.unstable_NormalPriority,E0=Ye.unstable_LowPriority,Xf=Ye.unstable_IdlePriority,Ja=null,jt=null;function C0(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ja,t,void 0,(t.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:O0,P0=Math.log,T0=Math.LN2;function O0(t){return t>>>=0,t===0?32:31-(P0(t)/T0|0)|0}var bi=64,Ei=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function va(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ms(o):(i&=a,i!==0&&(r=ms(i)))}else a=n&~s,a!==0?r=ms(a):i!==0&&(r=ms(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vt(e),s=1<<n,r|=t[n],e&=~s;return r}function j0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-vt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=j0(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zf(){var t=bi;return bi<<=1,!(bi&4194240)&&(bi=64),t}function $o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vt(e),t[e]=n}function R0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function ep(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tp,Ku,np,rp,sp,Fl=!1,Ci=[],ln=null,un=null,cn=null,Us=new Map,zs=new Map,tn=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _d(t,e){switch(t){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(e.pointerId)}}function rs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ui(e),e!==null&&Ku(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function I0(t,e,n,r,s){switch(e){case"focusin":return ln=rs(ln,t,e,n,r,s),!0;case"dragenter":return un=rs(un,t,e,n,r,s),!0;case"mouseover":return cn=rs(cn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Us.set(i,rs(Us.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zs.set(i,rs(zs.get(i)||null,t,e,n,r,s)),!0}return!1}function ip(t){var e=Rn(t.target);if(e!==null){var n=qn(e);if(n!==null){if(e=n.tag,e===13){if(e=Jf(n),e!==null){t.blockedOn=e,sp(t.priority,function(){np(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ul(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Il=r,n.target.dispatchEvent(r),Il=null}else return e=ui(n),e!==null&&Ku(e),t.blockedOn=n,!1;e.shift()}return!0}function xd(t,e,n){Yi(t)&&n.delete(e)}function $0(){Fl=!1,ln!==null&&Yi(ln)&&(ln=null),un!==null&&Yi(un)&&(un=null),cn!==null&&Yi(cn)&&(cn=null),Us.forEach(xd),zs.forEach(xd)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Fl||(Fl=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,$0)))}function Bs(t){function e(s){return ss(s,t)}if(0<Ci.length){ss(Ci[0],t);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ln!==null&&ss(ln,t),un!==null&&ss(un,t),cn!==null&&ss(cn,t),Us.forEach(e),zs.forEach(e),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)ip(n),n.blockedOn===null&&tn.shift()}var br=qt.ReactCurrentBatchConfig,wa=!0;function D0(t,e,n,r){var s=q,i=br.transition;br.transition=null;try{q=1,Yu(t,e,n,r)}finally{q=s,br.transition=i}}function L0(t,e,n,r){var s=q,i=br.transition;br.transition=null;try{q=4,Yu(t,e,n,r)}finally{q=s,br.transition=i}}function Yu(t,e,n,r){if(wa){var s=Ul(t,e,n,r);if(s===null)Ho(t,e,r,_a,n),_d(t,r);else if(I0(s,t,e,n,r))r.stopPropagation();else if(_d(t,r),e&4&&-1<A0.indexOf(t)){for(;s!==null;){var i=ui(s);if(i!==null&&tp(i),i=Ul(t,e,n,r),i===null&&Ho(t,e,r,_a,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ho(t,e,r,null,n)}}var _a=null;function Ul(t,e,n,r){if(_a=null,t=Ju(r),t=Rn(t),t!==null)if(e=qn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _a=t,null}function ap(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b0()){case Qu:return 1;case Yf:return 4;case ya:case E0:return 16;case Xf:return 536870912;default:return 16}default:return 16}}var sn=null,Xu=null,Xi=null;function op(){if(Xi)return Xi;var t,e=Xu,n=e.length,r,s="value"in sn?sn.value:sn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Xi=s.slice(t,1<r?1-r:void 0)}function Zi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function kd(){return!1}function Ze(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:kd,this.isPropagationStopped=kd,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),e}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=Ze(Vr),li=ie({},Vr,{view:0,detail:0}),M0=Ze(li),Do,Lo,is,Qa=ie({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(Do=t.screenX-is.screenX,Lo=t.screenY-is.screenY):Lo=Do=0,is=t),Do)},movementY:function(t){return"movementY"in t?t.movementY:Lo}}),Sd=Ze(Qa),F0=ie({},Qa,{dataTransfer:0}),U0=Ze(F0),z0=ie({},li,{relatedTarget:0}),Mo=Ze(z0),B0=ie({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=Ze(B0),V0=ie({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H0=Ze(V0),q0=ie({},Vr,{data:0}),bd=Ze(q0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G0[t])?!!e[t]:!1}function ec(){return K0}var Y0=ie({},li,{key:function(t){if(t.key){var e=J0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?Zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X0=Ze(Y0),Z0=ie({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=Ze(Z0),ev=ie({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),tv=Ze(ev),nv=ie({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=Ze(nv),sv=ie({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=Ze(sv),av=[9,13,27,32],tc=zt&&"CompositionEvent"in window,Cs=null;zt&&"documentMode"in document&&(Cs=document.documentMode);var ov=zt&&"TextEvent"in window&&!Cs,lp=zt&&(!tc||Cs&&8<Cs&&11>=Cs),Cd=" ",Pd=!1;function up(t,e){switch(t){case"keyup":return av.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function lv(t,e){switch(t){case"compositionend":return cp(e);case"keypress":return e.which!==32?null:(Pd=!0,Cd);case"textInput":return t=e.data,t===Cd&&Pd?null:t;default:return null}}function uv(t,e){if(cr)return t==="compositionend"||!tc&&up(t,e)?(t=op(),Xi=Xu=sn=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lp&&e.locale!=="ko"?null:e.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cv[t.type]:e==="textarea"}function dp(t,e,n,r){Bf(r),e=xa(e,"onChange"),0<e.length&&(n=new Zu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ps=null,Ws=null;function dv(t){kp(t,0)}function Ga(t){var e=fr(t);if($f(e))return t}function hv(t,e){if(t==="change")return e}var hp=!1;if(zt){var Fo;if(zt){var Uo="oninput"in document;if(!Uo){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Uo=typeof Od.oninput=="function"}Fo=Uo}else Fo=!1;hp=Fo&&(!document.documentMode||9<document.documentMode)}function jd(){Ps&&(Ps.detachEvent("onpropertychange",fp),Ws=Ps=null)}function fp(t){if(t.propertyName==="value"&&Ga(Ws)){var e=[];dp(e,Ws,t,Ju(t)),qf(dv,e)}}function fv(t,e,n){t==="focusin"?(jd(),Ps=e,Ws=n,Ps.attachEvent("onpropertychange",fp)):t==="focusout"&&jd()}function pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(Ws)}function mv(t,e){if(t==="click")return Ga(e)}function gv(t,e){if(t==="input"||t==="change")return Ga(e)}function yv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:yv;function Vs(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kl.call(e,s)||!_t(t[s],e[s]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,e){var n=Nd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nd(n)}}function pp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mp(){for(var t=window,e=pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pa(t.document)}return e}function nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vv(t){var e=mp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pp(n.ownerDocument.documentElement,n)){if(r!==null&&nc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Rd(n,i);var a=Rd(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wv=zt&&"documentMode"in document&&11>=document.documentMode,dr=null,zl=null,Ts=null,Bl=!1;function Ad(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bl||dr==null||dr!==pa(r)||(r=dr,"selectionStart"in r&&nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&Vs(Ts,r)||(Ts=r,r=xa(zl,"onSelect"),0<r.length&&(e=new Zu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}function Ti(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hr={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},zo={},gp={};zt&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Ka(t){if(zo[t])return zo[t];if(!hr[t])return t;var e=hr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gp)return zo[t]=e[n];return t}var yp=Ka("animationend"),vp=Ka("animationiteration"),wp=Ka("animationstart"),_p=Ka("transitionend"),xp=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(t,e){xp.set(t,e),Hn(e,[t])}for(var Bo=0;Bo<Id.length;Bo++){var Wo=Id[Bo],_v=Wo.toLowerCase(),xv=Wo[0].toUpperCase()+Wo.slice(1);vn(_v,"on"+xv)}vn(yp,"onAnimationEnd");vn(vp,"onAnimationIteration");vn(wp,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(_p,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function $d(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_0(r,e,void 0,t),t.currentTarget=null}function kp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;$d(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;$d(s,o,u),i=l}}}if(ga)throw t=Ll,ga=!1,Ll=null,t}function X(t,e){var n=e[Jl];n===void 0&&(n=e[Jl]=new Set);var r=t+"__bubble";n.has(r)||(Sp(e,t,2,!1),n.add(r))}function Vo(t,e,n){var r=0;e&&(r|=4),Sp(n,t,r,e)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Hs(t){if(!t[Oi]){t[Oi]=!0,jf.forEach(function(n){n!=="selectionchange"&&(kv.has(n)||Vo(n,!1,t),Vo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oi]||(e[Oi]=!0,Vo("selectionchange",!1,e))}}function Sp(t,e,n,r){switch(ap(e)){case 1:var s=D0;break;case 4:s=L0;break;default:s=Yu}n=s.bind(null,e,n,t),s=void 0,!Dl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ho(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Rn(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}qf(function(){var u=i,c=Ju(n),d=[];e:{var h=xp.get(t);if(h!==void 0){var m=Zu,w=t;switch(t){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":m=X0;break;case"focusin":w="focus",m=Mo;break;case"focusout":w="blur",m=Mo;break;case"beforeblur":case"afterblur":m=Mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tv;break;case yp:case vp:case wp:m=W0;break;case _p:m=rv;break;case"scroll":m=M0;break;case"wheel":m=iv;break;case"copy":case"cut":case"paste":m=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ed}var v=(e&4)!==0,x=!v&&t==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,y;f!==null;){y=f;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,p!==null&&(_=Fs(f,p),_!=null&&v.push(qs(f,_,y)))),x)break;f=f.return}0<v.length&&(h=new m(h,w,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Il&&(w=n.relatedTarget||n.fromElement)&&(Rn(w)||w[Bt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Rn(w):null,w!==null&&(x=qn(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=Sd,_="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ed,_="onPointerLeave",p="onPointerEnter",f="pointer"),x=m==null?h:fr(m),y=w==null?h:fr(w),h=new v(_,f+"leave",m,n,c),h.target=x,h.relatedTarget=y,_=null,Rn(c)===u&&(v=new v(p,f+"enter",w,n,c),v.target=y,v.relatedTarget=x,_=v),x=_,m&&w)t:{for(v=m,p=w,f=0,y=v;y;y=Xn(y))f++;for(y=0,_=p;_;_=Xn(_))y++;for(;0<f-y;)v=Xn(v),f--;for(;0<y-f;)p=Xn(p),y--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Xn(v),p=Xn(p)}v=null}else v=null;m!==null&&Dd(d,h,m,v,!1),w!==null&&x!==null&&Dd(d,x,w,v,!0)}}e:{if(h=u?fr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=hv;else if(Td(h))if(hp)k=gv;else{k=pv;var C=fv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=mv);if(k&&(k=k(t,u))){dp(d,k,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ol(h,"number",h.value)}switch(C=u?fr(u):window,t){case"focusin":(Td(C)||C.contentEditable==="true")&&(dr=C,zl=u,Ts=null);break;case"focusout":Ts=zl=dr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,Ad(d,n,c);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Ad(d,n,c)}var S;if(tc)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else cr?up(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(lp&&n.locale!=="ko"&&(cr||O!=="onCompositionStart"?O==="onCompositionEnd"&&cr&&(S=op()):(sn=c,Xu="value"in sn?sn.value:sn.textContent,cr=!0)),C=xa(u,O),0<C.length&&(O=new bd(O,t,null,n,c),d.push({event:O,listeners:C}),S?O.data=S:(S=cp(n),S!==null&&(O.data=S)))),(S=ov?lv(t,n):uv(t,n))&&(u=xa(u,"onBeforeInput"),0<u.length&&(c=new bd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}kp(d,e)})}function qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fs(t,n),i!=null&&r.unshift(qs(t,i,s)),i=Fs(t,e),i!=null&&r.push(qs(t,i,s))),t=t.return}return r}function Xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dd(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Fs(n,i),l!=null&&a.unshift(qs(n,l,o))):s||(l=Fs(n,i),l!=null&&a.push(qs(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Sv=/\r\n?/g,bv=/\u0000|\uFFFD/g;function Ld(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(bv,"")}function ji(t,e,n){if(e=Ld(e),Ld(t)!==e&&n)throw Error(E(425))}function ka(){}var Wl=null,Vl=null;function Hl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,Md=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Md<"u"?function(t){return Md.resolve(null).then(t).catch(Pv)}:ql;function Pv(t){setTimeout(function(){throw t})}function qo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bs(e)}function dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hr,Js="__reactProps$"+Hr,Bt="__reactContainer$"+Hr,Jl="__reactEvents$"+Hr,Tv="__reactListeners$"+Hr,Ov="__reactHandles$"+Hr;function Rn(t){var e=t[Tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bt]||n[Tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fd(t);t!==null;){if(n=t[Tt])return n;t=Fd(t)}return e}t=n,n=t.parentNode}return null}function ui(t){return t=t[Tt]||t[Bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ya(t){return t[Js]||null}var Ql=[],pr=-1;function wn(t){return{current:t}}function Z(t){0>pr||(t.current=Ql[pr],Ql[pr]=null,pr--)}function Y(t,e){pr++,Ql[pr]=t.current,t.current=e}var yn={},Oe=wn(yn),ze=wn(!1),Fn=yn;function Ar(t,e){var n=t.type.contextTypes;if(!n)return yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function Sa(){Z(ze),Z(Oe)}function Ud(t,e,n){if(Oe.current!==yn)throw Error(E(168));Y(Oe,e),Y(ze,n)}function bp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,f0(t)||"Unknown",s));return ie({},n,r)}function ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Fn=Oe.current,Y(Oe,t),Y(ze,ze.current),!0}function zd(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=bp(t,e,Fn),r.__reactInternalMemoizedMergedChildContext=t,Z(ze),Z(Oe),Y(Oe,t)):Z(ze),Y(ze,n)}var Lt=null,Xa=!1,Jo=!1;function Ep(t){Lt===null?Lt=[t]:Lt.push(t)}function jv(t){Xa=!0,Ep(t)}function _n(){if(!Jo&&Lt!==null){Jo=!0;var t=0,e=q;try{var n=Lt;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lt=null,Xa=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(t+1)),Kf(Qu,_n),s}finally{q=e,Jo=!1}}return null}var mr=[],gr=0,Ea=null,Ca=0,tt=[],nt=0,Un=null,Mt=1,Ft="";function Cn(t,e){mr[gr++]=Ca,mr[gr++]=Ea,Ea=t,Ca=e}function Cp(t,e,n){tt[nt++]=Mt,tt[nt++]=Ft,tt[nt++]=Un,Un=t;var r=Mt;t=Ft;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var i=32-vt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Mt=1<<32-vt(e)+s|n<<s|r,Ft=i+t}else Mt=1<<i|n<<s|r,Ft=t}function rc(t){t.return!==null&&(Cn(t,1),Cp(t,1,0))}function sc(t){for(;t===Ea;)Ea=mr[--gr],mr[gr]=null,Ca=mr[--gr],mr[gr]=null;for(;t===Un;)Un=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null,Mt=tt[--nt],tt[nt]=null}var Ke=null,Ge=null,ee=!1,mt=null;function Pp(t,e){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ke=t,Ge=dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ke=t,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Un!==null?{id:Mt,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ke=t,Ge=null,!0):!1;default:return!1}}function Gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kl(t){if(ee){var e=Ge;if(e){var n=e;if(!Bd(t,e)){if(Gl(t))throw Error(E(418));e=dn(n.nextSibling);var r=Ke;e&&Bd(t,e)?Pp(r,n):(t.flags=t.flags&-4097|2,ee=!1,Ke=t)}}else{if(Gl(t))throw Error(E(418));t.flags=t.flags&-4097|2,ee=!1,Ke=t}}}function Wd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ke=t}function Ni(t){if(t!==Ke)return!1;if(!ee)return Wd(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hl(t.type,t.memoizedProps)),e&&(e=Ge)){if(Gl(t))throw Tp(),Error(E(418));for(;e;)Pp(t,e),e=dn(e.nextSibling)}if(Wd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ge=dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ge=null}}else Ge=Ke?dn(t.stateNode.nextSibling):null;return!0}function Tp(){for(var t=Ge;t;)t=dn(t.nextSibling)}function Ir(){Ge=Ke=null,ee=!1}function ic(t){mt===null?mt=[t]:mt.push(t)}var Nv=qt.ReactCurrentBatchConfig;function as(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Ri(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vd(t){var e=t._init;return e(t._payload)}function Op(t){function e(p,f){if(t){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=mn(p,f),p.index=0,p.sibling=null,p}function i(p,f,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=2,f):y):(p.flags|=2,f)):(p.flags|=1048576,f)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function o(p,f,y,_){return f===null||f.tag!==6?(f=el(y,p.mode,_),f.return=p,f):(f=s(f,y),f.return=p,f)}function l(p,f,y,_){var k=y.type;return k===ur?c(p,f,y.props.children,_,y.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&Vd(k)===f.type)?(_=s(f,y.props),_.ref=as(p,f,y),_.return=p,_):(_=aa(y.type,y.key,y.props,null,p.mode,_),_.ref=as(p,f,y),_.return=p,_)}function u(p,f,y,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=tl(y,p.mode,_),f.return=p,f):(f=s(f,y.children||[]),f.return=p,f)}function c(p,f,y,_,k){return f===null||f.tag!==7?(f=Ln(y,p.mode,_,k),f.return=p,f):(f=s(f,y),f.return=p,f)}function d(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=el(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xi:return y=aa(f.type,f.key,f.props,null,p.mode,y),y.ref=as(p,null,f),y.return=p,y;case lr:return f=tl(f,p.mode,y),f.return=p,f;case Xt:var _=f._init;return d(p,_(f._payload),y)}if(ps(f)||ts(f))return f=Ln(f,p.mode,y,null),f.return=p,f;Ri(p,f)}return null}function h(p,f,y,_){var k=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(p,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:return y.key===k?l(p,f,y,_):null;case lr:return y.key===k?u(p,f,y,_):null;case Xt:return k=y._init,h(p,f,k(y._payload),_)}if(ps(y)||ts(y))return k!==null?null:c(p,f,y,_,null);Ri(p,y)}return null}function m(p,f,y,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(y)||null,o(f,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xi:return p=p.get(_.key===null?y:_.key)||null,l(f,p,_,k);case lr:return p=p.get(_.key===null?y:_.key)||null,u(f,p,_,k);case Xt:var C=_._init;return m(p,f,y,C(_._payload),k)}if(ps(_)||ts(_))return p=p.get(y)||null,c(f,p,_,k,null);Ri(f,_)}return null}function w(p,f,y,_){for(var k=null,C=null,S=f,O=f=0,T=null;S!==null&&O<y.length;O++){S.index>O?(T=S,S=null):T=S.sibling;var P=h(p,S,y[O],_);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(p,S),f=i(P,f,O),C===null?k=P:C.sibling=P,C=P,S=T}if(O===y.length)return n(p,S),ee&&Cn(p,O),k;if(S===null){for(;O<y.length;O++)S=d(p,y[O],_),S!==null&&(f=i(S,f,O),C===null?k=S:C.sibling=S,C=S);return ee&&Cn(p,O),k}for(S=r(p,S);O<y.length;O++)T=m(S,p,O,y[O],_),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?O:T.key),f=i(T,f,O),C===null?k=T:C.sibling=T,C=T);return t&&S.forEach(function(A){return e(p,A)}),ee&&Cn(p,O),k}function v(p,f,y,_){var k=ts(y);if(typeof k!="function")throw Error(E(150));if(y=k.call(y),y==null)throw Error(E(151));for(var C=k=null,S=f,O=f=0,T=null,P=y.next();S!==null&&!P.done;O++,P=y.next()){S.index>O?(T=S,S=null):T=S.sibling;var A=h(p,S,P.value,_);if(A===null){S===null&&(S=T);break}t&&S&&A.alternate===null&&e(p,S),f=i(A,f,O),C===null?k=A:C.sibling=A,C=A,S=T}if(P.done)return n(p,S),ee&&Cn(p,O),k;if(S===null){for(;!P.done;O++,P=y.next())P=d(p,P.value,_),P!==null&&(f=i(P,f,O),C===null?k=P:C.sibling=P,C=P);return ee&&Cn(p,O),k}for(S=r(p,S);!P.done;O++,P=y.next())P=m(S,p,O,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?O:P.key),f=i(P,f,O),C===null?k=P:C.sibling=P,C=P);return t&&S.forEach(function(we){return e(p,we)}),ee&&Cn(p,O),k}function x(p,f,y,_){if(typeof y=="object"&&y!==null&&y.type===ur&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xi:e:{for(var k=y.key,C=f;C!==null;){if(C.key===k){if(k=y.type,k===ur){if(C.tag===7){n(p,C.sibling),f=s(C,y.props.children),f.return=p,p=f;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&Vd(k)===C.type){n(p,C.sibling),f=s(C,y.props),f.ref=as(p,C,y),f.return=p,p=f;break e}n(p,C);break}else e(p,C);C=C.sibling}y.type===ur?(f=Ln(y.props.children,p.mode,_,y.key),f.return=p,p=f):(_=aa(y.type,y.key,y.props,null,p.mode,_),_.ref=as(p,f,y),_.return=p,p=_)}return a(p);case lr:e:{for(C=y.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),f=s(f,y.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=tl(y,p.mode,_),f.return=p,p=f}return a(p);case Xt:return C=y._init,x(p,f,C(y._payload),_)}if(ps(y))return w(p,f,y,_);if(ts(y))return v(p,f,y,_);Ri(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,y),f.return=p,p=f):(n(p,f),f=el(y,p.mode,_),f.return=p,p=f),a(p)):n(p,f)}return x}var $r=Op(!0),jp=Op(!1),Pa=wn(null),Ta=null,yr=null,ac=null;function oc(){ac=yr=Ta=null}function lc(t){var e=Pa.current;Z(Pa),t._currentValue=e}function Yl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Er(t,e){Ta=t,ac=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(Ta===null)throw Error(E(308));yr=t,Ta.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var An=null;function uc(t){An===null?An=[t]:An.push(t)}function Np(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,uc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wt(t,r)}function Wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zt=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wt(t,n)}return s=r.interleaved,s===null?(e.next=e,uc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wt(t,n)}function ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}function Hd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oa(t,e,n,r){var s=t.updateQueue;Zt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(h=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(m,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(m,d,h):w,h==null)break e;d=ie({},d,h);break e;case 2:Zt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Bn|=a,t.lanes=a,t.memoizedState=d}}function qd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ci={},Nt=wn(ci),Qs=wn(ci),Gs=wn(ci);function In(t){if(t===ci)throw Error(E(174));return t}function dc(t,e){switch(Y(Gs,e),Y(Qs,t),Y(Nt,ci),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nl(e,t)}Z(Nt),Y(Nt,e)}function Dr(){Z(Nt),Z(Qs),Z(Gs)}function Ap(t){In(Gs.current);var e=In(Nt.current),n=Nl(e,t.type);e!==n&&(Y(Qs,t),Y(Nt,n))}function hc(t){Qs.current===t&&(Z(Nt),Z(Qs))}var re=wn(0);function ja(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qo=[];function fc(){for(var t=0;t<Qo.length;t++)Qo[t]._workInProgressVersionPrimary=null;Qo.length=0}var ta=qt.ReactCurrentDispatcher,Go=qt.ReactCurrentBatchConfig,zn=0,se=null,fe=null,ye=null,Na=!1,Os=!1,Ks=0,Rv=0;function Ee(){throw Error(E(321))}function pc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function mc(t,e,n,r,s,i){if(zn=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ta.current=t===null||t.memoizedState===null?Dv:Lv,t=n(r,s),Os){i=0;do{if(Os=!1,Ks=0,25<=i)throw Error(E(301));i+=1,ye=fe=null,e.updateQueue=null,ta.current=Mv,t=n(r,s)}while(Os)}if(ta.current=Ra,e=fe!==null&&fe.next!==null,zn=0,ye=fe=se=null,Na=!1,e)throw Error(E(300));return t}function gc(){var t=Ks!==0;return Ks=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?se.memoizedState=ye=t:ye=ye.next=t,ye}function ot(){if(fe===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ye===null?se.memoizedState:ye.next;if(e!==null)ye=e,fe=t;else{if(t===null)throw Error(E(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ye===null?se.memoizedState=ye=t:ye=ye.next=t}return ye}function Ys(t,e){return typeof e=="function"?e(t):e}function Ko(t){var e=ot(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((zn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,se.lanes|=c,Bn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,_t(r,e.memoizedState)||(Ue=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,Bn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yo(t){var e=ot(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);_t(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ip(){}function $p(t,e){var n=se,r=ot(),s=e(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Ue=!0),r=r.queue,yc(Mp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Xs(9,Lp.bind(null,n,r,s,e),void 0,null),ve===null)throw Error(E(349));zn&30||Dp(n,e,s)}return s}function Dp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lp(t,e,n,r){e.value=n,e.getSnapshot=r,Fp(e)&&Up(t)}function Mp(t,e,n){return n(function(){Fp(e)&&Up(t)})}function Fp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_t(t,n)}catch{return!0}}function Up(t){var e=Wt(t,1);e!==null&&wt(e,t,1,-1)}function Jd(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=$v.bind(null,se,t),[e.memoizedState,t]}function Xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zp(){return ot().memoizedState}function na(t,e,n,r){var s=Et();se.flags|=t,s.memoizedState=Xs(1|e,n,void 0,r===void 0?null:r)}function Za(t,e,n,r){var s=ot();r=r===void 0?null:r;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,r!==null&&pc(r,a.deps)){s.memoizedState=Xs(e,n,i,r);return}}se.flags|=t,s.memoizedState=Xs(1|e,n,i,r)}function Qd(t,e){return na(8390656,8,t,e)}function yc(t,e){return Za(2048,8,t,e)}function Bp(t,e){return Za(4,2,t,e)}function Wp(t,e){return Za(4,4,t,e)}function Vp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hp(t,e,n){return n=n!=null?n.concat([t]):null,Za(4,4,Vp.bind(null,e,t),n)}function vc(){}function qp(t,e){var n=ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jp(t,e){var n=ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qp(t,e,n){return zn&21?(_t(n,e)||(n=Zf(),se.lanes|=n,Bn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=n)}function Av(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Go.transition;Go.transition={};try{t(!1),e()}finally{q=n,Go.transition=r}}function Gp(){return ot().memoizedState}function Iv(t,e,n){var r=pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kp(t))Yp(e,n);else if(n=Np(t,e,n,r),n!==null){var s=Re();wt(n,t,r,s),Xp(n,e,r)}}function $v(t,e,n){var r=pn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kp(t))Yp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,_t(o,a)){var l=e.interleaved;l===null?(s.next=s,uc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Np(t,e,s,r),n!==null&&(s=Re(),wt(n,t,r,s),Xp(n,e,r))}}function Kp(t){var e=t.alternate;return t===se||e!==null&&e===se}function Yp(t,e){Os=Na=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gu(t,n)}}var Ra={readContext:at,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Dv={readContext:at,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:Qd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,na(4194308,4,Vp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return na(4194308,4,t,e)},useInsertionEffect:function(t,e){return na(4,2,t,e)},useMemo:function(t,e){var n=Et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Iv.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Jd,useDebugValue:vc,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Jd(!1),e=t[0];return t=Av.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=Et();if(ee){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ve===null)throw Error(E(349));zn&30||Dp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Qd(Mp.bind(null,r,i,t),[t]),r.flags|=2048,Xs(9,Lp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Et(),e=ve.identifierPrefix;if(ee){var n=Ft,r=Mt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ks++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lv={readContext:at,useCallback:qp,useContext:at,useEffect:yc,useImperativeHandle:Hp,useInsertionEffect:Bp,useLayoutEffect:Wp,useMemo:Jp,useReducer:Ko,useRef:zp,useState:function(){return Ko(Ys)},useDebugValue:vc,useDeferredValue:function(t){var e=ot();return Qp(e,fe.memoizedState,t)},useTransition:function(){var t=Ko(Ys)[0],e=ot().memoizedState;return[t,e]},useMutableSource:Ip,useSyncExternalStore:$p,useId:Gp,unstable_isNewReconciler:!1},Mv={readContext:at,useCallback:qp,useContext:at,useEffect:yc,useImperativeHandle:Hp,useInsertionEffect:Bp,useLayoutEffect:Wp,useMemo:Jp,useReducer:Yo,useRef:zp,useState:function(){return Yo(Ys)},useDebugValue:vc,useDeferredValue:function(t){var e=ot();return fe===null?e.memoizedState=t:Qp(e,fe.memoizedState,t)},useTransition:function(){var t=Yo(Ys)[0],e=ot().memoizedState;return[t,e]},useMutableSource:Ip,useSyncExternalStore:$p,useId:Gp,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eo={isMounted:function(t){return(t=t._reactInternals)?qn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Re(),s=pn(t),i=Ut(r,s);i.payload=e,n!=null&&(i.callback=n),e=hn(t,i,s),e!==null&&(wt(e,t,s,r),ea(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Re(),s=pn(t),i=Ut(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hn(t,i,s),e!==null&&(wt(e,t,s,r),ea(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Re(),r=pn(t),s=Ut(n,r);s.tag=2,e!=null&&(s.callback=e),e=hn(t,s,r),e!==null&&(wt(e,t,r,n),ea(e,t,r))}};function Gd(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Vs(n,r)||!Vs(s,i):!0}function Zp(t,e,n){var r=!1,s=yn,i=e.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Be(e)?Fn:Oe.current,r=e.contextTypes,i=(r=r!=null)?Ar(t,s):yn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Kd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Zl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Be(e)?Fn:Oe.current,s.context=Ar(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),Oa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lr(t,e){try{var n="",r=e;do n+=h0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function em(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ia||(Ia=!0,cu=r),eu(t,e)},n}function tm(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){eu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){eu(t,e),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Yd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Zv.bind(null,t,e,n),e.then(t,t))}function Xd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,hn(n,e,1))),n.lanes|=1),t)}var Uv=qt.ReactCurrentOwner,Ue=!1;function Ne(t,e,n,r){e.child=t===null?jp(e,null,n,r):$r(e,t.child,n,r)}function eh(t,e,n,r,s){n=n.render;var i=e.ref;return Er(e,s),r=mc(t,e,n,r,i,s),n=gc(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(ee&&n&&rc(e),e.flags|=1,Ne(t,e,r,s),e.child)}function th(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,nm(t,e,i,r,s)):(t=aa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(a,r)&&t.ref===e.ref)return Vt(t,e,s)}return e.flags|=1,t=mn(i,r),t.ref=e.ref,t.return=e,e.child=t}function nm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vs(i,r)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Vt(t,e,s)}return tu(t,e,n,r,s)}function rm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(wr,Qe),Qe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(wr,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(wr,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Y(wr,Qe),Qe|=r;return Ne(t,e,s,n),e.child}function sm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tu(t,e,n,r,s){var i=Be(n)?Fn:Oe.current;return i=Ar(e,i),Er(e,s),n=mc(t,e,n,r,i,s),r=gc(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vt(t,e,s)):(ee&&r&&rc(e),e.flags|=1,Ne(t,e,n,s),e.child)}function nh(t,e,n,r,s){if(Be(n)){var i=!0;ba(e)}else i=!1;if(Er(e,s),e.stateNode===null)ra(t,e),Zp(e,n,r),Zl(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Be(n)?Fn:Oe.current,u=Ar(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Kd(e,a,r,u),Zt=!1;var h=e.memoizedState;a.state=h,Oa(e,r,a,s),l=e.memoizedState,o!==r||h!==l||ze.current||Zt?(typeof c=="function"&&(Xl(e,n,c,r),l=e.memoizedState),(o=Zt||Gd(e,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Rp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:dt(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=at(l):(l=Be(n)?Fn:Oe.current,l=Ar(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Kd(e,a,r,l),Zt=!1,h=e.memoizedState,a.state=h,Oa(e,r,a,s);var w=e.memoizedState;o!==d||h!==w||ze.current||Zt?(typeof m=="function"&&(Xl(e,n,m,r),w=e.memoizedState),(u=Zt||Gd(e,n,u,r,h,w,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nu(t,e,n,r,i,s)}function nu(t,e,n,r,s,i){sm(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&zd(e,n,!1),Vt(t,e,i);r=e.stateNode,Uv.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$r(e,t.child,null,i),e.child=$r(e,null,o,i)):Ne(t,e,o,i),e.memoizedState=r.state,s&&zd(e,n,!0),e.child}function im(t){var e=t.stateNode;e.pendingContext?Ud(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ud(t,e.context,!1),dc(t,e.containerInfo)}function rh(t,e,n,r,s){return Ir(),ic(s),e.flags|=256,Ne(t,e,n,r),e.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function su(t){return{baseLanes:t,cachePool:null,transitions:null}}function am(t,e,n){var r=e.pendingProps,s=re.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(re,s&1),t===null)return Kl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ro(a,r,0,null),t=Ln(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=su(n),e.memoizedState=ru,t):wc(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return zv(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=mn(o,i):(i=Ln(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?su(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ru,r}return i=t.child,t=i.sibling,r=mn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wc(t,e){return e=ro({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ai(t,e,n,r){return r!==null&&ic(r),$r(e,t.child,null,n),t=wc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zv(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Xo(Error(E(422))),Ai(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ro({mode:"visible",children:r.children},s,0,null),i=Ln(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$r(e,t.child,null,a),e.child.memoizedState=su(a),e.memoizedState=ru,i);if(!(e.mode&1))return Ai(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(E(419)),r=Xo(i,r,void 0),Ai(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ue||o){if(r=ve,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(t,s),wt(r,t,s,-1))}return Ec(),r=Xo(Error(E(421))),Ai(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ew.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ge=dn(s.nextSibling),Ke=e,ee=!0,mt=null,t!==null&&(tt[nt++]=Mt,tt[nt++]=Ft,tt[nt++]=Un,Mt=t.id,Ft=t.overflow,Un=e),e=wc(e,r.children),e.flags|=4096,e)}function sh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yl(t.return,e,n)}function Zo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function om(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(t,e,r.children,n),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sh(t,n,e);else if(t.tag===19)sh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ja(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ja(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zo(e,!0,n,null,i);break;case"together":Zo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ra(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bv(t,e,n){switch(e.tag){case 3:im(e),Ir();break;case 5:Ap(e);break;case 1:Be(e.type)&&ba(e);break;case 4:dc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Y(Pa,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?am(t,e,n):(Y(re,re.current&1),t=Vt(t,e,n),t!==null?t.sibling:null);Y(re,re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return om(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,rm(t,e,n)}return Vt(t,e,n)}var lm,iu,um,cm;lm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iu=function(){};um=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,In(Nt.current);var i=null;switch(n){case"input":s=Pl(t,s),r=Pl(t,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=jl(t,s),r=jl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ka)}Rl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cm=function(t,e,n,r){n!==r&&(e.flags|=4)};function os(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wv(t,e,n){var r=e.pendingProps;switch(sc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Be(e.type)&&Sa(),Ce(e),null;case 3:return r=e.stateNode,Dr(),Z(ze),Z(Oe),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ni(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mt!==null&&(fu(mt),mt=null))),iu(t,e),Ce(e),null;case 5:hc(e);var s=In(Gs.current);if(n=e.type,t!==null&&e.stateNode!=null)um(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ce(e),null}if(t=In(Nt.current),Ni(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tt]=e,r[Js]=i,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<gs.length;s++)X(gs[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":fd(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":md(r,i),X("invalid",r)}Rl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,t),s=["children",""+o]):Ls.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&X("scroll",r)}switch(n){case"input":ki(r),pd(r,i,!0);break;case"textarea":ki(r),gd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ka)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Tt]=e,t[Js]=r,lm(t,e,!1,!1),e.stateNode=t;e:{switch(a=Al(n,r),n){case"dialog":X("cancel",t),X("close",t),s=r;break;case"iframe":case"object":case"embed":X("load",t),s=r;break;case"video":case"audio":for(s=0;s<gs.length;s++)X(gs[s],t);s=r;break;case"source":X("error",t),s=r;break;case"img":case"image":case"link":X("error",t),X("load",t),s=r;break;case"details":X("toggle",t),s=r;break;case"input":fd(t,r),s=Pl(t,r),X("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),X("invalid",t);break;case"textarea":md(t,r),s=jl(t,r),X("invalid",t);break;default:s=r}Rl(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?zf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ff(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ms(t,l):typeof l=="number"&&Ms(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ls.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",t):l!=null&&Wu(t,i,l,a))}switch(n){case"input":ki(t),pd(t,r,!1);break;case"textarea":ki(t),gd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xr(t,!!r.multiple,i,!1):r.defaultValue!=null&&xr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)cm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=In(Gs.current),In(Nt.current),Ni(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tt]=e,(i=r.nodeValue!==n)&&(t=Ke,t!==null))switch(t.tag){case 3:ji(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=e,e.stateNode=r}return Ce(e),null;case 13:if(Z(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Ge!==null&&e.mode&1&&!(e.flags&128))Tp(),Ir(),e.flags|=98560,i=!1;else if(i=Ni(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Tt]=e}else Ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),i=!1}else mt!==null&&(fu(mt),mt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?pe===0&&(pe=3):Ec())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return Dr(),iu(t,e),t===null&&Hs(e.stateNode.containerInfo),Ce(e),null;case 10:return lc(e.type._context),Ce(e),null;case 17:return Be(e.type)&&Sa(),Ce(e),null;case 19:if(Z(re),i=e.memoizedState,i===null)return Ce(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)os(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ja(t),a!==null){for(e.flags|=128,os(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>Mr&&(e.flags|=128,r=!0,os(i,!1),e.lanes=4194304)}else{if(!r)if(t=ja(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return Ce(e),null}else 2*oe()-i.renderingStartTime>Mr&&n!==1073741824&&(e.flags|=128,r=!0,os(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=re.current,Y(re,r?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return bc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qe&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Vv(t,e){switch(sc(e),e.tag){case 1:return Be(e.type)&&Sa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dr(),Z(ze),Z(Oe),fc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hc(e),null;case 13:if(Z(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(re),null;case 4:return Dr(),null;case 10:return lc(e.type._context),null;case 22:case 23:return bc(),null;case 24:return null;default:return null}}var Ii=!1,Te=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,N=null;function vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function au(t,e,n){try{n()}catch(r){ae(t,e,r)}}var ih=!1;function qv(t,e){if(Wl=wa,t=mp(),nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vl={focusedElem:t,selectionRange:n},wa=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:dt(e.type,v),x);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){ae(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return w=ih,ih=!1,w}function js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&au(e,n,i)}s=s.next}while(s!==r)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ou(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dm(t){var e=t.alternate;e!==null&&(t.alternate=null,dm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[Js],delete e[Jl],delete e[Tv],delete e[Ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hm(t){return t.tag===5||t.tag===3||t.tag===4}function ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ka));else if(r!==4&&(t=t.child,t!==null))for(lu(t,e,n),t=t.sibling;t!==null;)lu(t,e,n),t=t.sibling}function uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}var _e=null,ft=!1;function Jt(t,e,n){for(n=n.child;n!==null;)fm(t,e,n),n=n.sibling}function fm(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ja,n)}catch{}switch(n.tag){case 5:Te||vr(n,e);case 6:var r=_e,s=ft;_e=null,Jt(t,e,n),_e=r,ft=s,_e!==null&&(ft?(t=_e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(ft?(t=_e,n=n.stateNode,t.nodeType===8?qo(t.parentNode,n):t.nodeType===1&&qo(t,n),Bs(t)):qo(_e,n.stateNode));break;case 4:r=_e,s=ft,_e=n.stateNode.containerInfo,ft=!0,Jt(t,e,n),_e=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&au(n,e,a),s=s.next}while(s!==r)}Jt(t,e,n);break;case 1:if(!Te&&(vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,e,o)}Jt(t,e,n);break;case 21:Jt(t,e,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Jt(t,e,n),Te=r):Jt(t,e,n);break;default:Jt(t,e,n)}}function oh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hv),e.forEach(function(r){var s=tw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,ft=!1;break e;case 3:_e=o.stateNode.containerInfo,ft=!0;break e;case 4:_e=o.stateNode.containerInfo,ft=!0;break e}o=o.return}if(_e===null)throw Error(E(160));fm(i,a,s),_e=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pm(e,t),e=e.sibling}function pm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ut(e,t),kt(t),r&4){try{js(3,t,t.return),to(3,t)}catch(v){ae(t,t.return,v)}try{js(5,t,t.return)}catch(v){ae(t,t.return,v)}}break;case 1:ut(e,t),kt(t),r&512&&n!==null&&vr(n,n.return);break;case 5:if(ut(e,t),kt(t),r&512&&n!==null&&vr(n,n.return),t.flags&32){var s=t.stateNode;try{Ms(s,"")}catch(v){ae(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Df(s,i),Al(o,a);var u=Al(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?zf(s,d):c==="dangerouslySetInnerHTML"?Ff(s,d):c==="children"?Ms(s,d):Wu(s,c,d,u)}switch(o){case"input":Tl(s,i);break;case"textarea":Lf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xr(s,!!i.multiple,i.defaultValue,!0):xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Js]=i}catch(v){ae(t,t.return,v)}}break;case 6:if(ut(e,t),kt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ae(t,t.return,v)}}break;case 3:if(ut(e,t),kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(v){ae(t,t.return,v)}break;case 4:ut(e,t),kt(t);break;case 13:ut(e,t),kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kc=oe())),r&4&&oh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(u=Te)||c,ut(e,t),Te=u):ut(e,t),kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(d=N=c;N!==null;){switch(h=N,m=h.child,h.tag){case 0:case 11:case 14:case 15:js(4,h,h.return);break;case 1:vr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){ae(r,n,v)}}break;case 5:vr(h,h.return);break;case 22:if(h.memoizedState!==null){uh(d);continue}}m!==null?(m.return=h,N=m):uh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Uf("display",a))}catch(v){ae(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ae(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(e,t),kt(t),r&4&&oh(t);break;case 21:break;default:ut(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hm(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ms(s,""),r.flags&=-33);var i=ah(t);uu(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=ah(t);lu(t,o,a);break;default:throw Error(E(161))}}catch(l){ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jv(t,e,n){N=t,mm(t)}function mm(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ii;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Te;o=Ii;var u=Te;if(Ii=a,(Te=l)&&!u)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?ch(s):l!==null?(l.return=a,N=l):ch(s);for(;i!==null;)N=i,mm(i),i=i.sibling;N=s,Ii=o,Te=u}lh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):lh(t)}}function lh(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||to(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qd(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qd(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Te||e.flags&512&&ou(e)}catch(h){ae(e,e.return,h)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function uh(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function ch(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{to(4,e)}catch(l){ae(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ae(e,s,l)}}var i=e.return;try{ou(e)}catch(l){ae(e,i,l)}break;case 5:var a=e.return;try{ou(e)}catch(l){ae(e,a,l)}}}catch(l){ae(e,e.return,l)}if(e===t){N=null;break}var o=e.sibling;if(o!==null){o.return=e.return,N=o;break}N=e.return}}var Qv=Math.ceil,Aa=qt.ReactCurrentDispatcher,_c=qt.ReactCurrentOwner,st=qt.ReactCurrentBatchConfig,W=0,ve=null,ue=null,ke=0,Qe=0,wr=wn(0),pe=0,Zs=null,Bn=0,no=0,xc=0,Ns=null,Me=null,kc=0,Mr=1/0,$t=null,Ia=!1,cu=null,fn=null,$i=!1,an=null,$a=0,Rs=0,du=null,sa=-1,ia=0;function Re(){return W&6?oe():sa!==-1?sa:sa=oe()}function pn(t){return t.mode&1?W&2&&ke!==0?ke&-ke:Nv.transition!==null?(ia===0&&(ia=Zf()),ia):(t=q,t!==0||(t=window.event,t=t===void 0?16:ap(t.type)),t):1}function wt(t,e,n,r){if(50<Rs)throw Rs=0,du=null,Error(E(185));oi(t,n,r),(!(W&2)||t!==ve)&&(t===ve&&(!(W&2)&&(no|=n),pe===4&&nn(t,ke)),We(t,r),n===1&&W===0&&!(e.mode&1)&&(Mr=oe()+500,Xa&&_n()))}function We(t,e){var n=t.callbackNode;N0(t,e);var r=va(t,t===ve?ke:0);if(r===0)n!==null&&wd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wd(n),e===1)t.tag===0?jv(dh.bind(null,t)):Ep(dh.bind(null,t)),Cv(function(){!(W&6)&&_n()}),n=null;else{switch(ep(r)){case 1:n=Qu;break;case 4:n=Yf;break;case 16:n=ya;break;case 536870912:n=Xf;break;default:n=ya}n=Sm(n,gm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gm(t,e){if(sa=-1,ia=0,W&6)throw Error(E(327));var n=t.callbackNode;if(Cr()&&t.callbackNode!==n)return null;var r=va(t,t===ve?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Da(t,r);else{e=r;var s=W;W|=2;var i=vm();(ve!==t||ke!==e)&&($t=null,Mr=oe()+500,Dn(t,e));do try{Yv();break}catch(o){ym(t,o)}while(!0);oc(),Aa.current=i,W=s,ue!==null?e=0:(ve=null,ke=0,e=pe)}if(e!==0){if(e===2&&(s=Ml(t),s!==0&&(r=s,e=hu(t,s))),e===1)throw n=Zs,Dn(t,0),nn(t,r),We(t,oe()),n;if(e===6)nn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Gv(s)&&(e=Da(t,r),e===2&&(i=Ml(t),i!==0&&(r=i,e=hu(t,i))),e===1))throw n=Zs,Dn(t,0),nn(t,r),We(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Pn(t,Me,$t);break;case 3:if(nn(t,r),(r&130023424)===r&&(e=kc+500-oe(),10<e)){if(va(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Re(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ql(Pn.bind(null,t,Me,$t),e);break}Pn(t,Me,$t);break;case 4:if(nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-vt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qv(r/1960))-r,10<r){t.timeoutHandle=ql(Pn.bind(null,t,Me,$t),r);break}Pn(t,Me,$t);break;case 5:Pn(t,Me,$t);break;default:throw Error(E(329))}}}return We(t,oe()),t.callbackNode===n?gm.bind(null,t):null}function hu(t,e){var n=Ns;return t.current.memoizedState.isDehydrated&&(Dn(t,e).flags|=256),t=Da(t,e),t!==2&&(e=Me,Me=n,e!==null&&fu(e)),t}function fu(t){Me===null?Me=t:Me.push.apply(Me,t)}function Gv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nn(t,e){for(e&=~xc,e&=~no,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vt(e),r=1<<n;t[n]=-1,e&=~r}}function dh(t){if(W&6)throw Error(E(327));Cr();var e=va(t,0);if(!(e&1))return We(t,oe()),null;var n=Da(t,e);if(t.tag!==0&&n===2){var r=Ml(t);r!==0&&(e=r,n=hu(t,r))}if(n===1)throw n=Zs,Dn(t,0),nn(t,e),We(t,oe()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pn(t,Me,$t),We(t,oe()),null}function Sc(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Mr=oe()+500,Xa&&_n())}}function Wn(t){an!==null&&an.tag===0&&!(W&6)&&Cr();var e=W;W|=1;var n=st.transition,r=q;try{if(st.transition=null,q=1,t)return t()}finally{q=r,st.transition=n,W=e,!(W&6)&&_n()}}function bc(){Qe=wr.current,Z(wr)}function Dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ev(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:Dr(),Z(ze),Z(Oe),fc();break;case 5:hc(r);break;case 4:Dr();break;case 13:Z(re);break;case 19:Z(re);break;case 10:lc(r.type._context);break;case 22:case 23:bc()}n=n.return}if(ve=t,ue=t=mn(t.current,null),ke=Qe=e,pe=0,Zs=null,xc=no=Bn=0,Me=Ns=null,An!==null){for(e=0;e<An.length;e++)if(n=An[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}An=null}return t}function ym(t,e){do{var n=ue;try{if(oc(),ta.current=Ra,Na){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Na=!1}if(zn=0,ye=fe=se=null,Os=!1,Ks=0,_c.current=null,n===null||n.return===null){pe=1,Zs=e,ue=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=ke,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Xd(a);if(m!==null){m.flags&=-257,Zd(m,a,o,i,e),m.mode&1&&Yd(i,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Yd(i,u,e),Ec();break e}l=Error(E(426))}}else if(ee&&o.mode&1){var x=Xd(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zd(x,a,o,i,e),ic(Lr(l,o));break e}}i=l=Lr(l,o),pe!==4&&(pe=2),Ns===null?Ns=[i]:Ns.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=em(i,l,e);Hd(i,p);break e;case 1:o=l;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fn===null||!fn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=tm(i,o,e);Hd(i,_);break e}}i=i.return}while(i!==null)}_m(n)}catch(k){e=k,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function vm(){var t=Aa.current;return Aa.current=Ra,t===null?Ra:t}function Ec(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(Bn&268435455)&&!(no&268435455)||nn(ve,ke)}function Da(t,e){var n=W;W|=2;var r=vm();(ve!==t||ke!==e)&&($t=null,Dn(t,e));do try{Kv();break}catch(s){ym(t,s)}while(!0);if(oc(),W=n,Aa.current=r,ue!==null)throw Error(E(261));return ve=null,ke=0,pe}function Kv(){for(;ue!==null;)wm(ue)}function Yv(){for(;ue!==null&&!k0();)wm(ue)}function wm(t){var e=km(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?_m(t):ue=e,_c.current=null}function _m(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vv(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,ue=null;return}}else if(n=Wv(n,e,Qe),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);pe===0&&(pe=5)}function Pn(t,e,n){var r=q,s=st.transition;try{st.transition=null,q=1,Xv(t,e,n,r)}finally{st.transition=s,q=r}return null}function Xv(t,e,n,r){do Cr();while(an!==null);if(W&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R0(t,i),t===ve&&(ue=ve=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Sm(ya,function(){return Cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var a=q;q=1;var o=W;W|=4,_c.current=null,qv(t,n),pm(n,t),vv(Vl),wa=!!Wl,Vl=Wl=null,t.current=n,Jv(n),S0(),W=o,q=a,st.transition=i}else t.current=n;if($i&&($i=!1,an=t,$a=s),i=t.pendingLanes,i===0&&(fn=null),C0(n.stateNode),We(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ia)throw Ia=!1,t=cu,cu=null,t;return $a&1&&t.tag!==0&&Cr(),i=t.pendingLanes,i&1?t===du?Rs++:(Rs=0,du=t):Rs=0,_n(),null}function Cr(){if(an!==null){var t=ep($a),e=st.transition,n=q;try{if(st.transition=null,q=16>t?16:t,an===null)var r=!1;else{if(t=an,an=null,$a=0,W&6)throw Error(E(331));var s=W;for(W|=4,N=t.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:js(8,c,i)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var h=c.sibling,m=c.return;if(dm(c),c===u){N=null;break}if(h!==null){h.return=m,N=h;break}N=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:js(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,N=p;break e}N=i.return}}var f=t.current;for(N=f;N!==null;){a=N;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,N=y;else e:for(a=f;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:to(9,o)}}catch(k){ae(o,o.return,k)}if(o===a){N=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,N=_;break e}N=o.return}}if(W=s,_n(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ja,t)}catch{}r=!0}return r}finally{q=n,st.transition=e}}return!1}function hh(t,e,n){e=Lr(n,e),e=em(t,e,1),t=hn(t,e,1),e=Re(),t!==null&&(oi(t,1,e),We(t,e))}function ae(t,e,n){if(t.tag===3)hh(t,t,n);else for(;e!==null;){if(e.tag===3){hh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){t=Lr(n,t),t=tm(e,t,1),e=hn(e,t,1),t=Re(),e!==null&&(oi(e,1,t),We(e,t));break}}e=e.return}}function Zv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(ke&n)===n&&(pe===4||pe===3&&(ke&130023424)===ke&&500>oe()-kc?Dn(t,0):xc|=n),We(t,e)}function xm(t,e){e===0&&(t.mode&1?(e=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):e=1);var n=Re();t=Wt(t,e),t!==null&&(oi(t,e,n),We(t,n))}function ew(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xm(t,n)}function tw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),xm(t,n)}var km;km=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)Ue=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ue=!1,Bv(t,e,n);Ue=!!(t.flags&131072)}else Ue=!1,ee&&e.flags&1048576&&Cp(e,Ca,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ra(t,e),t=e.pendingProps;var s=Ar(e,Oe.current);Er(e,n),s=mc(null,e,r,t,s,n);var i=gc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)?(i=!0,ba(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cc(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,Zl(e,r,t,n),e=nu(null,e,r,!0,i,n)):(e.tag=0,ee&&i&&rc(e),Ne(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ra(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=rw(r),t=dt(r,t),s){case 0:e=tu(null,e,r,t,n);break e;case 1:e=nh(null,e,r,t,n);break e;case 11:e=eh(null,e,r,t,n);break e;case 14:e=th(null,e,r,dt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),tu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),nh(t,e,r,s,n);case 3:e:{if(im(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Rp(t,e),Oa(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lr(Error(E(423)),e),e=rh(t,e,r,n,s);break e}else if(r!==s){s=Lr(Error(E(424)),e),e=rh(t,e,r,n,s);break e}else for(Ge=dn(e.stateNode.containerInfo.firstChild),Ke=e,ee=!0,mt=null,n=jp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===s){e=Vt(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return Ap(e),t===null&&Kl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Hl(r,s)?a=null:i!==null&&Hl(r,i)&&(e.flags|=32),sm(t,e),Ne(t,e,a,n),e.child;case 6:return t===null&&Kl(e),null;case 13:return am(t,e,n);case 4:return dc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),eh(t,e,r,s,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Y(Pa,r._currentValue),r._currentValue=a,i!==null)if(_t(i.value,a)){if(i.children===s.children&&!ze.current){e=Vt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ut(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yl(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Yl(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ne(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Er(e,n),s=at(s),r=r(s),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,s=dt(r,e.pendingProps),s=dt(r.type,s),th(t,e,r,s,n);case 15:return nm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),ra(t,e),e.tag=1,Be(r)?(t=!0,ba(e)):t=!1,Er(e,n),Zp(e,r,s),Zl(e,r,s,n),nu(null,e,r,!0,t,n);case 19:return om(t,e,n);case 22:return rm(t,e,n)}throw Error(E(156,e.tag))};function Sm(t,e){return Kf(t,e)}function nw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,n,r){return new nw(t,e,n,r)}function Cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rw(t){if(typeof t=="function")return Cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hu)return 11;if(t===qu)return 14}return 2}function mn(t,e){var n=t.alternate;return n===null?(n=rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aa(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Cc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ur:return Ln(n.children,s,i,e);case Vu:a=8,s|=8;break;case Sl:return t=rt(12,n,e,s|2),t.elementType=Sl,t.lanes=i,t;case bl:return t=rt(13,n,e,s),t.elementType=bl,t.lanes=i,t;case El:return t=rt(19,n,e,s),t.elementType=El,t.lanes=i,t;case Af:return ro(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nf:a=10;break e;case Rf:a=9;break e;case Hu:a=11;break e;case qu:a=14;break e;case Xt:a=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=rt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ln(t,e,n,r){return t=rt(7,t,r,e),t.lanes=n,t}function ro(t,e,n,r){return t=rt(22,t,r,e),t.elementType=Af,t.lanes=n,t.stateNode={isHidden:!1},t}function el(t,e,n){return t=rt(6,t,null,e),t.lanes=n,t}function tl(t,e,n){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pc(t,e,n,r,s,i,a,o,l){return t=new sw(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(i),t}function iw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bm(t){if(!t)return yn;t=t._reactInternals;e:{if(qn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Be(n))return bp(t,n,e)}return e}function Em(t,e,n,r,s,i,a,o,l){return t=Pc(n,r,!0,t,s,i,a,o,l),t.context=bm(null),n=t.current,r=Re(),s=pn(n),i=Ut(r,s),i.callback=e??null,hn(n,i,s),t.current.lanes=s,oi(t,s,r),We(t,r),t}function so(t,e,n,r){var s=e.current,i=Re(),a=pn(s);return n=bm(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hn(s,e,a),t!==null&&(wt(t,s,a,i),ea(t,s,a)),a}function La(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tc(t,e){fh(t,e),(t=t.alternate)&&fh(t,e)}function aw(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oc(t){this._internalRoot=t}io.prototype.render=Oc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));so(t,e,null,null)};io.prototype.unmount=Oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wn(function(){so(null,t,null,null)}),e[Bt]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var e=rp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tn.length&&e!==0&&e<tn[n].priority;n++);tn.splice(n,0,t),n===0&&ip(t)}};function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ph(){}function ow(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=La(a);i.call(u)}}var a=Em(e,r,t,0,null,!1,!1,"",ph);return t._reactRootContainer=a,t[Bt]=a.current,Hs(t.nodeType===8?t.parentNode:t),Wn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=La(l);o.call(u)}}var l=Pc(t,0,!1,null,null,!1,!1,"",ph);return t._reactRootContainer=l,t[Bt]=l.current,Hs(t.nodeType===8?t.parentNode:t),Wn(function(){so(e,l,n,r)}),l}function oo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=La(a);o.call(l)}}so(e,a,t,s)}else a=ow(n,e,t,s,r);return La(a)}tp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ms(e.pendingLanes);n!==0&&(Gu(e,n|1),We(e,oe()),!(W&6)&&(Mr=oe()+500,_n()))}break;case 13:Wn(function(){var r=Wt(t,1);if(r!==null){var s=Re();wt(r,t,1,s)}}),Tc(t,1)}};Ku=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var n=Re();wt(e,t,134217728,n)}Tc(t,134217728)}};np=function(t){if(t.tag===13){var e=pn(t),n=Wt(t,e);if(n!==null){var r=Re();wt(n,t,e,r)}Tc(t,e)}};rp=function(){return q};sp=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};$l=function(t,e,n){switch(e){case"input":if(Tl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ya(r);if(!s)throw Error(E(90));$f(r),Tl(r,s)}}}break;case"textarea":Lf(t,n);break;case"select":e=n.value,e!=null&&xr(t,!!n.multiple,e,!1)}};Vf=Sc;Hf=Wn;var lw={usingClientEntryPoint:!1,Events:[ui,fr,Ya,Bf,Wf,Sc]},ls={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uw={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qf(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{Ja=Di.inject(uw),jt=Di}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;Xe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(e))throw Error(E(200));return iw(t,e,null,n)};Xe.createRoot=function(t,e){if(!jc(t))throw Error(E(299));var n=!1,r="",s=Cm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pc(t,1,!1,null,null,n,!1,r,s),t[Bt]=e.current,Hs(t.nodeType===8?t.parentNode:t),new Oc(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Qf(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return Wn(t)};Xe.hydrate=function(t,e,n){if(!ao(e))throw Error(E(200));return oo(null,t,e,!0,n)};Xe.hydrateRoot=function(t,e,n){if(!jc(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Cm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Em(e,null,t,1,n??null,s,!1,i,a),t[Bt]=e.current,Hs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new io(e)};Xe.render=function(t,e,n){if(!ao(e))throw Error(E(200));return oo(null,t,e,!1,n)};Xe.unmountComponentAtNode=function(t){if(!ao(t))throw Error(E(40));return t._reactRootContainer?(Wn(function(){oo(null,null,t,!1,function(){t._reactRootContainer=null,t[Bt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Sc;Xe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ao(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return oo(t,e,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(t){console.error(t)}}Pm(),Pf.exports=Xe;var cw=Pf.exports,Tm,mh=cw;Tm=mh.createRoot,mh.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ei.apply(this,arguments)}var on;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(on||(on={}));const gh="popstate";function dw(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return pu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jm(s)}return fw(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Om(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substr(2,8)}function yh(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,n,r){return n===void 0&&(n=null),ei({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qr(e):e,{state:n,key:e&&e.key||r||hw()})}function jm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=on.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(ei({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=on.Pop;let x=c(),p=x==null?null:x-u;u=x,l&&l({action:o,location:v.location,delta:p})}function h(x,p){o=on.Push;let f=pu(v.location,x,p);u=c()+1;let y=yh(f,u),_=v.createHref(f);try{a.pushState(y,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&l&&l({action:o,location:v.location,delta:1})}function m(x,p){o=on.Replace;let f=pu(v.location,x,p);u=c();let y=yh(f,u),_=v.createHref(f);a.replaceState(y,"",_),i&&l&&l({action:o,location:v.location,delta:0})}function w(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof x=="string"?x:jm(x);return f=f.replace(/ $/,"%20"),ce(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return o},get location(){return t(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gh,d),l=x,()=>{s.removeEventListener(gh,d),l=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let p=w(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(x){return a.go(x)}};return v}var vh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vh||(vh={}));function pw(t,e,n){return n===void 0&&(n="/"),mw(t,e,n,!1)}function mw(t,e,n,r){let s=typeof e=="string"?qr(e):e,i=Am(s.pathname||"/",n);if(i==null)return null;let a=Nm(t);gw(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Pw(i);o=Ew(a[l],u,r)}return o}function Nm(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Mn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nm(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Sw(u,i.index),routesMeta:c})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Rm(i.path))s(i,a,l)}),e}function Rm(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Rm(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yw=/^:[\w-]+$/,vw=3,ww=2,_w=1,xw=10,kw=-2,wh=t=>t==="*";function Sw(t,e){let n=t.split("/"),r=n.length;return n.some(wh)&&(r+=kw),e&&(r+=ww),n.filter(s=>!wh(s)).reduce((s,i)=>s+(yw.test(i)?vw:i===""?_w:xw),r)}function bw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ew(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=_h({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=_h({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Mn([i,d.pathname]),pathnameBase:Nw(Mn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Mn([i,d.pathnameBase]))}return a}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Cw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let v=o[d]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[d];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Cw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Om(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Pw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Om(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Am(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qr(t):t;return{pathname:n?n.startsWith("/")?n:Ow(n,e):e,search:Rw(r),hash:Aw(s)}}function Ow(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Im(t,e){let n=jw(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $m(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qr(t):(s=ei({},t),ce(!s.pathname||!s.pathname.includes("?"),nl("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),nl("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),nl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Tw(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Mn=t=>t.join("/").replace(/\/\/+/g,"/"),Nw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Aw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Iw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dm=["post","put","patch","delete"];new Set(Dm);const $w=["get",...Dm];new Set($w);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ti.apply(this,arguments)}const Nc=b.createContext(null),Dw=b.createContext(null),di=b.createContext(null),lo=b.createContext(null),Jn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Lm=b.createContext(null);function hi(){return b.useContext(lo)!=null}function uo(){return hi()||ce(!1),b.useContext(lo).location}function Mm(t){b.useContext(di).static||b.useLayoutEffect(t)}function Rc(){let{isDataRoute:t}=b.useContext(Jn);return t?Gw():Lw()}function Lw(){hi()||ce(!1);let t=b.useContext(Nc),{basename:e,future:n,navigator:r}=b.useContext(di),{matches:s}=b.useContext(Jn),{pathname:i}=uo(),a=JSON.stringify(Im(s,n.v7_relativeSplatPath)),o=b.useRef(!1);return Mm(()=>{o.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=$m(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Mn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,i,t])}function Mw(t,e){return Fw(t,e)}function Fw(t,e,n,r){hi()||ce(!1);let{navigator:s,static:i}=b.useContext(di),{matches:a}=b.useContext(Jn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=uo(),d;if(e){var h;let p=typeof e=="string"?qr(e):e;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||ce(!1),d=p}else d=c;let m=d.pathname||"/",w=m;if(u!=="/"){let p=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=!i&&n&&n.matches&&n.matches.length>0?n.matches:pw(t,{pathname:w}),x=Vw(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Mn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Mn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n,r);return e&&x?b.createElement(lo.Provider,{value:{location:ti({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:on.Pop}},x):x}function Uw(){let t=Qw(),e=Iw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const zw=b.createElement(Uw,null);class Bw extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Jn.Provider,{value:this.props.routeContext},b.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ww(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Nc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Jn.Provider,{value:e},r)}function Vw(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||ce(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=n,w=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let m,w=!1,v=null,x=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||zw,l&&(u<0&&h===0?(w=!0,x=null):u===h&&(w=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,h+1)),f=()=>{let y;return m?y=v:w?y=x:d.route.Component?y=b.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,b.createElement(Ww,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(Bw,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Fm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fm||{}),Ma=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ma||{});function Hw(t){let e=b.useContext(Nc);return e||ce(!1),e}function qw(t){let e=b.useContext(Dw);return e||ce(!1),e}function Jw(t){let e=b.useContext(Jn);return e||ce(!1),e}function Um(t){let e=Jw(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function Qw(){var t;let e=b.useContext(Lm),n=qw(Ma.UseRouteError),r=Um(Ma.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Gw(){let{router:t}=Hw(Fm.UseNavigateStable),e=Um(Ma.UseNavigateStable),n=b.useRef(!1);return Mm(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ti({fromRouteId:e},i)))},[t,e])}function Kw(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xh(t){let{to:e,replace:n,state:r,relative:s}=t;hi()||ce(!1);let{future:i,static:a}=b.useContext(di),{matches:o}=b.useContext(Jn),{pathname:l}=uo(),u=Rc(),c=$m(e,Im(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function oa(t){ce(!1)}function Yw(t){let{basename:e="/",children:n=null,location:r,navigationType:s=on.Pop,navigator:i,static:a=!1,future:o}=t;hi()&&ce(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:ti({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=qr(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:w="default"}=r,v=b.useMemo(()=>{let x=Am(c,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:w},navigationType:s}},[l,c,d,h,m,w,s]);return v==null?null:b.createElement(di.Provider,{value:u},b.createElement(lo.Provider,{children:n,value:v}))}function Xw(t){let{children:e,location:n}=t;return Mw(mu(e),n)}new Promise(()=>{});function mu(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,mu(r.props.children,i));return}r.type!==oa&&ce(!1),!r.props.index||!r.props.children||ce(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Zw="6";try{window.__reactRouterVersion=Zw}catch{}const e_="startTransition",kh=Zy[e_];function t_(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=dw({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&kh?kh(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.useEffect(()=>Kw(r),[r]),b.createElement(Yw,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var Sh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sh||(Sh={}));var bh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bh||(bh={}));const n_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",VITE_SUPABASE_URL:"https://kszyyejneeoitkpbyajd.supabase.co"},Eh=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(w=>w(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(n_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,l);return l},r_=t=>t?Eh(t):Eh;var zm={exports:{}},Bm={},Wm={exports:{}},Vm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=b;function s_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i_=typeof Object.is=="function"?Object.is:s_,a_=Fr.useState,o_=Fr.useEffect,l_=Fr.useLayoutEffect,u_=Fr.useDebugValue;function c_(t,e){var n=e(),r=a_({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return l_(function(){s.value=n,s.getSnapshot=e,rl(s)&&i({inst:s})},[t,n,e]),o_(function(){return rl(s)&&i({inst:s}),t(function(){rl(s)&&i({inst:s})})},[t]),u_(n),n}function rl(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i_(t,n)}catch{return!0}}function d_(t,e){return e()}var h_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d_:c_;Vm.useSyncExternalStore=Fr.useSyncExternalStore!==void 0?Fr.useSyncExternalStore:h_;Wm.exports=Vm;var f_=Wm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=b,p_=f_;function m_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g_=typeof Object.is=="function"?Object.is:m_,y_=p_.useSyncExternalStore,v_=co.useRef,w_=co.useEffect,__=co.useMemo,x_=co.useDebugValue;Bm.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=v_(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=__(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),s!==void 0&&a.hasValue){var w=a.value;if(s(w,m))return d=w}return d=m}if(w=d,g_(c,m))return w;var v=r(m);return s!==void 0&&s(w,v)?(c=m,w):(c=m,d=v)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,s]);var o=y_(t,i[0],i[1]);return w_(function(){a.hasValue=!0,a.value=o},[o]),x_(o),o};zm.exports=Bm;var k_=zm.exports;const S_=mf(k_),Hm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",VITE_SUPABASE_URL:"https://kszyyejneeoitkpbyajd.supabase.co"},{useDebugValue:b_}=qa,{useSyncExternalStoreWithSelector:E_}=S_;let Ch=!1;const C_=t=>t;function P_(t,e=C_,n){(Hm?"production":void 0)!=="production"&&n&&!Ch&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ch=!0);const r=E_(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return b_(r),r}const Ph=t=>{(Hm?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?r_(t):t,n=(r,s)=>P_(e,r,s);return Object.assign(n,e),n},T_=t=>t?Ph(t):Ph,O_="modulepreload",j_=function(t){return"/"+t},Th={},Ur=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=j_(l),l in Th)return;Th[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":O_,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},N_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ac extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class R_ extends Ac{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A_ extends Ac{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class I_ extends Ac{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gu||(gu={}));var $_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class D_{constructor(e,{headers:n={},customFetch:r,region:s=gu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=N_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return $_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(w=>{throw new R_(w)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new A_(c);if(!c.ok)throw new I_(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield c.json():h==="application/octet-stream"?m=yield c.blob():h==="text/event-stream"?m=c:h==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},Ic={},ho={},fi={},fo={},po={},L_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=L_();const M_=zr.fetch,qm=zr.fetch.bind(zr),Jm=zr.Headers,F_=zr.Request,U_=zr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jm,Request:F_,Response:U_,default:qm,fetch:M_},Symbol.toStringTag,{value:"Module"})),z_=Ly(Jr);var mo={};Object.defineProperty(mo,"__esModule",{value:!0});let B_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};mo.default=B_;var Qm=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(po,"__esModule",{value:!0});const W_=Qm(z_),V_=Qm(mo);let H_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=W_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,c=null,d=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,m="OK")}catch{i.status===404&&v===""?(h=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new V_.default(u)}return{error:u,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};po.default=H_;var q_=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});const J_=q_(po);let Q_=class extends J_.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fo.default=Q_;var G_=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const K_=G_(fo);let Y_=class extends K_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};fi.default=Y_;var X_=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});const us=X_(fi);let Z_=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new us.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ho.default=Z_;var go={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.version=void 0;yo.version="0.0.0-automated";Object.defineProperty(go,"__esModule",{value:!0});go.DEFAULT_HEADERS=void 0;const e1=yo;go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e1.version}`};var Gm=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ic,"__esModule",{value:!0});const t1=Gm(ho),n1=Gm(fi),r1=go;let s1=class Km{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},r1.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new t1.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Km(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{o.searchParams.append(c,d)})):(a="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new n1.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ic.default=s1;var Qr=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Ym=Qr(Ic);Fe.PostgrestClient=Ym.default;const Xm=Qr(ho);Fe.PostgrestQueryBuilder=Xm.default;const Zm=Qr(fi);Fe.PostgrestFilterBuilder=Zm.default;const eg=Qr(fo);Fe.PostgrestTransformBuilder=eg.default;const tg=Qr(po);Fe.PostgrestBuilder=tg.default;const ng=Qr(mo);Fe.PostgrestError=ng.default;var i1=Fe.default={PostgrestClient:Ym.default,PostgrestQueryBuilder:Xm.default,PostgrestFilterBuilder:Zm.default,PostgrestTransformBuilder:eg.default,PostgrestBuilder:tg.default,PostgrestError:ng.default};const{PostgrestClient:a1,PostgrestQueryBuilder:Gb,PostgrestFilterBuilder:Kb,PostgrestTransformBuilder:Yb,PostgrestBuilder:Xb,PostgrestError:Zb}=i1,o1="2.11.2",l1={"X-Client-Info":`realtime-js/${o1}`},u1="1.0.0",rg=1e4,c1=1e3;var Pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pr||(Pr={}));var qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qe||(qe={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var yu;(function(t){t.websocket="websocket"})(yu||(yu={}));var jn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jn||(jn={}));class d1{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class sg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(K||(K={}));const Oh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=h1(a,t,e,s),i),{})},h1=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?ig(i,a):vu(a)},ig=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return g1(e,n)}switch(t){case K.bool:return f1(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return p1(e);case K.json:case K.jsonb:return m1(e);case K.timestamp:return y1(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return vu(e);default:return vu(e)}},vu=t=>t,f1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},p1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},m1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ig(e,o))}return t},y1=t=>typeof t=="string"?t.replace(" ","T"):t,ag=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sl{constructor(e,n,r={},s=rg){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jh||(jh={}));class As{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=As.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=As.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const h=c.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),w=c.filter(x=>m.indexOf(x.presence_ref)<0),v=d.filter(x=>h.indexOf(x.presence_ref)<0);w.length>0&&(o[u]=w),v.length>0&&(l[u]=v)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const d=e[o].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...h)}r(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nh||(Nh={}));var Rh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rh||(Rh={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class $c{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sl(this,pt.join,this.params,this.timeout),this.rejoinTimer=new sg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new As(this),this.broadcastEndpointURL=ag(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>e==null?void 0:e(Dt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,w=[];for(let v=0;v<m;v++){const x=h[v],{filter:{event:p,schema:f,table:y,filter:_}}=x,k=c&&c[v];if(k&&k.event===p&&k.schema===f&&k.table===y&&k.filter===_)w.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Dt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new sl(this,pt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sl(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=pt;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,x;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var w,v,x,p,f,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,k=(w=m.filter)===null||w===void 0?void 0:w.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(f=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:x,commit_timestamp:p,type:f,errors:y}=w;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:p,eventType:f,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(h,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&$c.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Oh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Oh(e.columns,e.old_record)),n}}const v1=()=>{},w1=typeof WebSocket<"u",_1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x1{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=l1,this.params={},this.timeout=rg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=v1,this.conn=null,this.sendBuffer=[],this.serializer=new d1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ur(async()=>{const{default:l}=await Promise.resolve().then(()=>Jr);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${yu.websocket}`,this.httpEndpoint=ag(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(w1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new k1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ur(async()=>{const{default:e}=await import("./browser-OpsNRAJe.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u1}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return jn.Connecting;case Pr.open:return jn.Open;case Pr.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}channel(e,n={config:{}}){const r=new $c(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(c1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([_1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class k1{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Dc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class S1 extends Dc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wu extends Dc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var b1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},E1=()=>b1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),_u=t=>{if(Array.isArray(t))return t.map(n=>_u(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=_u(r)}),e};var Qn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C1=(t,e,n)=>Qn(void 0,void 0,void 0,function*(){const r=yield E1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new S1(il(s),t.status||500))}).catch(s=>{e(new wu(il(s),s))}):e(new wu(il(t),t))}),P1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pi(t,e,n,r,s,i){return Qn(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,P1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>C1(l,o,r))})})}function Fa(t,e,n,r){return Qn(this,void 0,void 0,function*(){return pi(t,"GET",e,n,r)})}function en(t,e,n,r,s){return Qn(this,void 0,void 0,function*(){return pi(t,"POST",e,r,s,n)})}function T1(t,e,n,r,s){return Qn(this,void 0,void 0,function*(){return pi(t,"PUT",e,r,s,n)})}function O1(t,e,n,r){return Qn(this,void 0,void 0,function*(){return pi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lg(t,e,n,r,s){return Qn(this,void 0,void 0,function*(){return pi(t,"DELETE",e,r,s,n)})}var De=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const j1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ah={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N1{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=og(s)}uploadOrUpdate(e,n,r,s){return De(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ah),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(e,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return De(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Ah.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Dc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(e,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return De(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(e,n,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return De(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield en(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return De(this,void 0,void 0,function*(){try{const s=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(e,n){return De(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Fa(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}info(e){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Fa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_u(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(e){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield O1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof wu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return De(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}list(e,n,r){return De(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},j1),n),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const R1="2.7.1",A1={"X-Client-Info":`storage-js/${R1}`};var Zn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class I1{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},A1),n),this.fetch=og(r)}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Zn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Zn(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Zn(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}}class $1 extends I1{constructor(e,n={},r){super(e,n,r)}from(e){return new N1(this.url,this.headers,e,this.fetch)}}const D1="2.49.1";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const L1={"X-Client-Info":`supabase-js-${ys}/${D1}`},M1={headers:L1},F1={schema:"public"},U1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z1={};var B1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const W1=t=>{let e;return t?e=t:typeof fetch>"u"?e=qm:e=fetch,(...n)=>e(...n)},V1=()=>typeof Headers>"u"?Jm:Headers,H1=(t,e,n)=>{const r=W1(n),s=V1();return(i,a)=>B1(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var q1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function J1(t){return t.replace(/\/$/,"")}function Q1(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>q1(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const ug="2.68.0",ir=30*1e3,xu=3,al=xu*ir,G1="http://localhost:9999",K1="supabase.auth.token",Y1={"X-Client-Info":`gotrue-js/${ug}`},ku="X-Supabase-Api-Version",cg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function X1(t){return Math.round(Date.now()/1e3)+t}function Z1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Is=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function ex(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const dg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Li=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mi=async(t,e)=>{await t.removeItem(e)};function nx(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,a,o,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)a=e.indexOf(t.charAt(c++)),o=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class vo{constructor(){this.promise=new vo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vo.promiseConstructor=Promise;function Ih(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(nx(r))}async function rx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sx(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function ix(t){return("0"+t.toString(16)).substr(-2)}function ax(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ix).join("")}async function ox(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function lx(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ux(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ox(t);return lx(n)}async function er(t,e,n=!1){const r=ax();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await hg(t,`${e}-code-verifier`,s);const i=await ux(r);return[i,r===i?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dx(t){const e=t.headers.get(ku);if(!e||!e.match(cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Lc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hx extends Lc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fx(t){return L(t)&&t.name==="AuthApiError"}class fg extends Lc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gn extends Lc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Kt extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function px(t){return L(t)&&t.name==="AuthSessionMissingError"}class ol extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fi extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends Gn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mx(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class $h extends Gn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Su extends Gn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ll(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Dh extends Gn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var gx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yx=[502,503,504];async function Lh(t){var e;if(!tx(t))throw new Su(Tn(t),0);if(yx.includes(t.status))throw new Su(Tn(t),t.status);let n;try{n=await t.json()}catch(i){throw new fg(Tn(i),i)}let r;const s=dx(t);if(s&&s.getTime()>=cg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dh(Tn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Dh(Tn(n),t.status,n.weak_password.reasons);throw new hx(Tn(n),t.status||500,r)}const vx=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ku]||(i[ku]=cg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await wx(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wx(t,e,n,r,s,i){const a=vx(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Su(Tn(l),0)}if(o.ok||await Lh(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Lh(l)}}function Yt(t){var e;let n=null;Sx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=X1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mh(t){const e=Yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _x(t){return{data:t,error:null}}function xx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=gx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function kx(t){return t}function Sx(t){return t.access_token&&t.refresh_token&&t.expires_in}var bx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Ex{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=dg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bx(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kx});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:rn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:rn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const Cx={getItem:t=>Is()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Is()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Is()&&globalThis.localStorage.removeItem(t)}};function Fh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Px(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tr={debug:!!(globalThis&&Is()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tx extends pg{}async function Ox(t,e,n){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Tx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Px();const jx={url:G1,storageKey:K1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uh(t,e,n){return await n()}class ni{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ni.nextInstanceID,ni.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jx),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ex({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dg(s.fetch),this.lock=s.lock||Uh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ox:this.lock=Uh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Is()?this.storage=Cx:(this.memoryStorage={},this.storage=Fh(this.memoryStorage)):(this.memoryStorage={},this.storage=Fh(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ug}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ex(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),bt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mx(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new fg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await er(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:Yt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yt})}else throw new Fi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mh})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mh})}else throw new Fi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ol}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Yt});if(await Mi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ol}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yt}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ol}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await er(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Fi("You must provide either an email or phone number.")}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Yt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await er(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:_x})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Kt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Fi("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<al:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rn})})}catch(n){if(L(n))return px(n)&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Kt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await er(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:rn});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ih(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const a=Ih(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Kt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!bt())throw new Ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $h("No code detected.");const{data:f,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new Ui("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(fx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Z1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await er(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return bt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sx(async s=>(s>0&&await rx(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ll(i)&&Date.now()+a-r<ir})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Li(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<al;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${al}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ll(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vo;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),L(i)){const a={session:null,error:i};return ll(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Mi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ir}ms, refresh threshold is ${xu} ticks`),s<=xu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await er(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}ni.nextInstanceID=0;const Nx=ni;class Rx extends Nx{constructor(e){super(e)}}var Ax=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class Ix{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=J1(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:F1,realtime:z1,auth:Object.assign(Object.assign({},U1),{storageKey:l}),global:M1},c=Q1(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=H1(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new a1(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new D_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ax(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rx({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new x1(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $x=(t,e,n)=>new Ix(t,e,n),Dx="https://kszyyejneeoitkpbyajd.supabase.co",Lx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtzenl5ZWpuZWVvaXRrcGJ5YWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NjA1MzYsImV4cCI6MjA1NjEzNjUzNn0.NoWtOKHOiT30P0cBqm1hEvZozVbPO86ytdsQbgwqNAA",Ht=$x(Dx,Lx),wo=T_(t=>({user:null,session:null,loading:!0,setUser:e=>t({user:e}),setSession:e=>t({session:e}),setLoading:e=>t({loading:e}),signOut:async()=>{await Ht.auth.signOut(),t({user:null,session:null})}}));function Mx({children:t}){const{user:e,setUser:n,setSession:r,loading:s,setLoading:i}=wo(),a=uo();return b.useEffect(()=>{Ht.auth.getSession().then(({data:{session:l}})=>{r(l),n((l==null?void 0:l.user)??null),i(!1)});const{data:{subscription:o}}=Ht.auth.onAuthStateChange((l,u)=>{r(u),n((u==null?void 0:u.user)??null),i(!1)});return()=>o.unsubscribe()},[]),s?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):!e&&a.pathname!=="/auth"?g.jsx(xh,{to:"/auth",replace:!0}):e&&a.pathname==="/auth"?g.jsx(xh,{to:"/",replace:!0}):g.jsx(g.Fragment,{children:t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>b.createElement("svg",{ref:c,...Fx,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ux(t)}`,o].join(" "),...u},[...e.map(([d,h])=>b.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Q("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uk(){const[t,e]=b.useState(!0),[n,r]=b.useState(!1),[s,i]=b.useState(null),[a,o]=b.useState(!1),[l,u]=b.useState({email:"",password:"",username:""}),[c,d]=b.useState(!1);b.useEffect(()=>{const v=()=>{d(window.innerWidth<768)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const h=async v=>{v.preventDefault(),r(!0),i(null);try{if(t){const{error:x}=await Ht.auth.signInWithPassword({email:l.email,password:l.password});if(x)throw x}else{const{error:x}=await Ht.auth.signUp({email:l.email,password:l.password,options:{data:{username:l.username}}});if(x)throw x}}catch(x){i(x.message)}finally{r(!1)}},m=async()=>{try{r(!0),i(null),i("Google authentication is not enabled on this Supabase project. Please use email/password instead."),r(!1)}catch(v){i(v.message)}finally{r(!1)}},w=()=>{o(!a)};return g.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsxs("div",{className:"absolute -inset-[10px] opacity-50",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute top-1/4 left-1/4 w-[300px] h-[300px] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl animate-pulse delay-700"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-gradient-to-r from-indigo-500/25 to-purple-500/25 rounded-full blur-2xl animate-pulse delay-500"})]})}),g.jsxs("div",{className:"max-w-md w-full glass-effect dark:bg-gray-800/50 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700 relative z-10 backdrop-blur-lg",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"relative mx-auto w-20 h-20 mb-4",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur-md opacity-70 animate-pulse"}),g.jsx("div",{className:"relative flex items-center justify-center w-full h-full bg-white dark:bg-gray-800 rounded-full",children:g.jsx("img",{src:"/ai-assistant-logo.svg",alt:"Logo",className:"w-12 h-12"})})]}),g.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI Assistant"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your AI-powered knowledge companion"}),g.jsx("div",{className:"mt-4 flex justify-center",children:g.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-gradient-to-r from-indigo-500/10 to-purple-500/10 text-indigo-600 dark:text-indigo-300",children:[g.jsx("span",{className:"w-2 h-2 mr-1 bg-green-400 rounded-full animate-pulse"}),"Powered by OpenAI"]})})]}),g.jsx("div",{className:"mb-6",children:g.jsxs("div",{className:"flex justify-center space-x-4",children:[g.jsx("button",{onClick:()=>e(!0),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${t?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Sign In"}),g.jsx("button",{onClick:()=>e(!1),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${t?"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md"}`,children:"Sign Up"})]})}),g.jsxs("form",{onSubmit:h,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(Yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),g.jsx("input",{type:"email",value:l.email,onChange:v=>u({...l,email:v.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:"your.email@example.com",required:!0})]})]}),!t&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),g.jsxs("div",{className:"relative",children:[g.jsx(ok,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),g.jsx("input",{type:"text",value:l.username,onChange:v=>u({...l,username:v.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:"Choose a username",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),t&&g.jsx("a",{href:"#",className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:"Forgot password?"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),g.jsx("input",{type:a?"text":"password",value:l.password,onChange:v=>u({...l,password:v.target.value}),className:"pl-10 pr-10 w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white transition-all duration-200",placeholder:t?"Enter your password":"Create a strong password",required:!0}),g.jsx("button",{type:"button",onClick:w,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a?g.jsx(Jx,{className:"w-5 h-5"}):g.jsx(Qx,{className:"w-5 h-5"})})]}),!t&&g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Password must be at least 6 characters long"})]}),s&&g.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm bg-red-100 dark:bg-red-900/30 p-3 rounded-lg",children:[g.jsx(zx,{className:"w-5 h-5 flex-shrink-0"}),g.jsx("span",{children:s})]}),g.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:n?g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):g.jsxs(g.Fragment,{children:[t?"Sign In":"Create Account",g.jsx(Wx,{className:"w-4 h-4"})]})}),g.jsxs("div",{className:"relative my-6",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800",children:"Or continue with"})})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsx("button",{type:"button",onClick:m,disabled:n,className:"w-full py-3 px-4 bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-xl border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-[1.02] active:scale-[0.98]",children:n?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-800 dark:border-white"}):g.jsxs(g.Fragment,{children:[g.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]})})}),g.jsx("div",{className:"text-center mt-6",children:g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t?"Don't have an account?":"Already have an account?",g.jsx("button",{type:"button",onClick:()=>e(!t),className:"ml-1 text-purple-600 dark:text-purple-400 hover:underline transition-colors duration-200 font-medium",children:t?"Sign Up":"Sign In"})]})})]}),g.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["By continuing, you agree to our",g.jsx("a",{href:"#",className:"text-purple-600 dark:text-purple-400 hover:underline",children:" Terms of Service "}),"and",g.jsx("a",{href:"#",className:"text-purple-600 dark:text-purple-400 hover:underline",children:" Privacy Policy"}),"."]})})]})]})}function ck({message:t,isTyping:e=!1,isDark:n=!1}){return g.jsxs("div",{className:`flex gap-2 md:gap-4 ${t.isBot?"flex-row":"flex-row-reverse"} 
        animate-fade-in`,children:[g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-xl flex items-center justify-center flex-shrink-0
          ${t.isBot?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"bg-gradient-to-r from-emerald-400 to-cyan-400"}`,children:t.isBot?g.jsx(Vx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):g.jsx(Zx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),g.jsxs("div",{className:`max-w-[85%] px-4 py-3 md:px-6 md:py-4 rounded-2xl shadow-sm text-sm md:text-base
          ${t.isBot?"bg-white/80 dark:bg-gray-800/80 backdrop-blur border border-gray-100 dark:border-gray-700":"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white"}`,children:[g.jsxs("p",{className:`${t.isBot?"text-gray-800 dark:text-gray-200":"text-white"} leading-relaxed`,children:[t.text,e&&g.jsxs("span",{className:"typing-animation",children:[g.jsx("span",{children:"."}),g.jsx("span",{children:"."}),g.jsx("span",{children:"."})]})]}),g.jsx("span",{className:`text-xs mt-2 block ${t.isBot?"text-gray-400 dark:text-gray-500":"text-white/75"}`,children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}function xt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const wg=6048e5,dk=864e5,_g=6e4,xg=36e5;let hk={};function _o(){return hk}function ri(t,e){var o,l,u,c;const n=_o(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=xt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Ua(t){return ri(t,{weekStartsOn:1})}function kg(t){const e=xt(t),n=e.getFullYear(),r=Vn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ua(r),i=Vn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Ua(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Bh(t){const e=xt(t);return e.setHours(0,0,0,0),e}function Wh(t){const e=xt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function fk(t,e){const n=Bh(t),r=Bh(e),s=+n-Wh(n),i=+r-Wh(r);return Math.round((s-i)/dk)}function pk(t){const e=kg(t),n=Vn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ua(n)}function mk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sg(t){if(!mk(t)&&typeof t!="number")return!1;const e=xt(t);return!isNaN(Number(e))}function gk(t){const e=xt(t),n=Vn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vk=(t,e,n)=>{let r;const s=yk[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ul(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_k={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kk={date:ul({formats:wk,defaultWidth:"full"}),time:ul({formats:_k,defaultWidth:"full"}),dateTime:ul({formats:xk,defaultWidth:"full"})},Sk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bk=(t,e,n,r)=>Sk[t];function cs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Ek={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ck={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rk={ordinalNumber:Nk,era:cs({values:Ek,defaultWidth:"wide"}),quarter:cs({values:Ck,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cs({values:Pk,defaultWidth:"wide"}),day:cs({values:Tk,defaultWidth:"wide"}),dayPeriod:cs({values:Ok,defaultWidth:"wide",formattingValues:jk,defaultFormattingWidth:"wide"})};function ds(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Ik(o,d=>d.test(a)):Ak(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function Ak(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ik(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $k(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const Dk=/^(\d+)(th|st|nd|rd)?/i,Lk=/\d+/i,Mk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fk={any:[/^b/i,/^(a|c)/i]},Uk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zk={any:[/1/i,/2/i,/3/i,/4/i]},Bk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qk={ordinalNumber:$k({matchPattern:Dk,parsePattern:Lk,valueCallback:t=>parseInt(t,10)}),era:ds({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any"}),quarter:ds({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ds({matchPatterns:Bk,defaultMatchWidth:"wide",parsePatterns:Wk,defaultParseWidth:"any"}),day:ds({matchPatterns:Vk,defaultMatchWidth:"wide",parsePatterns:Hk,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:qk,defaultMatchWidth:"any",parsePatterns:Jk,defaultParseWidth:"any"})},Gk={code:"en-US",formatDistance:vk,formatLong:kk,formatRelative:bk,localize:Rk,match:Qk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kk(t){const e=xt(t);return fk(e,gk(e))+1}function Yk(t){const e=xt(t),n=+Ua(e)-+pk(e);return Math.round(n/wg)+1}function bg(t,e){var c,d,h,m;const n=xt(t),r=n.getFullYear(),s=_o(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=Vn(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=ri(a,e),l=Vn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=ri(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Xk(t,e){var o,l,u,c;const n=_o(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=bg(t,e),i=Vn(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ri(i,e)}function Zk(t,e){const n=xt(t),r=+ri(n,e)-+Xk(n,e);return Math.round(r/wg)+1}function H(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return H(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):H(n+1,2)},d(t,e){return H(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return H(t.getHours()%12||12,e.length)},H(t,e){return H(t.getHours(),e.length)},m(t,e){return H(t.getMinutes(),e.length)},s(t,e){return H(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return H(s,e.length)}},nr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vh={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Qt.y(t,e)},Y:function(t,e,n,r){const s=bg(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return H(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):H(i,e.length)},R:function(t,e){const n=kg(t);return H(n,e.length)},u:function(t,e){const n=t.getFullYear();return H(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return H(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return H(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return H(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Zk(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):H(s,e.length)},I:function(t,e,n){const r=Yk(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):H(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qt.d(t,e)},D:function(t,e,n){const r=Kk(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):H(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return H(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return H(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return H(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=nr.noon:r===0?s=nr.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=nr.evening:r>=12?s=nr.afternoon:r>=4?s=nr.morning:s=nr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):H(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):H(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qt.s(t,e)},S:function(t,e){return Qt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qh(r);case"XXXX":case"XX":return On(r);case"XXXXX":case"XXX":default:return On(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return qh(r);case"xxxx":case"xx":return On(r);case"xxxxx":case"xxx":default:return On(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hh(r,":");case"OOOO":default:return"GMT"+On(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hh(r,":");case"zzzz":default:return"GMT"+On(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return H(r,e.length)},T:function(t,e,n){const r=t.getTime();return H(r,e.length)}};function Hh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+H(i,2)}function qh(t,e){return t%60===0?(t>0?"-":"+")+H(Math.abs(t)/60,2):On(t,e)}function On(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=H(Math.trunc(r/60),2),i=H(r%60,2);return n+s+e+i}const Jh=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Eg=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eS=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Jh(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Jh(r,e)).replace("{{time}}",Eg(s,e))},tS={p:Eg,P:eS},nS=/^D+$/,rS=/^Y+$/,sS=["D","DD","YY","YYYY"];function iS(t){return nS.test(t)}function aS(t){return rS.test(t)}function oS(t,e,n){const r=lS(t,e,n);if(console.warn(r),sS.includes(t))throw new RangeError(r)}function lS(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dS=/^'([^]*?)'?$/,hS=/''/g,fS=/[a-zA-Z]/;function pS(t,e,n){var c,d,h,m;const r=_o(),s=r.locale??Gk,i=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,o=xt(t);if(!Sg(o))throw new RangeError("Invalid time value");let l=e.match(cS).map(w=>{const v=w[0];if(v==="p"||v==="P"){const x=tS[v];return x(w,s.formatLong)}return w}).join("").match(uS).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:mS(w)};if(Vh[v])return{isToken:!0,value:w};if(v.match(fS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const v=w.value;(aS(v)||iS(v))&&oS(v,e,String(t));const x=Vh[v[0]];return x(o,v,s.localize,u)}).join("")}function mS(t){const e=t.match(dS);return e?e[1].replace(hS,"'"):t}function gS(t,e){const r=_S(t);let s;if(r.date){const l=xS(r.date,2);s=kS(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(r.time&&(a=SS(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=bS(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const zi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _S(t){const e={},n=t.split(zi.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],zi.timeZoneDelimiter.test(e.date)&&(e.date=t.split(zi.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=zi.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function xS(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function kS(t,e){if(e===null)return new Date(NaN);const n=t.match(yS);if(!n)return new Date(NaN);const r=!!n[4],s=hs(n[1]),i=hs(n[2])-1,a=hs(n[3]),o=hs(n[4]),l=hs(n[5])-1;if(r)return OS(e,o,l)?ES(e,o,l):new Date(NaN);{const u=new Date(0);return!PS(e,i,a)||!TS(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function hs(t){return t?parseInt(t):1}function SS(t){const e=t.match(vS);if(!e)return NaN;const n=cl(e[1]),r=cl(e[2]),s=cl(e[3]);return jS(n,r,s)?n*xg+r*_g+s*1e3:NaN}function cl(t){return t&&parseFloat(t.replace(",","."))||0}function bS(t){if(t==="Z")return 0;const e=t.match(wS);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return NS(r,s)?n*(r*xg+s*_g):NaN}function ES(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const CS=[31,null,31,30,31,30,31,31,30,31,30,31];function Cg(t){return t%400===0||t%4===0&&t%100!==0}function PS(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(CS[e]||(Cg(t)?29:28))}function TS(t,e){return e>=1&&e<=(Cg(t)?366:365)}function OS(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jS(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function NS(t,e){return e>=0&&e<=59}function RS({isOpen:t,onToggle:e,chatHistory:n,onSelectChat:r,currentChatId:s,onNewChat:i,onDeleteChat:a,onRenameChat:o,onArchiveChat:l,onShareChat:u,isMobile:c=!1}){const{user:d}=wo(),[h,m]=b.useState(null),[w,v]=b.useState(null),[x,p]=b.useState(""),f=T=>{if(!T)return"Unknown date";try{const P=typeof T=="string"?gS(T):T;return Sg(P)?pS(P,"MMM d, yyyy h:mm a"):"Invalid date"}catch(P){return console.error("Date formatting error:",P),"Invalid date"}},y=(T,P)=>{T.stopPropagation(),window.confirm("Are you sure you want to delete this chat? This action cannot be undone.")&&(a(P),m(null))},_=(T,P,A)=>{T.stopPropagation(),v(P),p(A),m(null)},k=(T,P)=>{T.preventDefault(),x.trim()&&(o(P,x.trim()),v(null),p(""))},C=(T,P,A)=>{T.stopPropagation(),l(P,!A),m(null)},S=(T,P)=>{T.stopPropagation(),u(P),m(null)},O=(T,P)=>{T.stopPropagation(),m(h===P?null:P)};return qa.useEffect(()=>{const T=()=>m(null);return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[]),g.jsxs(g.Fragment,{children:[!c&&g.jsx("button",{onClick:e,className:"fixed top-20 left-0 z-30 p-2 bg-white dark:bg-gray-800 rounded-r-lg shadow-lg hidden md:block","aria-label":t?"Close sidebar":"Open sidebar",children:t?g.jsx(gg,{}):g.jsx(yg,{})}),g.jsx("div",{className:`fixed inset-0 bg-black/50 z-20 transition-opacity duration-300 md:hidden ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),g.jsx("div",{className:`fixed top-0 left-0 h-full z-30 transition-transform duration-300 transform ${t?"translate-x-0":"-translate-x-full"}`,children:g.jsxs("div",{className:"w-72 h-full bg-white dark:bg-gray-800 shadow-xl flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Chat History"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-[180px]",children:d==null?void 0:d.email})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:i,className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors","aria-label":"New chat",children:g.jsx(vg,{className:"w-5 h-5"})}),c&&g.jsx("button",{onClick:e,className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors md:hidden","aria-label":"Close sidebar",children:g.jsx(lk,{className:"w-5 h-5"})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:n&&n.length>0?n.map(T=>g.jsx("div",{className:`w-full p-3 rounded-lg transition-colors group relative ${s===T.id?"bg-purple-100 dark:bg-purple-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:w===T.id?g.jsxs("form",{onSubmit:P=>k(P,T.id),className:"flex gap-2",children:[g.jsx("input",{type:"text",value:x,onChange:P=>p(P.target.value),className:"flex-1 px-2 py-1 text-sm border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",autoFocus:!0,onBlur:()=>v(null)}),g.jsx("button",{type:"submit",className:"text-sm text-purple-600 dark:text-purple-400",children:"Save"})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:()=>r(T.id,T.messages),className:"flex items-center gap-3 flex-1 text-left",children:[g.jsx(zh,{className:"w-5 h-5 text-purple-500 flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-white truncate",children:T.title||"Untitled Chat"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f(T.timestamp)})]})]}),g.jsx("button",{onClick:P=>O(P,T.id),className:"p-1.5 rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Chat options",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),h===T.id&&g.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-50",children:g.jsxs("div",{className:"py-1",role:"menu",children:[g.jsxs("button",{onClick:P=>_(P,T.id,T.title),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[g.jsx(tk,{className:"w-4 h-4 mr-2"})," Rename"]}),g.jsxs("button",{onClick:P=>S(P,T.id),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[g.jsx(sk,{className:"w-4 h-4 mr-2"})," Share"]}),g.jsxs("button",{onClick:P=>C(P,T.id,!!T.archived),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[g.jsx(Bx,{className:"w-4 h-4 mr-2"})," ",T.archived?"Unarchive":"Archive"]}),g.jsxs("button",{onClick:P=>y(P,T.id),className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30",children:[g.jsx(ak,{className:"w-4 h-4 mr-2"})," Delete"]})]})})]})},T.id)):g.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[g.jsx(zh,{className:"w-10 h-10 text-gray-300 dark:text-gray-600 mb-2"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No chat history yet"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Start a new conversation"})]})})]})})]})}function AS({references:t,isLoading:e,query:n}){return n?e?g.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6",children:[g.jsx("div",{className:"w-10 h-10 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Searching for references..."})]}):t.length===0?g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[g.jsx(mg,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mb-3"}),g.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No References Found"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"We couldn't find any relevant web references for your query"})]}):g.jsxs("div",{className:"h-full flex flex-col p-4",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Web References"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Related information from the web"})]}),g.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:t.map((r,s)=>g.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"block p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-white mb-1 flex-1",children:r.title}),g.jsx(qx,{className:"w-4 h-4 text-gray-400 flex-shrink-0 ml-2"})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 line-clamp-3",children:r.description}),g.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:r.source})]},s))})]}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[g.jsx(nk,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mb-3"}),g.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Web References"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ask a question to see relevant web references here"})]})}const bu="RFC3986",Eu={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},IS="RFC1738",$S=Array.isArray,St=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),dl=1024,DS=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=dl){const l=i.length>=dl?i.slice(o,o+dl):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===IS&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=St[d];continue}if(d<2048){u[u.length]=St[192|d>>6]+St[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=St[224|d>>12]+St[128|d>>6&63]+St[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=St[240|d>>18]+St[128|d>>12&63]+St[128|d>>6&63]+St[128|d&63]}a+=u.join("")}return a};function LS(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Qh(t,e){if($S(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const MS=Object.prototype.hasOwnProperty,Pg={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Ct=Array.isArray,FS=Array.prototype.push,Tg=function(t,e){FS.apply(t,Ct(e)?e:[e])},US=Date.prototype.toISOString,he={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:DS,encodeValuesOnly:!1,format:bu,formatter:Eu[bu],indices:!1,serializeDate(t){return US.call(t)},skipNulls:!1,strictNullHandling:!1};function zS(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const hl={};function Og(t,e,n,r,s,i,a,o,l,u,c,d,h,m,w,v,x,p){let f=t,y=p,_=0,k=!1;for(;(y=y.get(hl))!==void 0&&!k;){const P=y.get(t);if(_+=1,typeof P<"u"){if(P===_)throw new RangeError("Cyclic object value");k=!0}typeof y.get(hl)>"u"&&(_=0)}if(typeof u=="function"?f=u(e,f):f instanceof Date?f=h==null?void 0:h(f):n==="comma"&&Ct(f)&&(f=Qh(f,function(P){return P instanceof Date?h==null?void 0:h(P):P})),f===null){if(i)return l&&!v?l(e,he.encoder,x,"key",m):e;f=""}if(zS(f)||LS(f)){if(l){const P=v?e:l(e,he.encoder,x,"key",m);return[(w==null?void 0:w(P))+"="+(w==null?void 0:w(l(f,he.encoder,x,"value",m)))]}return[(w==null?void 0:w(e))+"="+(w==null?void 0:w(String(f)))]}const C=[];if(typeof f>"u")return C;let S;if(n==="comma"&&Ct(f))v&&l&&(f=Qh(f,l)),S=[{value:f.length>0?f.join(",")||null:void 0}];else if(Ct(u))S=u;else{const P=Object.keys(f);S=c?P.sort(c):P}const O=o?String(e).replace(/\./g,"%2E"):String(e),T=r&&Ct(f)&&f.length===1?O+"[]":O;if(s&&Ct(f)&&f.length===0)return T+"[]";for(let P=0;P<S.length;++P){const A=S[P],we=typeof A=="object"&&typeof A.value<"u"?A.value:f[A];if(a&&we===null)continue;const lt=d&&o?A.replace(/\./g,"%2E"):A,kn=Ct(f)?typeof n=="function"?n(T,lt):T:T+(d?"."+lt:"["+lt+"]");p.set(t,_);const Kn=new WeakMap;Kn.set(hl,p),Tg(C,Og(we,kn,n,r,s,i,a,o,n==="comma"&&v&&Ct(f)?null:l,u,c,d,h,m,w,v,x,Kn))}return C}function BS(t=he){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||he.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=bu;if(typeof t.format<"u"){if(!MS.call(Eu,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Eu[n];let s=he.filter;(typeof t.filter=="function"||Ct(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Pg?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=he.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:he.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:he.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:he.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:he.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?he.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:he.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:he.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:he.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:he.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:he.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:he.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:he.strictNullHandling}}function WS(t,e={}){let n=t;const r=BS(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Ct(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=Pg[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const m=s[h];r.skipNulls&&n[m]===null||Tg(a,Og(n[m],m,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}const ar="4.85.4";let Gh=!1,$s,jg,Ng,Cu,Rg,Ag,Ig,$g,Dg;function VS(t,e={auto:!1}){if(Gh)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if($s)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${$s}'\``);Gh=e.auto,$s=t.kind,jg=t.fetch,Ng=t.FormData,Cu=t.File,Rg=t.ReadableStream,Ag=t.getMultipartRequestOptions,Ig=t.getDefaultAgent,$g=t.fileFromPath,Dg=t.isFsReadStream}class HS{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function qS({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new HS(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}$s||VS(qS(),{auto:!0});class F extends Error{}class be extends F{constructor(e,n,r,s){super(`${be.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new xo({message:r,cause:Tu(n)});const i=n==null?void 0:n.error;return e===400?new Lg(e,i,r,s):e===401?new Mg(e,i,r,s):e===403?new Fg(e,i,r,s):e===404?new Ug(e,i,r,s):e===409?new zg(e,i,r,s):e===422?new Bg(e,i,r,s):e===429?new Wg(e,i,r,s):e>=500?new Vg(e,i,r,s):new be(e,i,r,s)}}class gt extends be{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xo extends be{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Mc extends xo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Lg extends be{}class Mg extends be{}class Fg extends be{}class Ug extends be{}class zg extends be{}class Bg extends be{}class Wg extends be{}class Vg extends be{}class Hg extends F{constructor(){super("Could not parse response content as the length limit was reached")}}class qg extends F{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Bi=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},En=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},He;class ko{constructor(){He.set(this,void 0),this.buffer=new Uint8Array,Bi(this,He,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=JS(this.buffer,En(this,He,"f")))!=null;){if(i.carriage&&En(this,He,"f")==null){Bi(this,He,i.index,"f");continue}if(En(this,He,"f")!=null&&(i.index!==En(this,He,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,En(this,He,"f")-1))),this.buffer=this.buffer.slice(En(this,He,"f")),Bi(this,He,null,"f");continue}const a=En(this,He,"f")!==null?i.preceding-1:i.preceding,o=this.decodeText(this.buffer.slice(0,a));s.push(o),this.buffer=this.buffer.slice(i.index),Bi(this,He,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new F(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new F(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new F("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}He=new WeakMap;ko.NEWLINE_CHARS=new Set([`
`,"\r"]);ko.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JS(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function QS(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function Jg(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ot{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of GS(e,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new be(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new be(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new Ot(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const a=new ko,o=Jg(e);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Ot(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new Ot(()=>s(e),this.controller),new Ot(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Rg({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await n.next();if(a)return s.close();const o=r.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*GS(t,e){if(!t.body)throw e.abort(),new F("Attempted to iterate over a response with no body");const n=new YS,r=new ko,s=Jg(t.body);for await(const i of KS(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*KS(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=QS(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class YS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=XS(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function XS(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Qg=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Gg=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&So(t),So=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ZS=t=>Gg(t)||Qg(t)||Dg(t);async function Kg(t,e,n){var s;if(t=await t,Gg(t))return t;if(Qg(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=So(i)?[await i.arrayBuffer()]:[i];return new Cu(a,e,n)}const r=await eb(t);if(e||(e=nb(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Cu(r,e,n)}async function eb(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(So(t))e.push(await t.arrayBuffer());else if(rb(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${tb(t)}`);return e}function tb(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function nb(t){var e;return fl(t.name)||fl(t.filename)||((e=fl(t.path))==null?void 0:e.split(/[\\/]/).pop())}const fl=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},rb=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Kh=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Br=async t=>{const e=await sb(t.body);return Ag(e,t)},sb=async t=>{const e=new Ng;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Pu(e,n,r))),e},Pu=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(ZS(n)){const r=await Kg(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Pu(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Pu(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Tr={},ib=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},ab=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Wi;async function Yg(t){const{response:e}=t;if(t.options.stream)return Or("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ot.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Or("response",e.status,e.url,e.headers,i),Xg(i,e)}const s=await e.text();return Or("response",e.status,e.url,e.headers,s),s}function Xg(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class bo extends Promise{constructor(e,n=Yg){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new bo(this.responsePromise,async n=>Xg(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class ob{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=pl("maxRetries",n),this.timeout=pl("timeout",r),this.httpAgent=s,this.fetch=i??jg}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...fb(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${yb()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&So(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var w;e={...e};const{method:r,path:s,query:i,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Kh(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),u=this.buildURL(s,i);"timeout"in e&&pl("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const c=e.httpAgent??this.httpAgent??Ig(u),d=e.timeout+1e3;typeof((w=c==null?void 0:c.options)==null?void 0:w.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:a,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...c&&{agent:c},signal:e.signal??null},url:u,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(e);return ef(i,a),ef(i,n),Kh(e.body)&&$s!=="node"&&delete i["content-type"],Hi(a,"x-stainless-retry-count")===void 0&&Hi(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),Hi(a,"x-stainless-timeout")===void 0&&Hi(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return be.generate(e,n,r,s)}request(e,n=null){return new bo(this.makeRequest(e,n))}async makeRequest(e,n){var d,h;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:a,timeout:o}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:a,options:r}),Or("request",a,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new gt;const l=new AbortController,u=await this.fetchWithTimeout(a,i,o,l).catch(Tu);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new gt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Mc:new xo({cause:u})}const c=ub(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const f=`retrying, ${n} attempts remaining`;return Or(`response (error; ${f})`,u.status,a,c),this.retryRequest(r,n,c)}const m=await u.text().catch(f=>Tu(f).message),w=pb(m),v=w?void 0:m;throw Or(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,c,v),this.makeStatusError(u.status,w,v,c)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new lb(this,r,e)}buildURL(e,n){const r=gb(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return ey(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new F(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...a}=n||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r),l={signal:s.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=r==null?void 0:r["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,o)}return await mi(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ar}`}}class Zg{constructor(e,n,r,s){Wi.set(this,void 0),ib(this,Wi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new F("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await ab(this,Wi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Wi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class lb extends bo{constructor(e,n,r){super(n,async s=>new r(e,s.response,await Yg(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const ub=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),cb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},je=t=>typeof t=="object"&&t!==null&&!ey(t)&&Object.keys(t).every(e=>ty(cb,e)),db=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":Xh(Deno.build.os),"X-Stainless-Arch":Yh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":Xh(process.platform),"X-Stainless-Arch":Yh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=hb();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hb(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const Yh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Xh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Zh;const fb=()=>Zh??(Zh=db()),pb=t=>{try{return JSON.parse(t)}catch{return}},mb=/^[a-z][a-z0-9+.-]*:/i,gb=t=>mb.test(t),mi=t=>new Promise(e=>setTimeout(e,t)),pl=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new F(`${t} must be an integer`);if(e<0)throw new F(`${t} must be a positive integer`);return e},Tu=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Vi=t=>{var e,n,r,s;if(typeof process<"u")return((e=Tr==null?void 0:Tr[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function ey(t){if(!t)return!0;for(const e in t)return!1;return!0}function ty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ef(t,e){for(const n in e){if(!ty(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const tf=new Set(["authorization","api-key"]);function Or(t,...e){if(typeof process<"u"&&(Tr==null?void 0:Tr.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const a in r.headers)tf.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let s=null;for(const i in r)tf.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const yb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),vb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",wb=t=>typeof(t==null?void 0:t.get)=="function",Hi=(t,e)=>{var r;const n=e.toLowerCase();if(wb(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const a=t.get(i);if(a)return a}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function ml(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class _b extends Zg{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class et extends Zg{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class V{constructor(e){this._client=e}}let ny=class extends V{list(e,n={},r){return je(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,xb,{query:n,...r})}},Eo=class extends V{constructor(){super(...arguments),this.messages=new ny(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/chat/completions",Co,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Co extends et{}class xb extends et{}Eo.ChatCompletionsPage=Co;Eo.Messages=ny;let Po=class extends V{constructor(){super(...arguments),this.completions=new Eo(this._client)}};Po.Completions=Eo;Po.ChatCompletionsPage=Co;class ry extends V{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class sy extends V{create(e,n){return this._client.post("/audio/transcriptions",Br({body:e,...n,__metadata:{model:e.model}}))}}class iy extends V{create(e,n){return this._client.post("/audio/translations",Br({body:e,...n,__metadata:{model:e.model}}))}}class gi extends V{constructor(){super(...arguments),this.transcriptions=new sy(this._client),this.translations=new iy(this._client),this.speech=new ry(this._client)}}gi.Transcriptions=sy;gi.Translations=iy;gi.Speech=ry;class Fc extends V{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/batches",Uc,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Uc extends et{}Fc.BatchesPage=Uc;class zc extends V{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/assistants",Bc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Bc extends et{}zc.AssistantsPage=Bc;function nf(t){return typeof t.parse=="function"}const jr=t=>(t==null?void 0:t.role)==="assistant",ay=t=>(t==null?void 0:t.role)==="function",oy=t=>(t==null?void 0:t.role)==="tool";var ct=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},ne=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ou,la,ua,vs,ws,ca,_s,It,xs,za,Ba,or,ly;class uy{constructor(){Ou.add(this),this.controller=new AbortController,la.set(this,void 0),ua.set(this,()=>{}),vs.set(this,()=>{}),ws.set(this,void 0),ca.set(this,()=>{}),_s.set(this,()=>{}),It.set(this,{}),xs.set(this,!1),za.set(this,!1),Ba.set(this,!1),or.set(this,!1),ct(this,la,new Promise((e,n)=>{ct(this,ua,e,"f"),ct(this,vs,n,"f")}),"f"),ct(this,ws,new Promise((e,n)=>{ct(this,ca,e,"f"),ct(this,_s,n,"f")}),"f"),ne(this,la,"f").catch(()=>{}),ne(this,ws,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ne(this,Ou,"m",ly).bind(this))},0)}_connected(){this.ended||(ne(this,ua,"f").call(this),this._emit("connect"))}get ended(){return ne(this,xs,"f")}get errored(){return ne(this,za,"f")}get aborted(){return ne(this,Ba,"f")}abort(){this.controller.abort()}on(e,n){return(ne(this,It,"f")[e]||(ne(this,It,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ne(this,It,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(ne(this,It,"f")[e]||(ne(this,It,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ct(this,or,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ct(this,or,!0,"f"),await ne(this,ws,"f")}_emit(e,...n){if(ne(this,xs,"f"))return;e==="end"&&(ct(this,xs,!0,"f"),ne(this,ca,"f").call(this));const r=ne(this,It,"f")[e];if(r&&(ne(this,It,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!ne(this,or,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ne(this,vs,"f").call(this,s),ne(this,_s,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!ne(this,or,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ne(this,vs,"f").call(this,s),ne(this,_s,"f").call(this,s),this._emit("end")}}_emitFinal(){}}la=new WeakMap,ua=new WeakMap,vs=new WeakMap,ws=new WeakMap,ca=new WeakMap,_s=new WeakMap,It=new WeakMap,xs=new WeakMap,za=new WeakMap,Ba=new WeakMap,or=new WeakMap,Ou=new WeakSet,ly=function(e){if(ct(this,za,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new gt),e instanceof gt)return ct(this,Ba,!0,"f"),this._emit("abort",e);if(e instanceof F)return this._emit("error",e);if(e instanceof Error){const n=new F(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new F(String(e)))};function cy(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function yi(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function kb(t,e){return!e||!dy(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Wc(t,e)}function Wc(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Hg;if(r.finish_reason==="content_filter")throw new qg;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>bb(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Sb(e,r.message.content):null}}});return{...t,choices:n}}function Sb(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function bb(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:yi(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function Eb(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return yi(n)||(n==null?void 0:n.function.strict)||!1}function dy(t){var e;return cy(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>yi(n)||n.type==="function"&&n.function.strict===!0))??!1}function Cb(t){for(const e of t??[]){if(e.type!=="function")throw new F(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new F(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Le=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pe,ju,Wa,Nu,Ru,Au,hy,Iu;const rf=10;class fy extends uy{constructor(){super(...arguments),Pe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(ay(e)||oy(e))&&e.content)this._emit("functionCallResult",e.content);else if(jr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(jr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new F("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Le(this,Pe,"m",ju).call(this)}async finalMessage(){return await this.done(),Le(this,Pe,"m",Wa).call(this)}async finalFunctionCall(){return await this.done(),Le(this,Pe,"m",Nu).call(this)}async finalFunctionCallResult(){return await this.done(),Le(this,Pe,"m",Ru).call(this)}async totalUsage(){return await this.done(),Le(this,Pe,"m",Au).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Le(this,Pe,"m",Wa).call(this);n&&this._emit("finalMessage",n);const r=Le(this,Pe,"m",ju).call(this);r&&this._emit("finalContent",r);const s=Le(this,Pe,"m",Nu).call(this);s&&this._emit("finalFunctionCall",s);const i=Le(this,Pe,"m",Ru).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Le(this,Pe,"m",Au).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Le(this,Pe,"m",hy).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Wc(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var h;const s="function",{function_call:i="auto",stream:a,...o}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=rf}=r||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const d=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const v=(h=(await this._createChatCompletion(e,{...o,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!v)throw new F("missing message in ChatCompletion response");if(!v.function_call)return;const{name:x,arguments:p}=v.function_call,f=c[x];if(f){if(l&&l!==x){const C=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:C});continue}}else{const C=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${d.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:C});continue}let y;try{y=nf(f)?await f.parse(p):p}catch(C){this._addMessage({role:s,name:x,content:C instanceof Error?C.message:String(C)});continue}const _=await f.function(y,this),k=Le(this,Pe,"m",Iu).call(this,_);if(this._addMessage({role:s,name:x,content:k}),l)return}}async _runTools(e,n,r){var m,w,v;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=rf}=r||{},c=n.tools.map(x=>{if(yi(x)){if(!x.$callback)throw new F("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),d={};for(const x of c)x.type==="function"&&(d[x.function.name||x.function.function.name]=x.function);const h="tools"in n?c.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const f=(w=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!f)throw new F("missing message in ChatCompletion response");if(!((v=f.tool_calls)!=null&&v.length))return;for(const y of f.tool_calls){if(y.type!=="function")continue;const _=y.id,{name:k,arguments:C}=y.function,S=d[k];if(S){if(l&&l!==k){const A=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(d).map(we=>JSON.stringify(we)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:A});continue}let O;try{O=nf(S)?await S.parse(C):C}catch(A){const we=A instanceof Error?A.message:String(A);this._addMessage({role:s,tool_call_id:_,content:we});continue}const T=await S.function(O,this),P=Le(this,Pe,"m",Iu).call(this,T);if(this._addMessage({role:s,tool_call_id:_,content:P}),l)return}}}}Pe=new WeakSet,ju=function(){return Le(this,Pe,"m",Wa).call(this).content??null},Wa=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(jr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new F("stream ended without producing a ChatCompletionMessage with role=assistant")},Nu=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(jr(s)&&(s!=null&&s.function_call))return s.function_call;if(jr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Ru=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(ay(n)&&n.content!=null||oy(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Au=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},hy=function(e){if(e.n!=null&&e.n>1)throw new F("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Iu=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class si extends fy{static runFunctions(e,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),jr(e)&&e.content&&this._emit("content",e.content)}}const py=1,my=2,gy=4,yy=8,vy=16,wy=32,_y=64,xy=128,ky=256,Sy=xy|ky,by=vy|wy|Sy|_y,Ey=py|my|by,Cy=gy|yy,Pb=Ey|Cy,me={STR:py,NUM:my,ARR:gy,OBJ:yy,NULL:vy,BOOL:wy,NAN:_y,INFINITY:xy,MINUS_INFINITY:ky,INF:Sy,SPECIAL:by,ATOM:Ey,COLLECTION:Cy,ALL:Pb};class Tb extends Error{}class Ob extends Error{}function jb(t,e=me.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Nb(t.trim(),e)}const Nb=(t,e)=>{const n=t.length;let r=0;const s=h=>{throw new Tb(`${h} at position ${r}`)},i=h=>{throw new Ob(`${h} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||me.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||me.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||me.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||me.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||me.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||me.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),o=()=>{const h=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(h,++r-Number(m)))}catch(w){i(String(w))}else if(me.STR&e)try{return JSON.parse(t.substring(h,r-Number(m))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;t[r]!=="}";){if(d(),r>=n&&me.OBJ&e)return h;const m=o();d(),r++;try{const w=a();Object.defineProperty(h,m,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(me.OBJ&e)return h;throw w}d(),t[r]===","&&r++}}catch{if(me.OBJ&e)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;t[r]!=="]";)h.push(a()),d(),t[r]===","&&r++}catch{if(me.ARR&e)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){t==="-"&&me.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(me.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(m))}}const h=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(me.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(h,r))}catch{t.substring(h,r)==="-"&&me.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(w){i(String(w))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},sf=t=>jb(t,me.ALL^me.NUM);var rr=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},J=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},de,At,sr,Gt,gl,qi,yl,vl,wl,Ji,_l,af;class ii extends fy{constructor(e){super(),de.add(this),At.set(this,void 0),sr.set(this,void 0),Gt.set(this,void 0),rr(this,At,e,"f"),rr(this,sr,[],"f")}get currentChatCompletionSnapshot(){return J(this,Gt,"f")}static fromReadableStream(e){const n=new ii(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new ii(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,de,"m",gl).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)J(this,de,"m",yl).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new gt;return this._addChatCompletion(J(this,de,"m",Ji).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),J(this,de,"m",gl).call(this),this._connected();const s=Ot.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(J(this,de,"m",Ji).call(this)),J(this,de,"m",yl).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new gt;return this._addChatCompletion(J(this,de,"m",Ji).call(this))}[(At=new WeakMap,sr=new WeakMap,Gt=new WeakMap,de=new WeakSet,gl=function(){this.ended||rr(this,Gt,void 0,"f")},qi=function(n){let r=J(this,sr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},J(this,sr,"f")[n.index]=r,r)},yl=function(n){var s,i,a,o,l,u,c,d,h,m,w,v,x,p,f;if(this.ended)return;const r=J(this,de,"m",af).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const _=r.choices[y.index];y.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((i=_.message)!=null&&i.content)&&(this._emit("content",y.delta.content,_.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),y.delta.refusal!=null&&((a=_.message)==null?void 0:a.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:_.message.refusal}),((l=y.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=y.logprobs)==null?void 0:c.content,snapshot:((d=_.logprobs)==null?void 0:d.content)??[]}),((h=y.logprobs)==null?void 0:h.refusal)!=null&&((m=_.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=y.logprobs)==null?void 0:w.refusal,snapshot:((v=_.logprobs)==null?void 0:v.refusal)??[]});const k=J(this,de,"m",qi).call(this,_);_.finish_reason&&(J(this,de,"m",wl).call(this,_),k.current_tool_call_index!=null&&J(this,de,"m",vl).call(this,_,k.current_tool_call_index));for(const C of y.delta.tool_calls??[])k.current_tool_call_index!==C.index&&(J(this,de,"m",wl).call(this,_),k.current_tool_call_index!=null&&J(this,de,"m",vl).call(this,_,k.current_tool_call_index)),k.current_tool_call_index=C.index;for(const C of y.delta.tool_calls??[]){const S=(x=_.message.tool_calls)==null?void 0:x[C.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(p=S.function)==null?void 0:p.name,index:C.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((f=C.function)==null?void 0:f.arguments)??""}):(S==null||S.type,void 0))}}},vl=function(n,r){var a,o,l;if(J(this,de,"m",qi).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=J(this,At,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:yi(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},wl=function(n){var s,i;const r=J(this,de,"m",qi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=J(this,de,"m",_l).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Ji=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const n=J(this,Gt,"f");if(!n)throw new F("request ended without sending any chunks");return rr(this,Gt,void 0,"f"),rr(this,sr,[],"f"),Rb(n,J(this,At,"f"))},_l=function(){var r;const n=(r=J(this,At,"f"))==null?void 0:r.response_format;return cy(n)?n:null},af=function(n){var r,s,i,a;let o=J(this,Gt,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=rr(this,Gt,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:h,logprobs:m=null,...w}of n.choices){let v=o.choices[h];if(v||(v=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:m,...w}),m)if(!v.logprobs)v.logprobs=Object.assign({},m);else{const{content:C,refusal:S,...O}=m;Object.assign(v.logprobs,O),C&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...C)),S&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...S))}if(d&&(v.finish_reason=d,J(this,At,"f")&&dy(J(this,At,"f")))){if(d==="length")throw new Hg;if(d==="content_filter")throw new qg}if(Object.assign(v,w),!c)continue;const{content:x,refusal:p,function_call:f,role:y,tool_calls:_,...k}=c;if(Object.assign(v.message,k),p&&(v.message.refusal=(v.message.refusal||"")+p),y&&(v.message.role=y),f&&(v.message.function_call?(f.name&&(v.message.function_call.name=f.name),f.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=f.arguments)):v.message.function_call=f),x&&(v.message.content=(v.message.content||"")+x,!v.message.refusal&&J(this,de,"m",_l).call(this)&&(v.message.parsed=sf(v.message.content))),_){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:C,id:S,type:O,function:T,...P}of _){const A=(a=v.message.tool_calls)[C]??(a[C]={});Object.assign(A,P),S&&(A.id=S),O&&(A.type=O),T&&(A.function??(A.function={name:T.name??"",arguments:""})),T!=null&&T.name&&(A.function.name=T.name),T!=null&&T.arguments&&(A.function.arguments+=T.arguments,Eb(J(this,At,"f"),A)&&(A.function.parsed_arguments=sf(A.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Rb(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...m})=>{if(!c)throw new F(`missing finish_reason for choice ${d}`);const{content:w=null,function_call:v,tool_calls:x,...p}=u,f=u.role;if(!f)throw new F(`missing role for choice ${d}`);if(v){const{arguments:y,name:_}=v;if(y==null)throw new F(`missing function_call.arguments for choice ${d}`);if(!_)throw new F(`missing function_call.name for choice ${d}`);return{...m,message:{content:w,function_call:{arguments:y,name:_},role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return x?{...m,index:d,finish_reason:c,logprobs:h,message:{...p,role:f,content:w,refusal:u.refusal??null,tool_calls:x.map((y,_)=>{const{function:k,type:C,id:S,...O}=y,{arguments:T,name:P,...A}=k||{};if(S==null)throw new F(`missing choices[${d}].tool_calls[${_}].id
${Qi(t)}`);if(C==null)throw new F(`missing choices[${d}].tool_calls[${_}].type
${Qi(t)}`);if(P==null)throw new F(`missing choices[${d}].tool_calls[${_}].function.name
${Qi(t)}`);if(T==null)throw new F(`missing choices[${d}].tool_calls[${_}].function.arguments
${Qi(t)}`);return{...O,id:S,type:C,function:{...A,name:P,arguments:T}}})}}:{...m,message:{...p,content:w,role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return kb(l,e)}function Qi(t){return JSON.stringify(t)}class Nr extends ii{static fromReadableStream(e){const n=new Nr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Nr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Nr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let Py=class extends V{parse(e,n){return Cb(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Wc(r,e))}runFunctions(e,n){return e.stream?Nr.runFunctions(this._client,e,n):si.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Nr.runTools(this._client,e,n):si.runTools(this._client,e,n)}stream(e,n){return ii.createChatCompletion(this._client,e,n)}},$u=class extends V{constructor(){super(...arguments),this.completions=new Py(this._client)}};(function(t){t.Completions=Py})($u||($u={}));class Ty extends V{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Vc extends V{constructor(){super(...arguments),this.sessions=new Ty(this._client)}}Vc.Sessions=Ty;var R=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ve=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},xe,Du,Pt,da,ht,$n,_r,Nn,Va,Je,ha,fa,Ds,ks,Ss,of,lf,uf,cf,df,hf,ff;class yt extends uy{constructor(){super(...arguments),xe.add(this),Du.set(this,[]),Pt.set(this,{}),da.set(this,{}),ht.set(this,void 0),$n.set(this,void 0),_r.set(this,void 0),Nn.set(this,void 0),Va.set(this,void 0),Je.set(this,void 0),ha.set(this,void 0),fa.set(this,void 0),Ds.set(this,void 0)}[(Du=new WeakMap,Pt=new WeakMap,da=new WeakMap,ht=new WeakMap,$n=new WeakMap,_r=new WeakMap,Nn=new WeakMap,Va=new WeakMap,Je=new WeakMap,ha=new WeakMap,fa=new WeakMap,Ds=new WeakMap,xe=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new yt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ot.fromReadableStream(e,this.controller);for await(const a of s)R(this,xe,"m",ks).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new gt;return this._addRun(R(this,xe,"m",Ss).call(this))}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const a=new yt;return a._run(()=>a._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,s,i){var u;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(n,r,o,{...i,signal:this.controller.signal});this._connected();for await(const c of l)R(this,xe,"m",ks).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new gt;return this._addRun(R(this,xe,"m",Ss).call(this))}static createThreadAssistantStream(e,n,r){const s=new yt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new yt;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,ha,"f")}currentRun(){return R(this,fa,"f")}currentMessageSnapshot(){return R(this,ht,"f")}currentRunStepSnapshot(){return R(this,Ds,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,Pt,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,da,"f"))}async finalRun(){if(await this.done(),!R(this,$n,"f"))throw Error("Final run was not received.");return R(this,$n,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)R(this,xe,"m",ks).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new gt;return this._addRun(R(this,xe,"m",Ss).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)R(this,xe,"m",ks).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new gt;return this._addRun(R(this,xe,"m",Ss).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(ml(i)&&ml(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!ml(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}ks=function(e){if(!this.ended)switch(Ve(this,ha,e,"f"),R(this,xe,"m",uf).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,xe,"m",ff).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,xe,"m",lf).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,xe,"m",of).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ss=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");if(!R(this,$n,"f"))throw Error("Final run has not been received");return R(this,$n,"f")},of=function(e){const[n,r]=R(this,xe,"m",df).call(this,e,R(this,ht,"f"));Ve(this,ht,n,"f"),R(this,da,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=R(this,_r,"f")){if(R(this,Nn,"f"))switch(R(this,Nn,"f").type){case"text":this._emit("textDone",R(this,Nn,"f").text,R(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",R(this,Nn,"f").image_file,R(this,ht,"f"));break}Ve(this,_r,s.index,"f")}Ve(this,Nn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,_r,"f")!==void 0){const s=e.data.content[R(this,_r,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,R(this,ht,"f"));break;case"text":this._emit("textDone",s.text,R(this,ht,"f"));break}}R(this,ht,"f")&&this._emit("messageDone",e.data),Ve(this,ht,void 0,"f")}},lf=function(e){const n=R(this,xe,"m",cf).call(this,e);switch(Ve(this,Ds,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==R(this,Va,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,Je,"f")&&this._emit("toolCallDone",R(this,Je,"f")),Ve(this,Va,i.index,"f"),Ve(this,Je,n.step_details.tool_calls[i.index],"f"),R(this,Je,"f")&&this._emit("toolCallCreated",R(this,Je,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ve(this,Ds,void 0,"f"),e.data.step_details.type=="tool_calls"&&R(this,Je,"f")&&(this._emit("toolCallDone",R(this,Je,"f")),Ve(this,Je,void 0,"f")),this._emit("runStepDone",e.data,n);break}},uf=function(e){R(this,Du,"f").push(e),this._emit("event",e)},cf=function(e){switch(e.event){case"thread.run.step.created":return R(this,Pt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=R(this,Pt,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=yt.accumulateDelta(n,r.delta);R(this,Pt,"f")[e.data.id]=s}return R(this,Pt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,Pt,"f")[e.data.id]=e.data;break}if(R(this,Pt,"f")[e.data.id])return R(this,Pt,"f")[e.data.id];throw new Error("No snapshot available")},df=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=R(this,xe,"m",hf).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},hf=function(e,n){return yt.accumulateDelta(n,e)},ff=function(e){switch(Ve(this,fa,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ve(this,$n,e.data,"f"),R(this,Je,"f")&&(this._emit("toolCallDone",R(this,Je,"f")),Ve(this,Je,void 0,"f"));break}};class Hc extends V{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return je(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,qc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class qc extends et{}Hc.MessagesPage=qc;class Jc extends V{retrieve(e,n,r,s={},i){return je(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return je(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Qc,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Qc extends et{}Jc.RunStepsPage=Qc;class vi extends V{constructor(){super(...arguments),this.steps=new Jc(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return je(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Gc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return yt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await mi(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return yt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return yt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class Gc extends et{}vi.RunsPage=Gc;vi.Steps=Jc;vi.RunStepsPage=Qc;class Gr extends V{constructor(){super(...arguments),this.runs=new vi(this._client),this.messages=new Hc(this._client)}create(e={},n){return je(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return yt.createThreadAssistantStream(e,this._client.beta.threads,n)}}Gr.Runs=vi;Gr.RunsPage=Gc;Gr.Messages=Hc;Gr.MessagesPage=qc;const Ab=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let Kc=class extends V{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return je(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,To,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await mi(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class To extends et{}Kc.VectorStoreFilesPage=To;class Oy extends V{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return je(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,To,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await mi(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(h){for(let m of h){const w=await o.files.create({file:m,purpose:"assistants"},s);u.push(w.id)}}const d=Array(a).fill(l).map(c);return await Ab(d),await this.createAndPoll(e,{file_ids:u})}}class Kr extends V{constructor(){super(...arguments),this.files=new Kc(this._client),this.fileBatches=new Oy(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/vector_stores",Yc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Yc extends et{}Kr.VectorStoresPage=Yc;Kr.Files=Kc;Kr.VectorStoreFilesPage=To;Kr.FileBatches=Oy;class xn extends V{constructor(){super(...arguments),this.realtime=new Vc(this._client),this.vectorStores=new Kr(this._client),this.chat=new $u(this._client),this.assistants=new zc(this._client),this.threads=new Gr(this._client)}}xn.Realtime=Vc;xn.VectorStores=Kr;xn.VectorStoresPage=Yc;xn.Assistants=zc;xn.AssistantsPage=Bc;xn.Threads=Gr;class jy extends V{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Ny extends V{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class Xc extends V{create(e,n){return this._client.post("/files",Br({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/files",Zc,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await mi(n),a=await this.retrieve(e),Date.now()-i>r)throw new Mc({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class Zc extends et{}Xc.FileObjectsPage=Zc;class ed extends V{list(e,n={},r){return je(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,td,{query:n,...r})}}class td extends et{}ed.FineTuningJobCheckpointsPage=td;class Yr extends V{constructor(){super(...arguments),this.checkpoints=new ed(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return je(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",nd,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return je(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,rd,{query:n,...r})}}class nd extends et{}class rd extends et{}Yr.FineTuningJobsPage=nd;Yr.FineTuningJobEventsPage=rd;Yr.Checkpoints=ed;Yr.FineTuningJobCheckpointsPage=td;class wi extends V{constructor(){super(...arguments),this.jobs=new Yr(this._client)}}wi.Jobs=Yr;wi.FineTuningJobsPage=nd;wi.FineTuningJobEventsPage=rd;class Ry extends V{createVariation(e,n){return this._client.post("/images/variations",Br({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Br({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class sd extends V{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",id,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class id extends _b{}sd.ModelsPage=id;class Ay extends V{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Iy extends V{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Br({body:n,...r}))}}class ad extends V{constructor(){super(...arguments),this.parts=new Iy(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}ad.Parts=Iy;var $y;class B extends ob{constructor({baseURL:e=Vi("OPENAI_BASE_URL"),apiKey:n=Vi("OPENAI_API_KEY"),organization:r=Vi("OPENAI_ORG_ID")??null,project:s=Vi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new F("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&vb())throw new F(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new jy(this),this.chat=new Po(this),this.embeddings=new Ny(this),this.files=new Xc(this),this.images=new Ry(this),this.audio=new gi(this),this.moderations=new Ay(this),this.models=new sd(this),this.fineTuning=new wi(this),this.beta=new xn(this),this.batches=new Fc(this),this.uploads=new ad(this),this._options=a,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return WS(e,{arrayFormat:"brackets"})}}$y=B;B.OpenAI=$y;B.DEFAULT_TIMEOUT=6e5;B.OpenAIError=F;B.APIError=be;B.APIConnectionError=xo;B.APIConnectionTimeoutError=Mc;B.APIUserAbortError=gt;B.NotFoundError=Ug;B.ConflictError=zg;B.RateLimitError=Wg;B.BadRequestError=Lg;B.AuthenticationError=Mg;B.InternalServerError=Vg;B.PermissionDeniedError=Fg;B.UnprocessableEntityError=Bg;B.toFile=Kg;B.fileFromPath=$g;B.Completions=jy;B.Chat=Po;B.ChatCompletionsPage=Co;B.Embeddings=Ny;B.Files=Xc;B.FileObjectsPage=Zc;B.Images=Ry;B.Audio=gi;B.Moderations=Ay;B.Models=sd;B.ModelsPage=id;B.FineTuning=wi;B.Beta=xn;B.Batches=Fc;B.BatchesPage=Uc;B.Uploads=ad;const pf=[{question:"What is a REST API?",answer:"A REST (Representational State Transfer) API is an architectural style for distributed systems. It uses HTTP methods like GET, POST, PUT, and DELETE to perform operations on resources. REST APIs are stateless, cacheable, and provide a standardized way for web services to communicate."},{question:"Explain Docker",answer:"Docker is a platform for developing, shipping, and running applications in containers. Containers package an application with all its dependencies, ensuring it works consistently across different environments. This makes deployment easier and more reliable."},{question:"What is CI/CD?",answer:"CI/CD (Continuous Integration/Continuous Deployment) is a software development practice where code changes are automatically built, tested, and deployed. CI ensures code quality through automated testing, while CD automates the deployment process, enabling faster and more reliable software delivery."},{question:"What is responsive design?",answer:"Responsive design is an approach to web design that makes web pages render well on different devices and window sizes. It uses fluid grids, flexible images, and CSS media queries to create a dynamic viewing experience that adapts to various screen sizes."},{question:"Explain CORS",answer:"CORS (Cross-Origin Resource Sharing) is a security feature implemented by browsers that controls how web pages in one domain can request and interact with resources from another domain. It helps prevent unauthorized cross-origin requests while allowing legitimate ones through specific HTTP headers."},{question:"What is microservices architecture?",answer:"Microservices architecture is a design approach where an application is built as a collection of small, independent services. Each service runs in its own process and communicates through well-defined APIs. This architecture enables better scalability, maintainability, and independent deployment of services."},{question:"Explain dependency injection",answer:"Dependency Injection is a design pattern where objects receive their dependencies from external sources rather than creating them internally. This promotes loose coupling, makes code more testable, and improves maintainability by separating object creation from business logic."},{question:"What is SQL vs NoSQL?",answer:"SQL databases are relational databases that use structured query language and predefined schemas (like MySQL, PostgreSQL). NoSQL databases are non-relational and offer flexible schemas (like MongoDB, Redis). SQL is better for complex queries and transactions, while NoSQL excels in handling large volumes of unstructured data and rapid changes."},{question:"Explain database indexing",answer:"Database indexing is a data structure technique that improves the speed of data retrieval operations by providing quick access to rows in a database table. It's similar to a book's index, allowing the database to find data without scanning the entire table."},{question:"What is XSS?",answer:"Cross-Site Scripting (XSS) is a security vulnerability that allows attackers to inject malicious scripts into web pages viewed by other users. It can be prevented by properly sanitizing user input, using content security policies, and encoding output data."},{question:"Explain JWT",answer:"JSON Web Tokens (JWT) are a compact, URL-safe means of representing claims between parties. They're often used for authentication and information exchange, containing encoded JSON data and a signature to verify authenticity. JWTs are stateless and can include user data directly in the token."},{question:"What is cloud computing?",answer:"Cloud computing is the delivery of computing services (including servers, storage, databases, networking, software) over the Internet. It offers benefits like scalability, cost-effectiveness, and flexibility, allowing businesses to pay only for the resources they use."},{question:"Explain serverless computing",answer:"Serverless computing is a cloud computing model where the cloud provider automatically manages the infrastructure. Developers just write and deploy code in the form of functions, without worrying about servers. It offers automatic scaling and pay-per-execution pricing."},{question:"What is deep learning?",answer:"Deep learning is a subset of machine learning that uses neural networks with multiple layers (deep neural networks) to analyze various factors of data. It's particularly powerful in tasks like image and speech recognition, natural language processing, and making predictions."},{question:"Explain neural networks",answer:"Neural networks are computing systems inspired by biological neural networks in human brains. They consist of interconnected nodes (neurons) organized in layers that can learn patterns from data. Neural networks are fundamental to modern AI and can solve complex problems in various domains."},{question:"What is Git?",answer:"Git is a distributed version control system that tracks changes in source code during software development. It allows multiple developers to work together, maintain different versions of code, and merge changes efficiently. Git helps in managing code history and collaborative development."},{question:"Explain branching in Git",answer:"Branching in Git allows developers to diverge from the main line of development and work independently without affecting the main codebase. It's useful for developing features, fixing bugs, or experimenting without risking the stability of the main code."},{question:"What is unit testing?",answer:"Unit testing is a software testing method where individual components or units of code are tested in isolation. It helps ensure that each part of the program works correctly independently. Unit tests are typically automated and run as part of the development process."},{question:"Explain TDD",answer:"Test-Driven Development (TDD) is a software development approach where tests are written before the actual code. The cycle includes writing a failing test, writing code to pass the test, and then refactoring. This ensures code quality and helps maintain clear requirements."},{question:"What is WebAssembly?",answer:"WebAssembly (Wasm) is a binary instruction format for stack-based virtual machines that enables high-performance execution of code in web browsers. It allows languages like C++ and Rust to run in the browser at near-native speed."},{question:"Explain Progressive Web Apps",answer:"Progressive Web Apps (PWAs) are web applications that provide a native app-like experience to users. They work offline, can be installed on devices, support push notifications, and offer fast performance while maintaining the reach and accessibility of web applications."},{question:"What is agile methodology?",answer:"Agile methodology is an iterative approach to project management and software development that emphasizes flexibility, customer feedback, and rapid delivery. It breaks projects into small increments called sprints, allowing for frequent reassessment and adaptation of plans."},{question:"Explain code review",answer:"Code review is a systematic examination of source code by team members to find and fix mistakes, improve code quality, and ensure adherence to coding standards. It's a crucial practice that helps maintain code quality, share knowledge, and catch potential issues early."},{question:"What is load balancing?",answer:"Load balancing is the process of distributing network traffic across multiple servers to ensure no single server bears too much demand. This helps in maintaining high availability and reliability by preventing any single point of failure."},{question:"Explain caching",answer:"Caching is a technique of storing frequently accessed data in a faster storage system (cache) to reduce database load and improve application performance. Common caching strategies include in-memory caching, browser caching, and CDN caching."}],Ib=new B({apiKey:"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",dangerouslyAllowBrowser:!0});function $b(t){const e=t.toLowerCase().trim(),n=pf.find(s=>s.question.toLowerCase()===e);if(n)return n.answer;const r=pf.filter(s=>s.question.toLowerCase().includes(e)||e.includes(s.question.toLowerCase()));return r.length>0?r[0].answer:null}async function Db(t){try{const e=$b(t);return e||(await Ib.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:t}],max_tokens:500})).choices[0].message.content||"I apologize, but I couldn't generate a response."}catch(e){return console.error("Error getting chat response:",e),"I apologize, but I'm having trouble processing your request. Please try again with a different question."}}async function Lb(t){try{const e={git:[{title:"Git Documentation",url:"https://git-scm.com/doc",description:"Official Git documentation with comprehensive guides and reference materials.",source:"git-scm.com"},{title:"GitHub Guides",url:"https://guides.github.com/",description:"Essential guides for using Git and GitHub effectively.",source:"GitHub"},{title:"Learn Git Branching",url:"https://learngitbranching.js.org/",description:"Interactive Git visualization tool for learning Git commands and workflows.",source:"learngitbranching.js.org"}],javascript:[{title:"MDN JavaScript Guide",url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide",description:"Comprehensive guide to JavaScript for both beginners and advanced developers.",source:"Mozilla Developer Network"},{title:"JavaScript.info",url:"https://javascript.info/",description:"Modern JavaScript tutorial with detailed explanations and practical examples.",source:"JavaScript.info"},{title:"V8 JavaScript Engine Blog",url:"https://v8.dev/blog",description:"Technical articles about JavaScript and V8 engine internals.",source:"V8 Dev"}],react:[{title:"React Documentation",url:"https://react.dev/",description:"Official React documentation with guides, API references, and best practices.",source:"React.dev"},{title:"React GitHub Repository",url:"https://github.com/facebook/react",description:"Official React source code and documentation on GitHub.",source:"GitHub"},{title:"React Blog",url:"https://react.dev/blog",description:"Official React blog with updates, releases, and technical articles.",source:"React Team"}]},n=t.toLowerCase();for(const[r,s]of Object.entries(e))if(n.includes(r))return s;return[{title:`${t} - Documentation and Resources`,url:`https://devdocs.io/${t.replace(/\s+/g,"-").toLowerCase()}`,description:`Comprehensive documentation and resources about ${t}.`,source:"DevDocs.io"},{title:`${t} - Stack Overflow`,url:`https://stackoverflow.com/questions/tagged/${t.replace(/\s+/g,"-").toLowerCase()}`,description:`Community questions and answers about ${t}.`,source:"Stack Overflow"},{title:`${t} - GitHub Topics`,url:`https://github.com/topics/${t.replace(/\s+/g,"-").toLowerCase()}`,description:`Open source projects and resources related to ${t}.`,source:"GitHub"}]}catch(e){return console.error("Error fetching web references:",e),[]}}async function Mb(t,e){try{if(!t||!e||e.length===0)return console.warn("Invalid data for saving chat history"),null;const n=e.filter(a=>!a.isBot),r=n.length>0?n[0].text.substring(0,30)+(n[0].text.length>30?"...":""):"New conversation",{data:s,error:i}=await Ht.from("user_chats").insert([{user_id:t,messages:e,title:r,updated_at:new Date().toISOString(),archived:!1}]).select();if(i)throw i;return s}catch(n){return console.error("Error saving chat history:",n),null}}async function Fb(t){try{if(!t)return console.warn("No user ID provided for fetching chat history"),[];const{data:e,error:n}=await Ht.from("user_chats").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(30);if(n)throw n;return e.map(r=>({id:r.id,title:r.title||"Untitled Chat",timestamp:r.created_at,messages:r.messages||[],archived:r.archived||!1}))}catch(e){return console.error("Error fetching chat history:",e),[]}}async function xl(t,e,n,r){try{if(!t||!e)return console.warn("Invalid data for updating chat history"),null;const s={messages:e,updated_at:new Date().toISOString()};n!==void 0&&(s.title=n),r!==void 0&&(s.archived=r);const{data:i,error:a}=await Ht.from("user_chats").update(s).eq("id",t).select();if(a)throw a;return i}catch(s){return console.error("Error updating chat history:",s),null}}async function Ub(t){try{if(!t)return console.warn("No chat ID provided for deletion"),!1;const{error:e}=await Ht.from("user_chats").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Error deleting chat:",e),!1}}function zb(){var Yn;const{user:t,signOut:e}=wo(),n=Rc(),[r,s]=b.useState([{id:"1",text:`Hello ${((Yn=t==null?void 0:t.user_metadata)==null?void 0:Yn.username)||"there"}! I'm your AI Assistant. How can I help you today?`,isBot:!0,timestamp:new Date}]),[i,a]=b.useState(""),[o,l]=b.useState(!1),[u,c]=b.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[d,h]=b.useState(!1),[m,w]=b.useState(!1),[v,x]=b.useState([]),[p,f]=b.useState(null),y=b.useRef(null),[_,k]=b.useState(!1),[C,S]=b.useState([]),[O,T]=b.useState(!1),[P,A]=b.useState("");b.useEffect(()=>{const I=()=>{const U=window.innerWidth<768;k(U),U?(h(!1),w(!1)):(h(!0),w(!0))};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),b.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[u]),b.useEffect(()=>{t&&we()},[t]);const we=async()=>{try{const I=await Fb(t.id);x(I||[])}catch(I){console.error("Error loading chat history:",I),x([])}},lt=()=>{var I;(I=y.current)==null||I.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{lt()},[r]);const kn=async I=>{T(!0),A(I);try{const U=await Lb(I);S(U)}catch(U){console.error("Error fetching web references:",U),S([])}finally{T(!1)}},Kn=async I=>{if(I.preventDefault(),!i.trim())return;const U={id:Date.now().toString(),text:i,isBot:!1,timestamp:new Date};s(G=>[...G,U]),a(""),l(!0),kn(i);try{const G=await Db(i),$e={id:(Date.now()+1).toString(),text:G,isBot:!0,timestamp:new Date},es=[...r,U,$e];if(s(es),t)if(p)await xl(p,es);else{const Oo=await Mb(t.id,es);Oo&&Oo[0]&&(f(Oo[0].id),await we())}}catch(G){console.error("Error getting response:",G);const $e={id:(Date.now()+1).toString(),text:"I'm sorry, I couldn't process your request. Please try again later.",isBot:!0,timestamp:new Date};s(es=>[...es,$e])}finally{l(!1)}},Xr=()=>{n("/logout")},Zr=(I,U)=>{if(f(I),U&&Array.isArray(U)){s(U);const G=U.find($e=>!$e.isBot);G?kn(G.text):(S([]),A(""))}_&&h(!1)},j=()=>{var I;f(null),s([{id:"1",text:`Hello ${((I=t==null?void 0:t.user_metadata)==null?void 0:I.username)||"there"}! I'm your AI Assistant. How can I help you today?`,isBot:!0,timestamp:new Date}]),S([]),A(""),_&&h(!1)},$=async I=>{try{await Ub(I)&&(x(G=>G.filter($e=>$e.id!==I)),I===p&&j())}catch(U){console.error("Error deleting chat:",U)}},D=async(I,U)=>{try{const G=v.find($e=>$e.id===I);G&&(await xl(I,G.messages,U),await we())}catch(G){console.error("Error renaming chat:",G)}},te=async(I,U)=>{try{const G=v.find($e=>$e.id===I);G&&(await xl(I,G.messages,G.title,U),await we(),U&&I===p&&j())}catch(G){console.error("Error archiving chat:",G)}},le=async I=>{try{const U=v.find(G=>G.id===I);if(U){const G=U.messages.map($e=>`${$e.isBot?"Assistant":"User"}: ${$e.text}`).join(`

`);navigator.share?await navigator.share({title:U.title||"Shared Chat",text:G}):(await navigator.clipboard.writeText(G),alert("Chat copied to clipboard!"))}}catch(U){console.error("Error sharing chat:",U)}},Sn=()=>{h(!d),_&&!d&&w(!1)},Rt=()=>{w(!m),_&&!m&&h(!1)};return g.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 p-0 md:p-4 flex flex-col transition-colors duration-200",children:[g.jsx(RS,{isOpen:d,onToggle:Sn,chatHistory:v,onSelectChat:Zr,currentChatId:p,onNewChat:j,onDeleteChat:$,onRenameChat:D,onArchiveChat:te,onShareChat:le,isMobile:_}),g.jsxs("div",{className:`max-w-6xl mx-auto w-full flex flex-col md:flex-row gap-0 md:gap-4 transition-all duration-300 ${d&&!_?"ml-0 md:ml-72":""}`,children:[g.jsxs("div",{className:"glass-effect dark:bg-gray-800/50 rounded-none md:rounded-2xl shadow-lg overflow-hidden flex-1 border border-gray-100 dark:border-gray-700",children:[g.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-4 md:p-6 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:Sn,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Toggle sidebar",children:d?g.jsx(gg,{className:"w-5 h-5 text-white"}):g.jsx(Xx,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[g.jsx("img",{src:"/ai-assistant-logo.svg",alt:"AI Assistant Logo",className:"w-6 h-6 md:w-8 md:h-8"}),g.jsx("h1",{className:"text-white text-lg md:text-2xl font-semibold",children:"AI Assistant"})]}),g.jsx("p",{className:"text-white/90 text-xs md:text-sm mt-1 md:mt-2 hidden md:block",children:"Powered by OpenAI - Ask me anything!"})]})]}),g.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[_&&g.jsx("button",{onClick:Rt,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Toggle web references",children:m?g.jsx(yg,{className:"w-5 h-5 text-white"}):g.jsx(mg,{className:"w-5 h-5 text-white"})}),g.jsx("button",{onClick:j,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"New chat",children:g.jsx(vg,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),g.jsx("button",{onClick:()=>c(!u),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Toggle theme",children:u?g.jsx(ik,{className:"w-4 h-4 md:w-5 md:h-5 text-white"}):g.jsx(ek,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),g.jsx("button",{onClick:Xr,className:"px-2 py-1 md:px-4 md:py-2 text-xs md:text-sm rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-white",children:"Sign Out"})]})]}),g.jsxs("div",{className:"h-[calc(100vh-200px)] md:h-[calc(100vh-300px)] overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 dark:bg-gray-900/50",children:[r.map((I,U)=>g.jsx(ck,{message:I,isTyping:o&&U===r.length-1&&I.isBot,isDark:u},I.id)),g.jsx("div",{ref:y})]}),g.jsx("form",{onSubmit:Kn,className:"p-4 md:p-6 border-t border-gray-100 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 backdrop-blur",children:g.jsxs("div",{className:"flex flex-col gap-2 md:gap-3",children:[g.jsxs("div",{className:"flex gap-2 md:gap-3",children:[g.jsx("input",{type:"text",value:i,onChange:I=>a(I.target.value),placeholder:"Ask your question...",className:"flex-1 px-4 py-3 text-sm md:text-base border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/80 dark:bg-gray-700/80 dark:text-white dark:placeholder-gray-400"}),g.jsx("button",{type:"submit",disabled:o,className:"px-4 py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:g.jsx(rk,{className:"w-5 h-5"})})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"AI Assistant can make mistakes. Consider checking important information."})]})})]}),g.jsx("div",{className:`${_?`fixed right-0 top-0 bottom-0 w-80 transform transition-transform duration-300 ${m?"translate-x-0":"translate-x-full"}`:"hidden md:block w-80"} glass-effect dark:bg-gray-800/50 rounded-2xl shadow-lg overflow-hidden border border-gray-100 dark:border-gray-700 h-[calc(100vh-2rem)]`,children:g.jsx(AS,{references:C,isLoading:O,query:P})})]})]})}function Bb(){const t=Rc(),{signOut:e}=wo(),[n,r]=qa.useState(!1);return b.useEffect(()=>{(async()=>{try{await e(),document.cookie.split(";").forEach(i=>{document.cookie=i.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),localStorage.clear(),r(!0),setTimeout(()=>t("/auth"),2e3)}catch(i){console.error("Logout error:",i),t("/auth")}})()},[e,t]),g.jsxs("div",{className:"min-h-screen mesh-background dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsxs("div",{className:"absolute -inset-[10px] opacity-50",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute top-1/4 left-1/4 w-[300px] h-[300px] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl animate-pulse delay-700"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-gradient-to-r from-indigo-500/25 to-purple-500/25 rounded-full blur-2xl animate-pulse delay-500"})]})}),g.jsxs("div",{className:"max-w-md w-full glass-effect dark:bg-gray-800/50 rounded-2xl shadow-lg p-8 text-center relative z-10 backdrop-blur-lg border border-gray-100 dark:border-gray-700",children:[g.jsx("div",{className:"relative mb-6",children:n?g.jsx("div",{className:"w-20 h-20 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:g.jsx(Hx,{className:"w-10 h-10 text-green-500"})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}),g.jsx("div",{className:"w-20 h-20 mx-auto bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:g.jsx(Kx,{className:"w-10 h-10 text-purple-500"})})]})}),g.jsx("h1",{className:`text-2xl font-bold text-gray-800 dark:text-white mb-2 transition-all duration-500 ${n?"opacity-100":"opacity-80"}`,children:n?"Successfully Signed Out!":"Signing Out..."}),g.jsx("p",{className:`text-gray-600 dark:text-gray-400 transition-all duration-500 ${n?"opacity-100":"opacity-80"}`,children:n?"Thank you for using our AI Assistant. See you again soon!":"Please wait while we securely log you out..."}),n&&g.jsxs("div",{className:"mt-6 animate-fade-in",children:[g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting you to the login page..."}),g.jsx("div",{className:"mt-4",children:g.jsx("button",{onClick:()=>t("/auth"),className:"px-6 py-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-all duration-200 text-sm",children:"Back to Login"})})]})]})]})}function Wb(){return g.jsx(t_,{children:g.jsx(Mx,{children:g.jsxs(Xw,{children:[g.jsx(oa,{path:"/auth",element:g.jsx(uk,{})}),g.jsx(oa,{path:"/logout",element:g.jsx(Bb,{})}),g.jsx(oa,{path:"/",element:g.jsx(zb,{})})]})})})}Tm(document.getElementById("root")).render(g.jsx(b.StrictMode,{children:g.jsx(Wb,{})}));export{mf as g};
